import{r as h,c as n,f as l,h as e,g as m}from"./preview-DCVLKaKI.js";import{X as d,Y as i,i as u}from"./index-d8f69946-BCwO_Tje.js";import"./v4-CQkTLCs1.js";import"./index.es-CXAHyUQd.js";import"./iframe-ttfTBa3o.js";import"../sb-preview/runtime.js";const o=["info","warning","success","danger"],r=["bar-left","background"],f=".mg-c-alert__close-button{position:absolute;top:0;right:0}.mg-c-alert.mg-c-alert--close-button{--mg-c-card-spacing:0 var(--mg-b-size-min-height) 0 0}",g=f,v=class{constructor(t){h(this,t),this.componentShow=n(this,"component-show",7),this.componentHide=n(this,"component-hide",7),this.classCloseButton="mg-c-alert--close-button",this.storedTimer=null,this.isFocused=!1,this.isHovered=!1,this.setTimer=()=>{this.storedTimer=setTimeout(()=>this.element.hidden=!0,this.delay*1e3)},this.clearTimer=()=>{clearTimeout(this.storedTimer)},this.timerEvents=s=>{this.clearTimer();const a=s.type==="mouseenter";this[a?"isHovered":"isFocused"]=!0,this.element.addEventListener(a?"mouseleave":"focusout",c=>{this[c.type==="mouseleave"?"isHovered":"isFocused"]=!1,!this.isFocused&&!this.isHovered&&this.setTimer()},{once:!0})},this.handleClose=()=>{this.element.hidden=!0},this.delay=void 0,this.variant=void 0,this.variantStyle=void 0,this.classCollection=new d(["mg-c-alert"]),this.hasActions=!1}watchDelay(t){if(t!==void 0&&t<2)throw new Error(`<mg-alert> prop "delay" must be greater than 2 seconds. Passed value: ${i(t)}.`)}watchVariant(t){if(t&&!o.includes(t))throw new Error(`<mg-alert> prop "variant" must be one of: ${o.join(", ")}. Passed value: ${i(t)}.`)}watchVariantStyle(t){if(t&&!r.includes(t))throw new Error(`<mg-alert> prop "variantStyle" must be one of: ${r.join(", ")}. Passed value: ${i(t)}.`)}watchHidden(t){typeof t=="string"&&t===""&&(t=!0),t?(this.componentHide.emit(),["focusin","mouseenter"].forEach(s=>{this.element.removeEventListener(s,this.timerEvents)}),this.clearTimer()):(this.componentShow.emit(),this.delay>1&&(this.setTimer(),["focusin","mouseenter"].forEach(s=>{this.element.addEventListener(s,this.timerEvents)}))),l(this)}componentWillLoad(){this.messages=u(this.element).messages,this.watchVariant(this.variant),this.watchVariantStyle(this.variantStyle),this.watchDelay(this.delay),this.watchHidden(this.element.hidden),this.hasActions=this.element.querySelector('[slot="actions"]')!==null,this.hasActions||this.classCollection.add(this.classCloseButton)}render(){return e("mg-message",{key:"4023a825a33246b23dcacc322f7c35f14823f8ef",class:this.classCollection.join(),role:this.variant==="info"?"status":"alert",variant:this.variant,variantStyle:this.variantStyle},e("slot",{key:"cd1c9204c3a325d476cab4f1ce762bdd3662b074"}),this.hasActions?e("span",{slot:"actions"},e("slot",{name:"actions"})):e("span",{class:"mg-c-alert__close-button"},e("mg-button",{"is-icon":!0,variant:"flat",label:this.messages.alert.closeButton,onClick:this.handleClose},e("mg-icon",{icon:"cross"}))))}get element(){return m(this)}static get watchers(){return{delay:["watchDelay"],variant:["watchVariant"],variantStyle:["watchVariantStyle"],hidden:["watchHidden"]}}};v.style=g;export{v as mg_alert};
