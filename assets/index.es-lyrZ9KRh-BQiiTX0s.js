var A=Object.defineProperty,d=t=>{throw TypeError(t)},S=(t,e,s)=>e in t?A(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,n=(t,e,s)=>S(t,typeof e!="symbol"?e+"":e,s),v=(t,e,s)=>e.has(t)||d("Cannot "+s),l=(t,e,s)=>(v(t,e,"read from private field"),s?s.call(t):e.get(t)),f=(t,e,s)=>e.has(t)?d("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),p=(t,e,s,r)=>(v(t,e,"write to private field"),e.set(t,s),s);const I=t=>t.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(e,s)=>(s>0?"-":"")+e.toLowerCase()).replace(/[^a-z0-9-]+/g,"-").replace(/--+/g,"-").replace(/(?:^-)|(?:-$)/g,""),Z=(t="",e=10)=>{const s=new Uint8Array(e);crypto.getRandomValues(s);const r=Array.from(s).map(i=>i.toString(16).padStart(2,"0")).join("").slice(0,e);return t!==""?`${t}-${r}`:r},V=t=>F(t)&&/^([a-z][a-z0-9]*)(-[a-z0-9]+)*$/.exec(t)!==null,R=t=>{let e;return typeof t=="string"?e=t:t&&(h(t)||Array.isArray(t))?e=JSON.stringify(t):t!=null&&typeof t!="boolean"&&(e=String(t)),e&&I(e)};class U{constructor(e=[]){n(this,"classes"),n(this,"add",s=>{this.has(s)||this.classes.push(s)}),n(this,"delete",s=>{const r=this.classes.indexOf(s);r>-1&&this.classes.splice(r,1)}),n(this,"has",s=>this.classes.includes(s)),n(this,"join",()=>this.classes.join(" ")),this.classes=e}}const W=t=>Array.isArray(t)&&t.every(e=>typeof e=="string"),X=(t,e)=>e.includes(t==null?void 0:t.tagName.toLowerCase()),q='a[href], button, input, textarea, select, details, [tabindex]:not([tabindex="-1"]), [identifier], mg-button',B=t=>{const e=b(t),s=w(t);return[t,...e,...s]},b=(t,e=[])=>{if(t.self!==t.top)try{const s=t.parent;return s?(e.push(s),b(s,e)):e}catch(s){return console.error("Different hosts between iframes:",s),e}return e},w=(t,e=[])=>{if(t.frames.length>0)for(const s of Array.from(t.frames))e.push(s),w(s,e);return e},F=t=>typeof t=="string"&&t.trim()!=="",G=t=>typeof t=="object"?JSON.stringify(t):`${t}`,H=t=>typeof t=="number"&&!Number.isNaN(t),K=t=>typeof t=="string"?t.toLocaleLowerCase().normalize("NFD").replaceAll(/[\u0300-\u036f]/g,""):t,M=async t=>{if(t)return t()},h=t=>typeof t=="object"&&!Array.isArray(t)&&t!==null,D=(t,e,s)=>{const r=".";if(!h(t)||typeof e!="string")return s;const[i,...a]=e.split(r);return a.length?D(t[i],a.join(r)):t[i]},Q={FIRST:"first",NEXT:"next",PREVIOUS:"previous",LAST:"last"},x=10;class k{constructor(e){if(n(this,"items",[]),n(this,"total"),n(this,"top",x),n(this,"next"),n(this,"baseIndex",1),n(this,"getIndexFromCursor",(s="first",r)=>{if(!Array.isArray(this.items)||!this.items.length)return null;const i=this.items.length-this.baseIndex;let a=0,o=0;if(["previous","next"].includes(s)&&r){const y=this.items.findIndex(O=>JSON.stringify(O)===JSON.stringify(r));if(y===-1)return 0;o=y}return s==="first"?a=0:s==="last"?a=i:s==="previous"?a=JSON.stringify(this.items[o])===JSON.stringify(this.items[0])?i:o-this.baseIndex:s==="next"&&(a=JSON.stringify(this.items[o])===JSON.stringify(this.items[i])?0:o+this.baseIndex),a}),h(e))Array.isArray(e.items)&&(this.items=e.items),typeof e.top=="number"&&(this.top=e.top),this.total=typeof e.total=="number"?e.total:this.items.length,this.next=e.next;else throw new Error("Page - init must match IPage type.")}}var u,c,m;class Y{constructor(e,s){n(this,"items",[]),f(this,u,x),f(this,c),f(this,m),n(this,"getPage",(r=0,i)=>{const a=typeof i=="function"?this.items.filter(i):this.items;let o;return l(this,c)?o=l(this,c):a.length>r+l(this,u)&&(o=()=>this.getPage(r+l(this,u),i)),new k({items:a.slice(r,r+l(this,u)),total:l(this,m),top:l(this,u),next:o})}),Array.isArray(e)&&(this.items=e),s&&(["string","function"].includes(typeof s.next)||h(s.next)&&URL.canParse(s.next))&&p(this,c,s.next),typeof(s==null?void 0:s.top)=="number"&&p(this,u,s.top),typeof(s==null?void 0:s.total)=="number"&&p(this,m,s.total)}}u=new WeakMap,c=new WeakMap,m=new WeakMap;var J=Object.defineProperty,P=(t,e)=>{for(var s in e)J(t,s,{get:e[s],enumerable:!0})},j={};P(j,{err:()=>N,map:()=>C,ok:()=>g,unwrap:()=>E,unwrapErr:()=>$});var g=t=>({isOk:!0,isErr:!1,value:t}),N=t=>({isOk:!1,isErr:!0,value:t});function C(t,e){if(t.isOk){const s=e(t.value);return s instanceof Promise?s.then(r=>g(r)):g(s)}if(t.isErr){const s=t.value;return N(s)}throw"should never get here"}var E=t=>{if(t.isOk)return t.value;throw t.value},$=t=>{if(t.isErr)return t.value;throw t.value};const _=t=>{const e={value:"2023",pattern:"yyyy"},s={value:"12",pattern:"mm"},r={value:"24",pattern:"dd"};return z([e.value,s.value,r.value].join("-"),t,{timeZone:"UTC"}).replace(e.value,e.pattern).replace(s.value,s.pattern).replace(r.value,r.pattern)},tt=t=>t.toISOString().split("T")[0],L=(t,e,s)=>{const r=t.closest("[lang]"),i=Intl.NumberFormat.supportedLocalesOf(r==null?void 0:r.lang),a=i.length>0&&typeof i[0]=="string"?i[0]:navigator.language||s,o=a.split("-").shift();return Object.keys(e).length===0?{locale:a,messages:{lang:s}}:{locale:a,messages:e[o]||e[s]||{lang:s}}},et=(t,e,s)=>new Intl.NumberFormat(e,{style:"currency",currency:s}).format(t),st=(t,e,s=0)=>new Intl.NumberFormat(e,{minimumFractionDigits:s}).format(Number(t)),rt=(t,e,s=0)=>new Intl.NumberFormat(e,{style:"percent",minimumFractionDigits:s,maximumFractionDigits:s}).format(t),it=(t,e,s,r="short",i=0)=>new Intl.NumberFormat(e,{style:"unit",unit:s,unitDisplay:r,minimumFractionDigits:i,maximumFractionDigits:i}).format(t),T=/^\d{4}-(0[1-9]|1[0-2])-(0[1-9]|[12]\d|3[01])$/,z=(t,e,s)=>typeof t!="string"||t===""||!T.test(t)?"":new Intl.DateTimeFormat(e,s).format(new Date(t)),at=(t,e)=>s=>L(s,t,e);export{rt as $,V as B,Z as D,D as G,R as H,k as J,h as K,T as P,H as Q,K as V,q as X,G as Y,z as Z,W as a,F as b,X as c,it as d,M as e,_ as f,st as g,at as h,B as i,et as p,U as q,Y as r,Q as t,tt as u};
