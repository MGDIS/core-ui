var I=Object.defineProperty,v=t=>{throw TypeError(t)},F=(t,s,e)=>s in t?I(t,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[s]=e,n=(t,s,e)=>F(t,typeof s!="symbol"?s+"":s,e),d=(t,s,e)=>s.has(t)||v("Cannot "+e),l=(t,s,e)=>(d(t,s,"read from private field"),e?e.call(t):s.get(t)),h=(t,s,e)=>s.has(t)?v("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(t):s.set(t,e),f=(t,s,e,r)=>(d(t,s,"write to private field"),s.set(t,e),e);const W=(t="",s=10)=>{const e=new Uint8Array(s);crypto.getRandomValues(e);const r=Array.from(e).map(i=>i.toString(16).padStart(2,"0")).join("").slice(0,s);return t!==""?`${t}-${r}`:r},$=t=>S(t)&&/^([a-z][a-z0-9]*)(-[a-z0-9]+)*$/.exec(t)!==null;class z{constructor(s=[]){n(this,"classes"),n(this,"add",e=>{this.has(e)||this.classes.push(e)}),n(this,"delete",e=>{const r=this.classes.indexOf(e);r>-1&&this.classes.splice(r,1)}),n(this,"has",e=>this.classes.includes(e)),n(this,"join",()=>this.classes.join(" ")),this.classes=s}}const M=t=>Array.isArray(t)&&t.every(s=>typeof s=="string"),R=(t,s)=>s.includes(t==null?void 0:t.tagName.toLowerCase()),V='a[href], button, input, textarea, select, details, [tabindex]:not([tabindex="-1"]), [identifier], mg-button',Z=t=>{const s=b(t),e=w(t);return[t,...s,...e]},b=(t,s=[])=>{if(t.self!==t.top)try{const e=t.parent;return e?(s.push(e),b(e,s)):s}catch(e){return console.error("Different hosts between iframes:",e),s}return s},w=(t,s=[])=>{if(t.frames.length>0)for(const e of Array.from(t.frames))s.push(e),w(e,s);return s},S=t=>typeof t=="string"&&t.trim()!=="",q=t=>typeof t=="object"?JSON.stringify(t):`${t}`,B=t=>typeof t=="number"&&!Number.isNaN(t),G=t=>typeof t=="string"?t.toLocaleLowerCase().normalize("NFD").replaceAll(/[\u0300-\u036f]/g,""):t,H=async t=>{if(t)return t()},y=t=>typeof t=="object"&&!Array.isArray(t)&&t!==null,A=(t,s,e)=>{const r=".";if(!y(t)||typeof s!="string")return e;const[i,...a]=s.split(r);return a.length?A(t[i],a.join(r)):t[i]},K={FIRST:"first",NEXT:"next",PREVIOUS:"previous",LAST:"last"},x=10;class D{constructor(s){if(n(this,"items",[]),n(this,"total"),n(this,"top",x),n(this,"next"),n(this,"baseIndex",1),n(this,"getIndexFromCursor",(e="first",r)=>{if(!Array.isArray(this.items)||!this.items.length)return null;const i=this.items.length-this.baseIndex;let a=0,o=0;if(["previous","next"].includes(e)&&r){const g=this.items.findIndex(O=>JSON.stringify(O)===JSON.stringify(r));if(g===-1)return 0;o=g}return e==="first"?a=0:e==="last"?a=i:e==="previous"?a=JSON.stringify(this.items[o])===JSON.stringify(this.items[0])?i:o-this.baseIndex:e==="next"&&(a=JSON.stringify(this.items[o])===JSON.stringify(this.items[i])?0:o+this.baseIndex),a}),y(s))Array.isArray(s.items)&&(this.items=s.items),typeof s.top=="number"&&(this.top=s.top),this.total=typeof s.total=="number"?s.total:this.items.length,this.next=s.next;else throw new Error("Page - init must match IPage type.")}}var u,m,c;class X{constructor(s,e){n(this,"items",[]),h(this,u,x),h(this,m),h(this,c),n(this,"getPage",(r=0,i)=>{const a=typeof i=="function"?this.items.filter(i):this.items;let o;return l(this,m)?o=l(this,m):a.length>r+l(this,u)&&(o=()=>this.getPage(r+l(this,u),i)),new D({items:a.slice(r,r+l(this,u)),total:l(this,c),top:l(this,u),next:o})}),Array.isArray(s)&&(this.items=s),e&&(["string","function"].includes(typeof e.next)||y(e.next)&&URL.canParse(e.next))&&f(this,m,e.next),typeof(e==null?void 0:e.top)=="number"&&f(this,u,e.top),typeof(e==null?void 0:e.total)=="number"&&f(this,c,e.total)}}u=new WeakMap,m=new WeakMap,c=new WeakMap;var j=Object.defineProperty,P=(t,s)=>{for(var e in s)j(t,e,{get:s[e],enumerable:!0})},k={};P(k,{err:()=>N,map:()=>E,ok:()=>p,unwrap:()=>J,unwrapErr:()=>L});var p=t=>({isOk:!0,isErr:!1,value:t}),N=t=>({isOk:!1,isErr:!0,value:t});function E(t,s){if(t.isOk){const e=s(t.value);return e instanceof Promise?e.then(r=>p(r)):p(e)}if(t.isErr){const e=t.value;return N(e)}throw"should never get here"}var J=t=>{if(t.isOk)return t.value;throw t.value},L=t=>{if(t.isErr)return t.value;throw t.value};const Y=t=>{const s={value:"2023",pattern:"yyyy"},e={value:"12",pattern:"mm"},r={value:"24",pattern:"dd"};return C([s.value,e.value,r.value].join("-"),t,{timeZone:"UTC"}).replace(s.value,s.pattern).replace(e.value,e.pattern).replace(r.value,r.pattern)},Q=t=>t.toISOString().split("T")[0],U=(t,s,e)=>{const r=t.closest("[lang]"),i=Intl.NumberFormat.supportedLocalesOf(r==null?void 0:r.lang),a=i.length>0&&typeof i[0]=="string"?i[0]:navigator.language||e,o=a.split("-").shift();return Object.keys(s).length===0?{locale:a,messages:{lang:e}}:{locale:a,messages:s[o]||s[e]||{lang:e}}},_=(t,s,e)=>new Intl.NumberFormat(s,{style:"currency",currency:e}).format(t),tt=(t,s,e=0)=>new Intl.NumberFormat(s,{minimumFractionDigits:e}).format(Number(t)),et=(t,s,e=0)=>new Intl.NumberFormat(s,{style:"percent",minimumFractionDigits:e,maximumFractionDigits:e}).format(t),st=(t,s,e,r="short",i=0)=>new Intl.NumberFormat(s,{style:"unit",unit:e,unitDisplay:r,minimumFractionDigits:i,maximumFractionDigits:i}).format(t),T=/^\d{4}-(0[1-9]|1[0-2])-(0[1-9]|[12]\d|3[01])$/,C=(t,s,e)=>typeof t!="string"||t===""||!T.test(t)?"":new Intl.DateTimeFormat(s,e).format(new Date(t)),rt=(t,s)=>e=>U(e,t,s);export{Z as B,M as D,C as F,q as G,D as H,G as J,K,T as L,W as P,$ as U,B as W,H as X,X as Y,z as Z,S as a,R as b,Q as c,Y as d,et as e,st as f,V as g,y as i,tt as l,_ as o,A as q,rt as u};
