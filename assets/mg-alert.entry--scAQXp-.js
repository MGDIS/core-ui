import{r as h,c as i,a as l,h as e,g as m}from"./iframe-DhmMUokk.js";import{C as d,t as a}from"./index-WtiuOkLj-C6DxXKrY.js";import{i as u}from"./index-CNX6lq0x-CqaQyRKq.js";import"./preload-helper-PPVm8Dsz.js";const n=["info","warning","success","danger"],r=["bar-left","background"],f=".mg-c-alert__close-button{position:absolute;top:0;right:0}.mg-c-alert.mg-c-alert--close-button{--mg-c-card-spacing:0 var(--mg-b-size-min-height) 0 0}",g=class{constructor(t){h(this,t),this.componentShow=i(this,"component-show",3),this.componentHide=i(this,"component-hide",3),this.componentClose=i(this,"component-close",3),this.classCloseButton="mg-c-alert--close-button",this.storedTimer=null,this.isFocused=!1,this.isHovered=!1,this.variant="info",this.variantStyle="bar-left",this.classCollection=new d(["mg-c-alert"]),this.hasActions=!1,this.setTimer=()=>{this.storedTimer=setTimeout(()=>this.element.hidden=!0,this.delay*1e3)},this.clearTimer=()=>{clearTimeout(this.storedTimer)},this.timerEvents=s=>{this.clearTimer();const o=s.type==="mouseenter";this[o?"isHovered":"isFocused"]=!0,this.element.addEventListener(o?"mouseleave":"focusout",c=>{this[c.type==="mouseleave"?"isHovered":"isFocused"]=!1,!this.isFocused&&!this.isHovered&&this.setTimer()},{once:!0})},this.handleClose=()=>{this.element.hidden=!0,this.componentClose.emit()}}watchDelay(t){if(t!==void 0&&t<2)throw new Error(`<mg-alert> prop "delay" must be greater than 2 seconds. Passed value: ${a(t)}.`)}watchVariant(t){if(t&&!n.includes(t))throw new Error(`<mg-alert> prop "variant" must be one of: ${n.join(", ")}. Passed value: ${a(t)}.`)}watchVariantStyle(t){if(t&&!r.includes(t))throw new Error(`<mg-alert> prop "variantStyle" must be one of: ${r.join(", ")}. Passed value: ${a(t)}.`)}watchHidden(t){typeof t=="string"&&t===""&&(t=!0),t?(this.componentHide.emit(),["focusin","mouseenter"].forEach(s=>{this.element.removeEventListener(s,this.timerEvents)}),this.clearTimer()):(this.componentShow.emit(),this.delay>1&&(this.setTimer(),["focusin","mouseenter"].forEach(s=>{this.element.addEventListener(s,this.timerEvents)}))),l(this)}componentWillLoad(){this.messages=u(this.element).messages,this.watchVariant(this.variant),this.watchVariantStyle(this.variantStyle),this.watchDelay(this.delay),this.watchHidden(this.element.hidden),this.hasActions=this.element.querySelector('[slot="actions"]')!==null,this.hasActions||this.classCollection.add(this.classCloseButton)}render(){return e("mg-message",{key:"626afcfe4c86dacff9860d2515827ae5aa6b7234",class:this.classCollection.join(),role:["info","success"].includes(this.variant)?"status":"alert",variant:this.variant,variantStyle:this.variantStyle},e("slot",{key:"bc7d72c21dcf36c9012e144253ce2b3c6ebc14ed"}),this.hasActions?e("span",{slot:"actions"},e("slot",{name:"actions"})):e("span",{class:"mg-c-alert__close-button"},e("mg-button",{"is-icon":!0,variant:"flat",label:this.messages.alert.closeButton,onClick:this.handleClose},e("mg-icon",{icon:"cross"}))))}get element(){return m(this)}static get watchers(){return{delay:["watchDelay"],variant:["watchVariant"],variantStyle:["watchVariantStyle"],hidden:["watchHidden"]}}};g.style=f;export{g as mg_alert};
