import{r as d,h as i,g as n}from"./iframe-D0BQJm5n.js";import{C as r,i as l}from"./index-C7xjtdiw-i2s6seYr.js";import{c as a}from"./mg-input.conf-DDnrE1hD-k6O0JpRm.js";import"./preload-helper-PPVm8Dsz.js";const p=class{constructor(e){d(this,e),this.name=this.identifier,this.legendHide=!1,this.legendBorderDisplay=!1,this.readonly=!1,this.disabled=!1,this.classCollection=new r(["mg-c-input--fieldset"]),this.checkValidity=()=>{var t;this.valid=!(this.mgInputs.some(s=>s.invalid)||((t=this.errorMessage)===null||t===void 0?void 0:t.length)>0)},this.setMgInputs=()=>{this.mgInputs=Array.from(this.element.querySelectorAll("*")).filter(t=>t.nodeName.startsWith("MG-INPUT")),this.mgInputs.forEach(t=>{this.readonly?t.readonly=!0:this.disabled?t.disabled=!0:t.addEventListener("input-valid",this.checkValidity)})}}watchLegendBorderDisplay(e){if(e&&!l(this.legendHeading))throw new Error('<mg-fieldset> prop "legendBorderDisplay" must not be paired with the prop "legendHeading".')}watchReadonly(e){e?this.classCollection.add(a):this.classCollection.delete(a)}handleAttributeChange(){this.setMgInputs()}async setCustomValidity(e){l(e)?this.errorMessage=e:this.errorMessage=void 0,this.checkValidity()}async displayError(){this.readonly||this.mgInputs.forEach(e=>{e.displayError()})}componentWillLoad(){this.watchReadonly(this.readonly),this.watchLegendBorderDisplay(this.legendBorderDisplay),this.setMgInputs()}componentDidLoad(){const e={childList:!0,subtree:!0};new MutationObserver(t=>{t.some(s=>Object.keys(e).includes(s.type))&&this.setMgInputs()}).observe(this.element,e)}render(){return i("mg-input",{key:"b8b7c203bb2ed22cc9344389af5a6ae8d85af6d5",label:this.legend,identifier:this.identifier,class:this.classCollection.join(),labelOnTop:!this.legendHide,labelHeading:this.legendHeading,labelBorderDisplay:this.legendHeading&&this.legendBorderDisplay,labelHide:this.legendHide,inputsOnBottom:this.legendHeading!==void 0,tooltip:this.tooltip,tooltipPosition:"label",helpText:this.helpText,errorMessage:!this.valid&&l(this.errorMessage)?this.errorMessage:void 0},i("span",{key:"c0e7480b14b0a8e136dd951bdce7275b65b59b48",class:"mg-c-input__input-group"},i("slot",{key:"021e7b126cef9437e64622d8ef59219b09c06e9f"})))}get element(){return n(this)}static get watchers(){return{legendBorderDisplay:["watchLegendBorderDisplay"],readonly:["watchReadonly","handleAttributeChange"],disabled:["handleAttributeChange"]}}};export{p as mg_fieldset};
