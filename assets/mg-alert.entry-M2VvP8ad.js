import{r as c,c as i,f as l,h as e,g as m}from"./preview-C8fARhRf.js";import{C as d,t as a}from"./index-Dr7GYvIz-St6QwWly.js";import{i as u}from"./index-CwZ2wzxw-CvoE18o9.js";import"./v4-CtRu48qb.js";import"./index-Ddciy6Nl.js";import"./iframe-0c-6m88I.js";const n=["info","warning","success","danger"],r=["bar-left","background"],f=".mg-c-alert__close-button{position:absolute;top:0;right:0}.mg-c-alert.mg-c-alert--close-button{--mg-c-card-spacing:0 var(--mg-b-size-min-height) 0 0}",g=class{constructor(t){c(this,t),this.componentShow=i(this,"component-show"),this.componentHide=i(this,"component-hide"),this.componentClose=i(this,"component-close"),this.classCloseButton="mg-c-alert--close-button",this.storedTimer=null,this.isFocused=!1,this.isHovered=!1,this.variant="info",this.variantStyle="bar-left",this.classCollection=new d(["mg-c-alert"]),this.hasActions=!1,this.setTimer=()=>{this.storedTimer=setTimeout(()=>this.element.hidden=!0,this.delay*1e3)},this.clearTimer=()=>{clearTimeout(this.storedTimer)},this.timerEvents=s=>{this.clearTimer();const o=s.type==="mouseenter";this[o?"isHovered":"isFocused"]=!0,this.element.addEventListener(o?"mouseleave":"focusout",h=>{this[h.type==="mouseleave"?"isHovered":"isFocused"]=!1,!this.isFocused&&!this.isHovered&&this.setTimer()},{once:!0})},this.handleClose=()=>{this.element.hidden=!0,this.componentClose.emit()}}watchDelay(t){if(t!==void 0&&t<2)throw new Error(`<mg-alert> prop "delay" must be greater than 2 seconds. Passed value: ${a(t)}.`)}watchVariant(t){if(t&&!n.includes(t))throw new Error(`<mg-alert> prop "variant" must be one of: ${n.join(", ")}. Passed value: ${a(t)}.`)}watchVariantStyle(t){if(t&&!r.includes(t))throw new Error(`<mg-alert> prop "variantStyle" must be one of: ${r.join(", ")}. Passed value: ${a(t)}.`)}watchHidden(t){typeof t=="string"&&t===""&&(t=!0),t?(this.componentHide.emit(),["focusin","mouseenter"].forEach(s=>{this.element.removeEventListener(s,this.timerEvents)}),this.clearTimer()):(this.componentShow.emit(),this.delay>1&&(this.setTimer(),["focusin","mouseenter"].forEach(s=>{this.element.addEventListener(s,this.timerEvents)}))),l(this)}componentWillLoad(){this.messages=u(this.element).messages,this.watchVariant(this.variant),this.watchVariantStyle(this.variantStyle),this.watchDelay(this.delay),this.watchHidden(this.element.hidden),this.hasActions=this.element.querySelector('[slot="actions"]')!==null,this.hasActions||this.classCollection.add(this.classCloseButton)}render(){return e("mg-message",{key:"12216af414367fc3eea31cffb2d7e38c724038a3",class:this.classCollection.join(),role:["info","success"].includes(this.variant)?"status":"alert",variant:this.variant,variantStyle:this.variantStyle},e("slot",{key:"bdab00611363a879e8d2bd23442e62ab5e7238e3"}),this.hasActions?e("span",{slot:"actions"},e("slot",{name:"actions"})):e("span",{class:"mg-c-alert__close-button"},e("mg-button",{"is-icon":!0,variant:"flat",label:this.messages.alert.closeButton,onClick:this.handleClose},e("mg-icon",{icon:"cross"}))))}get element(){return m(this)}static get watchers(){return{delay:["watchDelay"],variant:["watchVariant"],variantStyle:["watchVariantStyle"],hidden:["watchHidden"]}}};g.style=f;export{g as mg_alert};
