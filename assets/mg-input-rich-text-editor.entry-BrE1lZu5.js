var hd=Object.defineProperty;var dd=(e,t,n)=>t in e?hd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var C=(e,t,n)=>dd(e,typeof t!="symbol"?t+"":t,n);import{r as pd,c as Ea,h as Bi,g as gd}from"./preview-Cq-7ati_.js";import{k as El,L as In,z as Ta}from"./index.es-DDBtzymI-CJpSM3xv.js";import{a as Na,b as La}from"./mg-input.conf-BtkqaBXm-CHtKCW_d.js";import{i as md}from"./index-SQlkEaXW-BUxv13Is.js";import"./v4-CtRu48qb.js";import"./index.es-Bgj_r6ds.js";import"./iframe-djuTsxzs.js";var ac=typeof global=="object"&&global&&global.Object===Object&&global,bd=typeof self=="object"&&self&&self.Object===Object&&self,Ot=ac||bd||Function("return this")(),Ht=Ot.Symbol,uc=Object.prototype,vd=uc.hasOwnProperty,qd=uc.toString,zr=Ht?Ht.toStringTag:void 0;function yd(e){var t=vd.call(e,zr),n=e[zr];try{e[zr]=void 0;var r=!0}catch{}var i=qd.call(e);return r&&(t?e[zr]=n:delete e[zr]),i}var wd=Object.prototype,_d=wd.toString;function xd(e){return _d.call(e)}var Ad="[object Null]",Ed="[object Undefined]",ka=Ht?Ht.toStringTag:void 0;function Gt(e){return e==null?e===void 0?Ed:Ad:ka&&ka in Object(e)?yd(e):xd(e)}function Et(e){return e!=null&&typeof e=="object"}var Td="[object Symbol]";function ne(e){return typeof e=="symbol"||Et(e)&&Gt(e)==Td}var Nd=NaN;function Ra(e){return typeof e=="number"?e:ne(e)?Nd:+e}function xt(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var X=Array.isArray,Oa=Ht?Ht.prototype:void 0,Sa=Oa?Oa.toString:void 0;function re(e){if(typeof e=="string")return e;if(X(e))return xt(e,re)+"";if(ne(e))return Sa?Sa.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function os(e,t){return function(n,r){var i;if(n===void 0&&r===void 0)return t;if(n!==void 0&&(i=n),r!==void 0){if(i===void 0)return r;typeof n=="string"||typeof r=="string"?(n=re(n),r=re(r)):(n=Ra(n),r=Ra(r)),i=e(n,r)}return i}}var Ld=os(function(e,t){return e+t},0),kd=/\s/;function cc(e){for(var t=e.length;t--&&kd.test(e.charAt(t)););return t}var Rd=/^\s+/;function fc(e){return e&&e.slice(0,cc(e)+1).replace(Rd,"")}function At(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ca=NaN,Od=/^[-+]0x[0-9a-f]+$/i,Sd=/^0b[01]+$/i,Cd=/^0o[0-7]+$/i,Id=parseInt;function de(e){if(typeof e=="number")return e;if(ne(e))return Ca;if(At(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=At(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=fc(e);var n=Sd.test(e);return n||Cd.test(e)?Id(e.slice(2),n?2:8):Od.test(e)?Ca:+e}var $d=1/0,Md=17976931348623157e292;function Je(e){if(!e)return e===0?e:0;if(e=de(e),e===$d||e===-1/0){var t=e<0?-1:1;return t*Md}return e===e?e:0}function Q(e){var t=Je(e),n=t%1;return t===t?n?t-n:t:0}var Bd="Expected a function";function Pd(e,t){if(typeof t!="function")throw new TypeError(Bd);return e=Q(e),function(){if(--e<1)return t.apply(this,arguments)}}function Jt(e){return e}var Dd="[object AsyncFunction]",Fd="[object Function]",Ud="[object GeneratorFunction]",jd="[object Proxy]";function nn(e){if(!At(e))return!1;var t=Gt(e);return t==Fd||t==Ud||t==Dd||t==jd}var Xi=Ot["__core-js_shared__"],Ia=function(){var e=/[^.]+$/.exec(Xi&&Xi.keys&&Xi.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Hd(e){return!!Ia&&Ia in e}var zd=Function.prototype,Wd=zd.toString;function Fn(e){if(e!=null){try{return Wd.call(e)}catch{}try{return e+""}catch{}}return""}var Gd=/[\\^$.*+?()[\]{}|]/g,Kd=/^\[object .+?Constructor\]$/,Vd=Function.prototype,Zd=Object.prototype,Yd=Vd.toString,Xd=Zd.hasOwnProperty,Jd=RegExp("^"+Yd.call(Xd).replace(Gd,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function hc(e){if(!At(e)||Hd(e))return!1;var t=nn(e)?Jd:Kd;return t.test(Fn(e))}function Qd(e,t){return e==null?void 0:e[t]}function Un(e,t){var n=Qd(e,t);return hc(n)?n:void 0}var Jr=Un(Ot,"WeakMap"),ns=Jr&&new Jr,dc=ns?function(e,t){return ns.set(e,t),e}:Jt,$a=Object.create,qr=function(){function e(){}return function(t){if(!At(t))return{};if($a)return $a(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function Qr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=qr(e.prototype),r=e.apply(n,t);return At(r)?r:n}}var tp=1;function ep(e,t,n){var r=t&tp,i=Qr(e);function s(){var l=this&&this!==Ot&&this instanceof s?i:e;return l.apply(r?n:this,arguments)}return s}function ie(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var np=Math.max;function pc(e,t,n,r){for(var i=-1,s=e.length,l=n.length,a=-1,u=t.length,c=np(s-l,0),p=Array(u+c),g=!r;++a<u;)p[a]=t[a];for(;++i<l;)(g||i<s)&&(p[n[i]]=e[i]);for(;c--;)p[a++]=e[i++];return p}var rp=Math.max;function gc(e,t,n,r){for(var i=-1,s=e.length,l=-1,a=n.length,u=-1,c=t.length,p=rp(s-a,0),g=Array(p+c),d=!r;++i<p;)g[i]=e[i];for(var m=i;++u<c;)g[m+u]=t[u];for(;++l<a;)(d||i<s)&&(g[m+n[l]]=e[i++]);return g}function ip(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}function as(){}var sp=4294967295;function it(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=sp,this.__views__=[]}it.prototype=qr(as.prototype);it.prototype.constructor=it;function vo(){}var qo=ns?function(e){return ns.get(e)}:vo,fr={},lp=Object.prototype,op=lp.hasOwnProperty;function Ji(e){for(var t=e.name+"",n=fr[t],r=op.call(fr,t)?n.length:0;r--;){var i=n[r],s=i.func;if(s==null||s==e)return i.name}return t}function ge(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}ge.prototype=qr(as.prototype);ge.prototype.constructor=ge;function Xt(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function mc(e){if(e instanceof it)return e.clone();var t=new ge(e.__wrapped__,e.__chain__);return t.__actions__=Xt(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var ap=Object.prototype,up=ap.hasOwnProperty;function f(e){if(Et(e)&&!X(e)&&!(e instanceof it)){if(e instanceof ge)return e;if(up.call(e,"__wrapped__"))return mc(e)}return new ge(e)}f.prototype=as.prototype;f.prototype.constructor=f;function jl(e){var t=Ji(e),n=f[t];if(typeof n!="function"||!(t in it.prototype))return!1;if(e===n)return!0;var r=qo(n);return!!r&&e===r[0]}var cp=800,fp=16,hp=Date.now;function bc(e){var t=0,n=0;return function(){var r=hp(),i=fp-(r-n);if(n=r,i>0){if(++t>=cp)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var vc=bc(dc),dp=/\{\n\/\* \[wrapped with (.+)\] \*/,pp=/,? & /;function gp(e){var t=e.match(dp);return t?t[1].split(pp):[]}var mp=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function bp(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(mp,`{
/* [wrapped with `+t+`] */
`)}function yo(e){return function(){return e}}var rs=function(){try{var e=Un(Object,"defineProperty");return e({},"",{}),e}catch{}}(),vp=rs?function(e,t){return rs(e,"toString",{configurable:!0,enumerable:!1,value:yo(t),writable:!0})}:Jt,wo=bc(vp);function qe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function us(e,t,n,r){for(var i=e.length,s=n+(r?1:-1);r?s--:++s<i;)if(t(e[s],s,e))return s;return-1}function qc(e){return e!==e}function qp(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function yr(e,t,n){return t===t?qp(e,t,n):us(e,qc,n)}function cs(e,t){var n=e==null?0:e.length;return!!n&&yr(e,t,0)>-1}var yp=1,wp=2,_p=8,xp=16,Ap=32,Ep=64,Tp=128,Np=256,Lp=512,kp=[["ary",Tp],["bind",yp],["bindKey",wp],["curry",_p],["curryRight",xp],["flip",Lp],["partial",Ap],["partialRight",Ep],["rearg",Np]];function Rp(e,t){return qe(kp,function(n){var r="_."+n[0];t&n[1]&&!cs(e,r)&&e.push(r)}),e.sort()}function yc(e,t,n){var r=t+"";return wo(e,bp(r,Rp(gp(r),n)))}var Op=4,Sp=8,Ma=32,Ba=64;function wc(e,t,n,r,i,s,l,a,u,c){var p=t&Sp,g=p?l:void 0,d=p?void 0:l,m=p?s:void 0,q=p?void 0:s;t|=p?Ma:Ba,t&=~(p?Ba:Ma),t&Op||(t&=-4);var _=[e,t,i,m,g,q,d,a,u,c],w=n.apply(void 0,_);return jl(e)&&vc(w,_),w.placeholder=r,yc(w,e,t)}function wr(e){var t=e;return t.placeholder}var Cp=9007199254740991,Ip=/^(?:0|[1-9]\d*)$/;function rn(e,t){var n=typeof e;return t=t??Cp,!!t&&(n=="number"||n!="symbol"&&Ip.test(e))&&e>-1&&e%1==0&&e<t}var $p=Math.min;function Mp(e,t){for(var n=e.length,r=$p(t.length,n),i=Xt(e);r--;){var s=t[r];e[r]=rn(s,n)?i[s]:void 0}return e}var Pa="__lodash_placeholder__";function bn(e,t){for(var n=-1,r=e.length,i=0,s=[];++n<r;){var l=e[n];(l===t||l===Pa)&&(e[n]=Pa,s[i++]=n)}return s}var Bp=1,Pp=2,Dp=8,Fp=16,Up=128,jp=512;function fs(e,t,n,r,i,s,l,a,u,c){var p=t&Up,g=t&Bp,d=t&Pp,m=t&(Dp|Fp),q=t&jp,_=d?void 0:Qr(e);function w(){for(var A=arguments.length,N=Array(A),S=A;S--;)N[S]=arguments[S];if(m)var W=wr(w),F=ip(N,W);if(r&&(N=pc(N,r,i,m)),s&&(N=gc(N,s,l,m)),A-=F,m&&A<c){var G=bn(N,W);return wc(e,t,fs,w.placeholder,n,N,G,a,u,c-A)}var lt=g?n:this,vt=d?lt[e]:e;return A=N.length,a?N=Mp(N,a):q&&A>1&&N.reverse(),p&&u<A&&(N.length=u),this&&this!==Ot&&this instanceof w&&(vt=_||Qr(vt)),vt.apply(lt,N)}return w}function Hp(e,t,n){var r=Qr(e);function i(){for(var s=arguments.length,l=Array(s),a=s,u=wr(i);a--;)l[a]=arguments[a];var c=s<3&&l[0]!==u&&l[s-1]!==u?[]:bn(l,u);if(s-=c.length,s<n)return wc(e,t,fs,i.placeholder,void 0,l,c,void 0,void 0,n-s);var p=this&&this!==Ot&&this instanceof i?r:e;return ie(p,this,l)}return i}var zp=1;function Wp(e,t,n,r){var i=t&zp,s=Qr(e);function l(){for(var a=-1,u=arguments.length,c=-1,p=r.length,g=Array(p+u),d=this&&this!==Ot&&this instanceof l?s:e;++c<p;)g[c]=r[c];for(;u--;)g[c++]=arguments[++a];return ie(d,i?n:this,g)}return l}var Da="__lodash_placeholder__",Tl=1,Gp=2,Kp=4,Fa=8,Wr=128,Ua=256,Vp=Math.min;function Zp(e,t){var n=e[1],r=t[1],i=n|r,s=i<(Tl|Gp|Wr),l=r==Wr&&n==Fa||r==Wr&&n==Ua&&e[7].length<=t[8]||r==(Wr|Ua)&&t[7].length<=t[8]&&n==Fa;if(!(s||l))return e;r&Tl&&(e[2]=t[2],i|=n&Tl?0:Kp);var a=t[3];if(a){var u=e[3];e[3]=u?pc(u,a,t[4]):a,e[4]=u?bn(e[3],Da):t[4]}return a=t[5],a&&(u=e[5],e[5]=u?gc(u,a,t[6]):a,e[6]=u?bn(e[5],Da):t[6]),a=t[7],a&&(e[7]=a),r&Wr&&(e[8]=e[8]==null?t[8]:Vp(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e}var Yp="Expected a function",ja=1,Xp=2,Ha=8,za=16,Wa=32,Jp=64,Ga=Math.max;function sn(e,t,n,r,i,s,l,a){var u=t&Xp;if(!u&&typeof e!="function")throw new TypeError(Yp);var c=r?r.length:0;if(c||(t&=-97,r=i=void 0),l=l===void 0?l:Ga(Q(l),0),a=a===void 0?a:Q(a),c-=i?i.length:0,t&Jp){var p=r,g=i;r=i=void 0}var d=u?void 0:qo(e),m=[e,t,n,r,i,p,g,s,l,a];if(d&&Zp(m,d),e=m[0],t=m[1],n=m[2],r=m[3],i=m[4],a=m[9]=m[9]===void 0?u?0:e.length:Ga(m[9]-c,0),!a&&t&(Ha|za)&&(t&=-25),!t||t==ja)var q=ep(e,t,n);else t==Ha||t==za?q=Hp(e,t,a):(t==Wa||t==(ja|Wa))&&!i.length?q=Wp(e,t,n,r):q=fs.apply(void 0,m);var _=d?dc:vc;return yc(_(q,m),e,t)}var Qp=128;function _c(e,t,n){return t=n?void 0:t,t=e&&t==null?e.length:t,sn(e,Qp,void 0,void 0,void 0,void 0,t)}function ln(e,t,n){t=="__proto__"&&rs?rs(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ke(e,t){return e===t||e!==e&&t!==t}var tg=Object.prototype,eg=tg.hasOwnProperty;function oi(e,t,n){var r=e[t];(!(eg.call(e,t)&&ke(r,n))||n===void 0&&!(t in e))&&ln(e,t,n)}function je(e,t,n,r){var i=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var a=t[s],u=r?r(n[a],e[a],a,n,e):void 0;u===void 0&&(u=e[a]),i?ln(n,a,u):oi(n,a,u)}return n}var Ka=Math.max;function xc(e,t,n){return t=Ka(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,s=Ka(r.length-t,0),l=Array(s);++i<s;)l[i]=r[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=r[i];return a[t]=n(l),ie(e,this,a)}}function et(e,t){return wo(xc(e,t,Jt),e+"")}var ng=9007199254740991;function hs(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ng}function Qt(e){return e!=null&&hs(e.length)&&!nn(e)}function Wt(e,t,n){if(!At(n))return!1;var r=typeof t;return(r=="number"?Qt(n)&&rn(t,n.length):r=="string"&&t in n)?ke(n[t],e):!1}function _r(e){return et(function(t,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,l=i>2?n[2]:void 0;for(s=e.length>3&&typeof s=="function"?(i--,s):void 0,l&&Wt(n[0],n[1],l)&&(s=i<3?void 0:s,i=1),t=Object(t);++r<i;){var a=n[r];a&&e(t,a,r,s)}return t})}var rg=Object.prototype;function ai(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||rg;return e===n}function _o(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var ig="[object Arguments]";function Va(e){return Et(e)&&Gt(e)==ig}var Ac=Object.prototype,sg=Ac.hasOwnProperty,lg=Ac.propertyIsEnumerable,Mn=Va(function(){return arguments}())?Va:function(e){return Et(e)&&sg.call(e,"callee")&&!lg.call(e,"callee")};function xo(){return!1}var Ec=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Za=Ec&&typeof module=="object"&&module&&!module.nodeType&&module,og=Za&&Za.exports===Ec,Ya=og?Ot.Buffer:void 0,ag=Ya?Ya.isBuffer:void 0,vn=ag||xo,ug="[object Arguments]",cg="[object Array]",fg="[object Boolean]",hg="[object Date]",dg="[object Error]",pg="[object Function]",gg="[object Map]",mg="[object Number]",bg="[object Object]",vg="[object RegExp]",qg="[object Set]",yg="[object String]",wg="[object WeakMap]",_g="[object ArrayBuffer]",xg="[object DataView]",Ag="[object Float32Array]",Eg="[object Float64Array]",Tg="[object Int8Array]",Ng="[object Int16Array]",Lg="[object Int32Array]",kg="[object Uint8Array]",Rg="[object Uint8ClampedArray]",Og="[object Uint16Array]",Sg="[object Uint32Array]",wt={};wt[Ag]=wt[Eg]=wt[Tg]=wt[Ng]=wt[Lg]=wt[kg]=wt[Rg]=wt[Og]=wt[Sg]=!0;wt[ug]=wt[cg]=wt[_g]=wt[fg]=wt[xg]=wt[hg]=wt[dg]=wt[pg]=wt[gg]=wt[mg]=wt[bg]=wt[vg]=wt[qg]=wt[yg]=wt[wg]=!1;function Cg(e){return Et(e)&&hs(e.length)&&!!wt[Gt(e)]}function se(e){return function(t){return e(t)}}var Tc=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Vr=Tc&&typeof module=="object"&&module&&!module.nodeType&&module,Ig=Vr&&Vr.exports===Tc,Nl=Ig&&ac.process,me=function(){try{var e=Vr&&Vr.require&&Vr.require("util").types;return e||Nl&&Nl.binding&&Nl.binding("util")}catch{}}(),Xa=me&&me.isTypedArray,xr=Xa?se(Xa):Cg,$g=Object.prototype,Mg=$g.hasOwnProperty;function Nc(e,t){var n=X(e),r=!n&&Mn(e),i=!n&&!r&&vn(e),s=!n&&!r&&!i&&xr(e),l=n||r||i||s,a=l?_o(e.length,String):[],u=a.length;for(var c in e)(t||Mg.call(e,c))&&!(l&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||rn(c,u)))&&a.push(c);return a}function Lc(e,t){return function(n){return e(t(n))}}var Bg=Lc(Object.keys,Object),Pg=Object.prototype,Dg=Pg.hasOwnProperty;function Ao(e){if(!ai(e))return Bg(e);var t=[];for(var n in Object(e))Dg.call(e,n)&&n!="constructor"&&t.push(n);return t}function St(e){return Qt(e)?Nc(e):Ao(e)}var Fg=Object.prototype,Ug=Fg.hasOwnProperty,jg=_r(function(e,t){if(ai(t)||Qt(t)){je(t,St(t),e);return}for(var n in t)Ug.call(t,n)&&oi(e,n,t[n])});function Hg(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var zg=Object.prototype,Wg=zg.hasOwnProperty;function Gg(e){if(!At(e))return Hg(e);var t=ai(e),n=[];for(var r in e)r=="constructor"&&(t||!Wg.call(e,r))||n.push(r);return n}function te(e){return Qt(e)?Nc(e,!0):Gg(e)}var Kg=_r(function(e,t){je(t,te(t),e)}),Hl=_r(function(e,t,n,r){je(t,te(t),e,r)}),Vg=_r(function(e,t,n,r){je(t,St(t),e,r)}),Zg=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Yg=/^\w*$/;function Eo(e,t){if(X(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||ne(e)?!0:Yg.test(e)||!Zg.test(e)||t!=null&&e in Object(t)}var ti=Un(Object,"create");function Xg(){this.__data__=ti?ti(null):{},this.size=0}function Jg(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Qg="__lodash_hash_undefined__",t1=Object.prototype,e1=t1.hasOwnProperty;function n1(e){var t=this.__data__;if(ti){var n=t[e];return n===Qg?void 0:n}return e1.call(t,e)?t[e]:void 0}var r1=Object.prototype,i1=r1.hasOwnProperty;function s1(e){var t=this.__data__;return ti?t[e]!==void 0:i1.call(t,e)}var l1="__lodash_hash_undefined__";function o1(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ti&&t===void 0?l1:t,this}function Bn(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Bn.prototype.clear=Xg;Bn.prototype.delete=Jg;Bn.prototype.get=n1;Bn.prototype.has=s1;Bn.prototype.set=o1;function a1(){this.__data__=[],this.size=0}function ds(e,t){for(var n=e.length;n--;)if(ke(e[n][0],t))return n;return-1}var u1=Array.prototype,c1=u1.splice;function f1(e){var t=this.__data__,n=ds(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():c1.call(t,n,1),--this.size,!0}function h1(e){var t=this.__data__,n=ds(t,e);return n<0?void 0:t[n][1]}function d1(e){return ds(this.__data__,e)>-1}function p1(e,t){var n=this.__data__,r=ds(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function on(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}on.prototype.clear=a1;on.prototype.delete=f1;on.prototype.get=h1;on.prototype.has=d1;on.prototype.set=p1;var ei=Un(Ot,"Map");function g1(){this.size=0,this.__data__={hash:new Bn,map:new(ei||on),string:new Bn}}function m1(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function ps(e,t){var n=e.__data__;return m1(t)?n[typeof t=="string"?"string":"hash"]:n.map}function b1(e){var t=ps(this,e).delete(e);return this.size-=t?1:0,t}function v1(e){return ps(this,e).get(e)}function q1(e){return ps(this,e).has(e)}function y1(e,t){var n=ps(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function an(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}an.prototype.clear=g1;an.prototype.delete=b1;an.prototype.get=v1;an.prototype.has=q1;an.prototype.set=y1;var w1="Expected a function";function gs(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(w1);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var l=e.apply(this,r);return n.cache=s.set(i,l)||s,l};return n.cache=new(gs.Cache||an),n}gs.Cache=an;var _1=500;function x1(e){var t=gs(e,function(r){return n.size===_1&&n.clear(),r}),n=t.cache;return t}var A1=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,E1=/\\(\\)?/g,kc=x1(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(A1,function(n,r,i,s){t.push(i?s.replace(E1,"$1"):r||n)}),t});function dt(e){return e==null?"":re(e)}function yn(e,t){return X(e)?e:Eo(e,t)?[e]:kc(dt(e))}function He(e){if(typeof e=="string"||ne(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function jn(e,t){t=yn(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[He(t[n++])];return n&&n==r?e:void 0}function To(e,t,n){var r=e==null?void 0:jn(e,t);return r===void 0?n:r}function No(e,t){for(var n=-1,r=t.length,i=Array(r),s=e==null;++n<r;)i[n]=s?void 0:To(e,t[n]);return i}function wn(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var Ja=Ht?Ht.isConcatSpreadable:void 0;function T1(e){return X(e)||Mn(e)||!!(Ja&&e&&e[Ja])}function Mt(e,t,n,r,i){var s=-1,l=e.length;for(n||(n=T1),i||(i=[]);++s<l;){var a=e[s];t>0&&n(a)?t>1?Mt(a,t-1,n,r,i):wn(i,a):r||(i[i.length]=a)}return i}function Rc(e){var t=e==null?0:e.length;return t?Mt(e,1):[]}function un(e){return wo(xc(e,void 0,Rc),e+"")}var N1=un(No),ms=Lc(Object.getPrototypeOf,Object),L1="[object Object]",k1=Function.prototype,R1=Object.prototype,Oc=k1.toString,O1=R1.hasOwnProperty,S1=Oc.call(Object);function ui(e){if(!Et(e)||Gt(e)!=L1)return!1;var t=ms(e);if(t===null)return!0;var n=O1.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Oc.call(n)==S1}var C1="[object DOMException]",I1="[object Error]";function Lo(e){if(!Et(e))return!1;var t=Gt(e);return t==I1||t==C1||typeof e.message=="string"&&typeof e.name=="string"&&!ui(e)}var Sc=et(function(e,t){try{return ie(e,void 0,t)}catch(n){return Lo(n)?n:new Error(n)}}),$1="Expected a function";function Cc(e,t){var n;if(typeof t!="function")throw new TypeError($1);return e=Q(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}var M1=1,B1=32,bs=et(function(e,t,n){var r=M1;if(n.length){var i=bn(n,wr(bs));r|=B1}return sn(e,r,t,n,i)});bs.placeholder={};var P1=un(function(e,t){return qe(t,function(n){n=He(n),ln(e,n,bs(e[n],e))}),e}),D1=1,F1=2,U1=32,ko=et(function(e,t,n){var r=D1|F1;if(n.length){var i=bn(n,wr(ko));r|=U1}return sn(t,r,e,n,i)});ko.placeholder={};function be(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(i);++r<i;)s[r]=e[r+t];return s}function _n(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:be(e,t,n)}var j1="\\ud800-\\udfff",H1="\\u0300-\\u036f",z1="\\ufe20-\\ufe2f",W1="\\u20d0-\\u20ff",G1=H1+z1+W1,K1="\\ufe0e\\ufe0f",V1="\\u200d",Z1=RegExp("["+V1+j1+G1+K1+"]");function Ar(e){return Z1.test(e)}function Y1(e){return e.split("")}var Ic="\\ud800-\\udfff",X1="\\u0300-\\u036f",J1="\\ufe20-\\ufe2f",Q1="\\u20d0-\\u20ff",tm=X1+J1+Q1,em="\\ufe0e\\ufe0f",nm="["+Ic+"]",zl="["+tm+"]",Wl="\\ud83c[\\udffb-\\udfff]",rm="(?:"+zl+"|"+Wl+")",$c="[^"+Ic+"]",Mc="(?:\\ud83c[\\udde6-\\uddff]){2}",Bc="[\\ud800-\\udbff][\\udc00-\\udfff]",im="\\u200d",Pc=rm+"?",Dc="["+em+"]?",sm="(?:"+im+"(?:"+[$c,Mc,Bc].join("|")+")"+Dc+Pc+")*",lm=Dc+Pc+sm,om="(?:"+[$c+zl+"?",zl,Mc,Bc,nm].join("|")+")",am=RegExp(Wl+"(?="+Wl+")|"+om+lm,"g");function um(e){return e.match(am)||[]}function Ne(e){return Ar(e)?um(e):Y1(e)}function Fc(e){return function(t){t=dt(t);var n=Ar(t)?Ne(t):void 0,r=n?n[0]:t.charAt(0),i=n?_n(n,1).join(""):t.slice(1);return r[e]()+i}}var Ro=Fc("toUpperCase");function Uc(e){return Ro(dt(e).toLowerCase())}function Oo(e,t,n,r){var i=-1,s=e==null?0:e.length;for(r&&s&&(n=e[++i]);++i<s;)n=t(n,e[i],i,e);return n}function So(e){return function(t){return e==null?void 0:e[t]}}var cm={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},fm=So(cm),hm=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,dm="\\u0300-\\u036f",pm="\\ufe20-\\ufe2f",gm="\\u20d0-\\u20ff",mm=dm+pm+gm,bm="["+mm+"]",vm=RegExp(bm,"g");function jc(e){return e=dt(e),e&&e.replace(hm,fm).replace(vm,"")}var qm=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function ym(e){return e.match(qm)||[]}var wm=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function _m(e){return wm.test(e)}var Hc="\\ud800-\\udfff",xm="\\u0300-\\u036f",Am="\\ufe20-\\ufe2f",Em="\\u20d0-\\u20ff",Tm=xm+Am+Em,zc="\\u2700-\\u27bf",Wc="a-z\\xdf-\\xf6\\xf8-\\xff",Nm="\\xac\\xb1\\xd7\\xf7",Lm="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",km="\\u2000-\\u206f",Rm=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Gc="A-Z\\xc0-\\xd6\\xd8-\\xde",Om="\\ufe0e\\ufe0f",Kc=Nm+Lm+km+Rm,Vc="['’]",Qa="["+Kc+"]",Sm="["+Tm+"]",Zc="\\d+",Cm="["+zc+"]",Yc="["+Wc+"]",Xc="[^"+Hc+Kc+Zc+zc+Wc+Gc+"]",Im="\\ud83c[\\udffb-\\udfff]",$m="(?:"+Sm+"|"+Im+")",Mm="[^"+Hc+"]",Jc="(?:\\ud83c[\\udde6-\\uddff]){2}",Qc="[\\ud800-\\udbff][\\udc00-\\udfff]",ir="["+Gc+"]",Bm="\\u200d",tu="(?:"+Yc+"|"+Xc+")",Pm="(?:"+ir+"|"+Xc+")",eu="(?:"+Vc+"(?:d|ll|m|re|s|t|ve))?",nu="(?:"+Vc+"(?:D|LL|M|RE|S|T|VE))?",tf=$m+"?",ef="["+Om+"]?",Dm="(?:"+Bm+"(?:"+[Mm,Jc,Qc].join("|")+")"+ef+tf+")*",Fm="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Um="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",jm=ef+tf+Dm,Hm="(?:"+[Cm,Jc,Qc].join("|")+")"+jm,zm=RegExp([ir+"?"+Yc+"+"+eu+"(?="+[Qa,ir,"$"].join("|")+")",Pm+"+"+nu+"(?="+[Qa,ir+tu,"$"].join("|")+")",ir+"?"+tu+"+"+eu,ir+"+"+nu,Um,Fm,Zc,Hm].join("|"),"g");function Wm(e){return e.match(zm)||[]}function nf(e,t,n){return e=dt(e),t=n?void 0:t,t===void 0?_m(e)?Wm(e):ym(e):e.match(t)||[]}var Gm="['’]",Km=RegExp(Gm,"g");function Er(e){return function(t){return Oo(nf(jc(t).replace(Km,"")),e,"")}}var Vm=Er(function(e,t,n){return t=t.toLowerCase(),e+(n?Uc(t):t)});function Zm(){if(!arguments.length)return[];var e=arguments[0];return X(e)?e:[e]}var Ym=Ot.isFinite,Xm=Math.min;function Co(e){var t=Math[e];return function(n,r){if(n=de(n),r=r==null?0:Xm(Q(r),292),r&&Ym(n)){var i=(dt(n)+"e").split("e"),s=t(i[0]+"e"+(+i[1]+r));return i=(dt(s)+"e").split("e"),+(i[0]+"e"+(+i[1]-r))}return t(n)}}var Jm=Co("ceil");function rf(e){var t=f(e);return t.__chain__=!0,t}var Qm=Math.ceil,t0=Math.max;function e0(e,t,n){(n?Wt(e,t,n):t===void 0)?t=1:t=t0(Q(t),0);var r=e==null?0:e.length;if(!r||t<1)return[];for(var i=0,s=0,l=Array(Qm(r/t));i<r;)l[s++]=be(e,i,i+=t);return l}function Hn(e,t,n){return e===e&&(n!==void 0&&(e=e<=n?e:n),t!==void 0&&(e=e>=t?e:t)),e}function n0(e,t,n){return n===void 0&&(n=t,t=void 0),n!==void 0&&(n=de(n),n=n===n?n:0),t!==void 0&&(t=de(t),t=t===t?t:0),Hn(de(e),t,n)}function r0(){this.__data__=new on,this.size=0}function i0(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function s0(e){return this.__data__.get(e)}function l0(e){return this.__data__.has(e)}var o0=200;function a0(e,t){var n=this.__data__;if(n instanceof on){var r=n.__data__;if(!ei||r.length<o0-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new an(r)}return n.set(e,t),this.size=n.size,this}function Ee(e){var t=this.__data__=new on(e);this.size=t.size}Ee.prototype.clear=r0;Ee.prototype.delete=i0;Ee.prototype.get=s0;Ee.prototype.has=l0;Ee.prototype.set=a0;function sf(e,t){return e&&je(t,St(t),e)}function u0(e,t){return e&&je(t,te(t),e)}var lf=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ru=lf&&typeof module=="object"&&module&&!module.nodeType&&module,c0=ru&&ru.exports===lf,iu=c0?Ot.Buffer:void 0,su=iu?iu.allocUnsafe:void 0;function of(e,t){if(t)return e.slice();var n=e.length,r=su?su(n):new e.constructor(n);return e.copy(r),r}function xn(e,t){for(var n=-1,r=e==null?0:e.length,i=0,s=[];++n<r;){var l=e[n];t(l,n,e)&&(s[i++]=l)}return s}function Io(){return[]}var f0=Object.prototype,h0=f0.propertyIsEnumerable,lu=Object.getOwnPropertySymbols,$o=lu?function(e){return e==null?[]:(e=Object(e),xn(lu(e),function(t){return h0.call(e,t)}))}:Io;function d0(e,t){return je(e,$o(e),t)}var p0=Object.getOwnPropertySymbols,af=p0?function(e){for(var t=[];e;)wn(t,$o(e)),e=ms(e);return t}:Io;function g0(e,t){return je(e,af(e),t)}function uf(e,t,n){var r=t(e);return X(e)?r:wn(r,n(e))}function Gl(e){return uf(e,St,$o)}function Mo(e){return uf(e,te,af)}var Kl=Un(Ot,"DataView"),Vl=Un(Ot,"Promise"),hr=Un(Ot,"Set"),ou="[object Map]",m0="[object Object]",au="[object Promise]",uu="[object Set]",cu="[object WeakMap]",fu="[object DataView]",b0=Fn(Kl),v0=Fn(ei),q0=Fn(Vl),y0=Fn(hr),w0=Fn(Jr),Cn=Gt;(Kl&&Cn(new Kl(new ArrayBuffer(1)))!=fu||ei&&Cn(new ei)!=ou||Vl&&Cn(Vl.resolve())!=au||hr&&Cn(new hr)!=uu||Jr&&Cn(new Jr)!=cu)&&(Cn=function(e){var t=Gt(e),n=t==m0?e.constructor:void 0,r=n?Fn(n):"";if(r)switch(r){case b0:return fu;case v0:return ou;case q0:return au;case y0:return uu;case w0:return cu}return t});var De=Cn,_0=Object.prototype,x0=_0.hasOwnProperty;function A0(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&x0.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var is=Ot.Uint8Array;function Bo(e){var t=new e.constructor(e.byteLength);return new is(t).set(new is(e)),t}function E0(e,t){var n=t?Bo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var T0=/\w*$/;function N0(e){var t=new e.constructor(e.source,T0.exec(e));return t.lastIndex=e.lastIndex,t}var hu=Ht?Ht.prototype:void 0,du=hu?hu.valueOf:void 0;function L0(e){return du?Object(du.call(e)):{}}function cf(e,t){var n=t?Bo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var k0="[object Boolean]",R0="[object Date]",O0="[object Map]",S0="[object Number]",C0="[object RegExp]",I0="[object Set]",$0="[object String]",M0="[object Symbol]",B0="[object ArrayBuffer]",P0="[object DataView]",D0="[object Float32Array]",F0="[object Float64Array]",U0="[object Int8Array]",j0="[object Int16Array]",H0="[object Int32Array]",z0="[object Uint8Array]",W0="[object Uint8ClampedArray]",G0="[object Uint16Array]",K0="[object Uint32Array]";function V0(e,t,n){var r=e.constructor;switch(t){case B0:return Bo(e);case k0:case R0:return new r(+e);case P0:return E0(e,n);case D0:case F0:case U0:case j0:case H0:case z0:case W0:case G0:case K0:return cf(e,n);case O0:return new r;case S0:case $0:return new r(e);case C0:return N0(e);case I0:return new r;case M0:return L0(e)}}function ff(e){return typeof e.constructor=="function"&&!ai(e)?qr(ms(e)):{}}var Z0="[object Map]";function Y0(e){return Et(e)&&De(e)==Z0}var pu=me&&me.isMap,hf=pu?se(pu):Y0,X0="[object Set]";function J0(e){return Et(e)&&De(e)==X0}var gu=me&&me.isSet,df=gu?se(gu):J0,Q0=1,tb=2,eb=4,pf="[object Arguments]",nb="[object Array]",rb="[object Boolean]",ib="[object Date]",sb="[object Error]",gf="[object Function]",lb="[object GeneratorFunction]",ob="[object Map]",ab="[object Number]",mf="[object Object]",ub="[object RegExp]",cb="[object Set]",fb="[object String]",hb="[object Symbol]",db="[object WeakMap]",pb="[object ArrayBuffer]",gb="[object DataView]",mb="[object Float32Array]",bb="[object Float64Array]",vb="[object Int8Array]",qb="[object Int16Array]",yb="[object Int32Array]",wb="[object Uint8Array]",_b="[object Uint8ClampedArray]",xb="[object Uint16Array]",Ab="[object Uint32Array]",qt={};qt[pf]=qt[nb]=qt[pb]=qt[gb]=qt[rb]=qt[ib]=qt[mb]=qt[bb]=qt[vb]=qt[qb]=qt[yb]=qt[ob]=qt[ab]=qt[mf]=qt[ub]=qt[cb]=qt[fb]=qt[hb]=qt[wb]=qt[_b]=qt[xb]=qt[Ab]=!0;qt[sb]=qt[gf]=qt[db]=!1;function pe(e,t,n,r,i,s){var l,a=t&Q0,u=t&tb,c=t&eb;if(n&&(l=i?n(e,r,i,s):n(e)),l!==void 0)return l;if(!At(e))return e;var p=X(e);if(p){if(l=A0(e),!a)return Xt(e,l)}else{var g=De(e),d=g==gf||g==lb;if(vn(e))return of(e,a);if(g==mf||g==pf||d&&!i){if(l=u||d?{}:ff(e),!a)return u?g0(e,u0(l,e)):d0(e,sf(l,e))}else{if(!qt[g])return i?e:{};l=V0(e,g,a)}}s||(s=new Ee);var m=s.get(e);if(m)return m;s.set(e,l),df(e)?e.forEach(function(w){l.add(pe(w,t,n,w,e,s))}):hf(e)&&e.forEach(function(w,A){l.set(A,pe(w,t,n,A,e,s))});var q=c?u?Mo:Gl:u?te:St,_=p?void 0:q(e);return qe(_||e,function(w,A){_&&(A=w,w=e[A]),oi(l,A,pe(w,t,n,A,e,s))}),l}var Eb=4;function Tb(e){return pe(e,Eb)}var Nb=1,Lb=4;function $n(e){return pe(e,Nb|Lb)}var kb=1,Rb=4;function Ob(e,t){return t=typeof t=="function"?t:void 0,pe(e,kb|Rb,t)}var Sb=4;function Cb(e,t){return t=typeof t=="function"?t:void 0,pe(e,Sb,t)}function Ib(){return new ge(this.value(),this.__chain__)}function $b(e){for(var t=-1,n=e==null?0:e.length,r=0,i=[];++t<n;){var s=e[t];s&&(i[r++]=s)}return i}function Mb(){var e=arguments.length;if(!e)return[];for(var t=Array(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return wn(X(n)?Xt(n):[n],Mt(t,1))}var Bb="__lodash_hash_undefined__";function Pb(e){return this.__data__.set(e,Bb),this}function Db(e){return this.__data__.has(e)}function Pn(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new an;++t<n;)this.add(e[t])}Pn.prototype.add=Pn.prototype.push=Pb;Pn.prototype.has=Db;function Po(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function ni(e,t){return e.has(t)}var Fb=1,Ub=2;function bf(e,t,n,r,i,s){var l=n&Fb,a=e.length,u=t.length;if(a!=u&&!(l&&u>a))return!1;var c=s.get(e),p=s.get(t);if(c&&p)return c==t&&p==e;var g=-1,d=!0,m=n&Ub?new Pn:void 0;for(s.set(e,t),s.set(t,e);++g<a;){var q=e[g],_=t[g];if(r)var w=l?r(_,q,g,t,e,s):r(q,_,g,e,t,s);if(w!==void 0){if(w)continue;d=!1;break}if(m){if(!Po(t,function(A,N){if(!ni(m,N)&&(q===A||i(q,A,n,r,s)))return m.push(N)})){d=!1;break}}else if(!(q===_||i(q,_,n,r,s))){d=!1;break}}return s.delete(e),s.delete(t),d}function Do(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}function vs(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var jb=1,Hb=2,zb="[object Boolean]",Wb="[object Date]",Gb="[object Error]",Kb="[object Map]",Vb="[object Number]",Zb="[object RegExp]",Yb="[object Set]",Xb="[object String]",Jb="[object Symbol]",Qb="[object ArrayBuffer]",tv="[object DataView]",mu=Ht?Ht.prototype:void 0,Ll=mu?mu.valueOf:void 0;function ev(e,t,n,r,i,s,l){switch(n){case tv:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Qb:return!(e.byteLength!=t.byteLength||!s(new is(e),new is(t)));case zb:case Wb:case Vb:return ke(+e,+t);case Gb:return e.name==t.name&&e.message==t.message;case Zb:case Xb:return e==t+"";case Kb:var a=Do;case Yb:var u=r&jb;if(a||(a=vs),e.size!=t.size&&!u)return!1;var c=l.get(e);if(c)return c==t;r|=Hb,l.set(e,t);var p=bf(a(e),a(t),r,i,s,l);return l.delete(e),p;case Jb:if(Ll)return Ll.call(e)==Ll.call(t)}return!1}var nv=1,rv=Object.prototype,iv=rv.hasOwnProperty;function sv(e,t,n,r,i,s){var l=n&nv,a=Gl(e),u=a.length,c=Gl(t),p=c.length;if(u!=p&&!l)return!1;for(var g=u;g--;){var d=a[g];if(!(l?d in t:iv.call(t,d)))return!1}var m=s.get(e),q=s.get(t);if(m&&q)return m==t&&q==e;var _=!0;s.set(e,t),s.set(t,e);for(var w=l;++g<u;){d=a[g];var A=e[d],N=t[d];if(r)var S=l?r(N,A,d,t,e,s):r(A,N,d,e,t,s);if(!(S===void 0?A===N||i(A,N,n,r,s):S)){_=!1;break}w||(w=d=="constructor")}if(_&&!w){var W=e.constructor,F=t.constructor;W!=F&&"constructor"in e&&"constructor"in t&&!(typeof W=="function"&&W instanceof W&&typeof F=="function"&&F instanceof F)&&(_=!1)}return s.delete(e),s.delete(t),_}var lv=1,bu="[object Arguments]",vu="[object Array]",Pi="[object Object]",ov=Object.prototype,qu=ov.hasOwnProperty;function av(e,t,n,r,i,s){var l=X(e),a=X(t),u=l?vu:De(e),c=a?vu:De(t);u=u==bu?Pi:u,c=c==bu?Pi:c;var p=u==Pi,g=c==Pi,d=u==c;if(d&&vn(e)){if(!vn(t))return!1;l=!0,p=!1}if(d&&!p)return s||(s=new Ee),l||xr(e)?bf(e,t,n,r,i,s):ev(e,t,u,n,r,i,s);if(!(n&lv)){var m=p&&qu.call(e,"__wrapped__"),q=g&&qu.call(t,"__wrapped__");if(m||q){var _=m?e.value():e,w=q?t.value():t;return s||(s=new Ee),i(_,w,n,r,s)}}return d?(s||(s=new Ee),sv(e,t,n,r,i,s)):!1}function ci(e,t,n,r,i){return e===t?!0:e==null||t==null||!Et(e)&&!Et(t)?e!==e&&t!==t:av(e,t,n,r,ci,i)}var uv=1,cv=2;function Fo(e,t,n,r){var i=n.length,s=i,l=!r;if(e==null)return!s;for(e=Object(e);i--;){var a=n[i];if(l&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<s;){a=n[i];var u=a[0],c=e[u],p=a[1];if(l&&a[2]){if(c===void 0&&!(u in e))return!1}else{var g=new Ee;if(r)var d=r(c,p,u,e,t,g);if(!(d===void 0?ci(p,c,uv|cv,r,g):d))return!1}}return!0}function vf(e){return e===e&&!At(e)}function Uo(e){for(var t=St(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,vf(i)]}return t}function qf(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function yf(e){var t=Uo(e);return t.length==1&&t[0][2]?qf(t[0][0],t[0][1]):function(n){return n===e||Fo(n,e,t)}}function fv(e,t){return e!=null&&t in Object(e)}function wf(e,t,n){t=yn(t,e);for(var r=-1,i=t.length,s=!1;++r<i;){var l=He(t[r]);if(!(s=e!=null&&n(e,l)))break;e=e[l]}return s||++r!=i?s:(i=e==null?0:e.length,!!i&&hs(i)&&rn(l,i)&&(X(e)||Mn(e)))}function jo(e,t){return e!=null&&wf(e,t,fv)}var hv=1,dv=2;function _f(e,t){return Eo(e)&&vf(t)?qf(He(e),t):function(n){var r=To(n,e);return r===void 0&&r===t?jo(n,e):ci(t,r,hv|dv)}}function Ho(e){return function(t){return t==null?void 0:t[e]}}function pv(e){return function(t){return jn(t,e)}}function xf(e){return Eo(e)?Ho(He(e)):pv(e)}function V(e){return typeof e=="function"?e:e==null?Jt:typeof e=="object"?X(e)?_f(e[0],e[1]):yf(e):xf(e)}var gv="Expected a function";function mv(e){var t=e==null?0:e.length,n=V;return e=t?xt(e,function(r){if(typeof r[1]!="function")throw new TypeError(gv);return[n(r[0]),r[1]]}):[],et(function(r){for(var i=-1;++i<t;){var s=e[i];if(ie(s[0],this,r))return ie(s[1],this,r)}})}function Af(e,t,n){var r=n.length;if(e==null)return!r;for(e=Object(e);r--;){var i=n[r],s=t[i],l=e[i];if(l===void 0&&!(i in e)||!s(l))return!1}return!0}function bv(e){var t=St(e);return function(n){return Af(n,e,t)}}var vv=1;function qv(e){return bv(pe(e,vv))}function yv(e,t){return t==null||Af(e,t,St(t))}function wv(e,t,n,r){for(var i=-1,s=e==null?0:e.length;++i<s;){var l=e[i];t(r,l,n(l),e)}return r}function Ef(e){return function(t,n,r){for(var i=-1,s=Object(t),l=r(t),a=l.length;a--;){var u=l[e?a:++i];if(n(s[u],u,s)===!1)break}return t}}var zo=Ef();function ze(e,t){return e&&zo(e,t,St)}function Tf(e,t){return function(n,r){if(n==null)return n;if(!Qt(n))return e(n,r);for(var i=n.length,s=t?i:-1,l=Object(n);(t?s--:++s<i)&&r(l[s],s,l)!==!1;);return n}}var An=Tf(ze);function _v(e,t,n,r){return An(e,function(i,s,l){t(r,i,n(i),l)}),r}function qs(e,t){return function(n,r){var i=X(n)?wv:_v,s=t?t():{};return i(n,e,V(r),s)}}var xv=Object.prototype,Av=xv.hasOwnProperty,Ev=qs(function(e,t,n){Av.call(e,n)?++e[n]:ln(e,n,1)});function Tv(e,t){var n=qr(e);return t==null?n:sf(n,t)}var Nv=8;function Wo(e,t,n){t=n?void 0:t;var r=sn(e,Nv,void 0,void 0,void 0,void 0,void 0,t);return r.placeholder=Wo.placeholder,r}Wo.placeholder={};var Lv=16;function Go(e,t,n){t=n?void 0:t;var r=sn(e,Lv,void 0,void 0,void 0,void 0,void 0,t);return r.placeholder=Go.placeholder,r}Go.placeholder={};var Qi=function(){return Ot.Date.now()},kv="Expected a function",Rv=Math.max,Ov=Math.min;function Nf(e,t,n){var r,i,s,l,a,u,c=0,p=!1,g=!1,d=!0;if(typeof e!="function")throw new TypeError(kv);t=de(t)||0,At(n)&&(p=!!n.leading,g="maxWait"in n,s=g?Rv(de(n.maxWait)||0,t):s,d="trailing"in n?!!n.trailing:d);function m(G){var lt=r,vt=i;return r=i=void 0,c=G,l=e.apply(vt,lt),l}function q(G){return c=G,a=setTimeout(A,t),p?m(G):l}function _(G){var lt=G-u,vt=G-c,Vt=t-lt;return g?Ov(Vt,s-vt):Vt}function w(G){var lt=G-u,vt=G-c;return u===void 0||lt>=t||lt<0||g&&vt>=s}function A(){var G=Qi();if(w(G))return N(G);a=setTimeout(A,_(G))}function N(G){return a=void 0,d&&r?m(G):(r=i=void 0,l)}function S(){a!==void 0&&clearTimeout(a),c=0,r=u=i=a=void 0}function W(){return a===void 0?l:N(Qi())}function F(){var G=Qi(),lt=w(G);if(r=arguments,i=this,u=G,lt){if(a===void 0)return q(u);if(g)return clearTimeout(a),a=setTimeout(A,t),m(u)}return a===void 0&&(a=setTimeout(A,t)),l}return F.cancel=S,F.flush=W,F}function Sv(e,t){return e==null||e!==e?t:e}var Lf=Object.prototype,Cv=Lf.hasOwnProperty,Iv=et(function(e,t){e=Object(e);var n=-1,r=t.length,i=r>2?t[2]:void 0;for(i&&Wt(t[0],t[1],i)&&(r=1);++n<r;)for(var s=t[n],l=te(s),a=-1,u=l.length;++a<u;){var c=l[a],p=e[c];(p===void 0||ke(p,Lf[c])&&!Cv.call(e,c))&&(e[c]=s[c])}return e});function Zl(e,t,n){(n!==void 0&&!ke(e[t],n)||n===void 0&&!(t in e))&&ln(e,t,n)}function Nt(e){return Et(e)&&Qt(e)}function Yl(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function kf(e){return je(e,te(e))}function $v(e,t,n,r,i,s,l){var a=Yl(e,n),u=Yl(t,n),c=l.get(u);if(c){Zl(e,n,c);return}var p=s?s(a,u,n+"",e,t,l):void 0,g=p===void 0;if(g){var d=X(u),m=!d&&vn(u),q=!d&&!m&&xr(u);p=u,d||m||q?X(a)?p=a:Nt(a)?p=Xt(a):m?(g=!1,p=of(u,!0)):q?(g=!1,p=cf(u,!0)):p=[]:ui(u)||Mn(u)?(p=a,Mn(a)?p=kf(a):(!At(a)||nn(a))&&(p=ff(u))):g=!1}g&&(l.set(u,p),i(p,u,r,s,l),l.delete(u)),Zl(e,n,p)}function ys(e,t,n,r,i){e!==t&&zo(t,function(s,l){if(i||(i=new Ee),At(s))$v(e,t,l,n,ys,r,i);else{var a=r?r(Yl(e,l),s,l+"",e,t,i):void 0;a===void 0&&(a=s),Zl(e,l,a)}},te)}function Rf(e,t,n,r,i,s){return At(e)&&At(t)&&(s.set(t,e),ys(e,t,void 0,Rf,s),s.delete(t)),e}var Of=_r(function(e,t,n,r){ys(e,t,n,r)}),Mv=et(function(e){return e.push(void 0,Rf),ie(Of,void 0,e)}),Bv="Expected a function";function Sf(e,t,n){if(typeof e!="function")throw new TypeError(Bv);return setTimeout(function(){e.apply(void 0,n)},t)}var Pv=et(function(e,t){return Sf(e,1,t)}),Dv=et(function(e,t,n){return Sf(e,de(t)||0,n)});function Ko(e,t,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}var Fv=200;function fi(e,t,n,r){var i=-1,s=cs,l=!0,a=e.length,u=[],c=t.length;if(!a)return u;n&&(t=xt(t,se(n))),r?(s=Ko,l=!1):t.length>=Fv&&(s=ni,l=!1,t=new Pn(t));t:for(;++i<a;){var p=e[i],g=n==null?p:n(p);if(p=r||p!==0?p:0,l&&g===g){for(var d=c;d--;)if(t[d]===g)continue t;u.push(p)}else s(t,g,r)||u.push(p)}return u}var Uv=et(function(e,t){return Nt(e)?fi(e,Mt(t,1,Nt,!0)):[]});function ve(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var jv=et(function(e,t){var n=ve(t);return Nt(n)&&(n=void 0),Nt(e)?fi(e,Mt(t,1,Nt,!0),V(n)):[]}),Hv=et(function(e,t){var n=ve(t);return Nt(n)&&(n=void 0),Nt(e)?fi(e,Mt(t,1,Nt,!0),void 0,n):[]}),zv=os(function(e,t){return e/t},1);function Wv(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===void 0?1:Q(t),be(e,t<0?0:t,r)):[]}function Gv(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===void 0?1:Q(t),t=r-t,be(e,0,t<0?0:t)):[]}function ws(e,t,n,r){for(var i=e.length,s=r?i:-1;(r?s--:++s<i)&&t(e[s],s,e););return n?be(e,r?0:s,r?s+1:i):be(e,r?s+1:0,r?i:s)}function Kv(e,t){return e&&e.length?ws(e,V(t),!0,!0):[]}function Vv(e,t){return e&&e.length?ws(e,V(t),!0):[]}function We(e){return typeof e=="function"?e:Jt}function Zv(e,t){var n=X(e)?qe:An;return n(e,We(t))}function Yv(e,t){for(var n=e==null?0:e.length;n--&&t(e[n],n,e)!==!1;);return e}var Cf=Ef(!0);function Vo(e,t){return e&&Cf(e,t,St)}var If=Tf(Vo,!0);function Xv(e,t){var n=X(e)?Yv:If;return n(e,We(t))}function Jv(e,t,n){e=dt(e),t=re(t);var r=e.length;n=n===void 0?r:Hn(Q(n),0,r);var i=n;return n-=t.length,n>=0&&e.slice(n,i)==t}function Qv(e,t){return xt(t,function(n){return[n,e[n]]})}function tq(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=[r,r]}),n}var eq="[object Map]",nq="[object Set]";function $f(e){return function(t){var n=De(t);return n==eq?Do(t):n==nq?tq(t):Qv(t,e(t))}}var rq=$f(St),iq=$f(te),sq={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},lq=So(sq),Mf=/[&<>"']/g,oq=RegExp(Mf.source);function Bf(e){return e=dt(e),e&&oq.test(e)?e.replace(Mf,lq):e}var Pf=/[\\^$.*+?()[\]{}|]/g,aq=RegExp(Pf.source);function uq(e){return e=dt(e),e&&aq.test(e)?e.replace(Pf,"\\$&"):e}function Df(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function cq(e,t){var n=!0;return An(e,function(r,i,s){return n=!!t(r,i,s),n}),n}function fq(e,t,n){var r=X(e)?Df:cq;return n&&Wt(e,t,n)&&(t=void 0),r(e,V(t))}var hq=4294967295;function Ff(e){return e?Hn(Q(e),0,hq):0}function dq(e,t,n,r){var i=e.length;for(n=Q(n),n<0&&(n=-n>i?0:i+n),r=r===void 0||r>i?i:Q(r),r<0&&(r+=i),r=n>r?0:Ff(r);n<r;)e[n++]=t;return e}function pq(e,t,n,r){var i=e==null?0:e.length;return i?(n&&typeof n!="number"&&Wt(e,t,n)&&(n=0,r=i),dq(e,t,n,r)):[]}function Uf(e,t){var n=[];return An(e,function(r,i,s){t(r,i,s)&&n.push(r)}),n}function gq(e,t){var n=X(e)?xn:Uf;return n(e,V(t))}function jf(e){return function(t,n,r){var i=Object(t);if(!Qt(t)){var s=V(n);t=St(t),n=function(a){return s(i[a],a,i)}}var l=e(t,n,r);return l>-1?i[s?t[l]:l]:void 0}}var mq=Math.max;function Hf(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=n==null?0:Q(n);return i<0&&(i=mq(r+i,0)),us(e,V(t),i)}var bq=jf(Hf);function zf(e,t,n){var r;return n(e,function(i,s,l){if(t(i,s,l))return r=s,!1}),r}function vq(e,t){return zf(e,V(t),ze)}var qq=Math.max,yq=Math.min;function Wf(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=r-1;return n!==void 0&&(i=Q(n),i=n<0?qq(r+i,0):yq(i,r-1)),us(e,V(t),i,!0)}var wq=jf(Wf);function _q(e,t){return zf(e,V(t),Vo)}function xq(e){return e&&e.length?e[0]:void 0}function Gf(e,t){var n=-1,r=Qt(e)?Array(e.length):[];return An(e,function(i,s,l){r[++n]=t(i,s,l)}),r}function _s(e,t){var n=X(e)?xt:Gf;return n(e,V(t))}function Aq(e,t){return Mt(_s(e,t),1)}var Eq=1/0;function Tq(e,t){return Mt(_s(e,t),Eq)}function Nq(e,t,n){return n=n===void 0?1:Q(n),Mt(_s(e,t),n)}var Lq=1/0;function kq(e){var t=e==null?0:e.length;return t?Mt(e,Lq):[]}function Rq(e,t){var n=e==null?0:e.length;return n?(t=t===void 0?1:Q(t),Mt(e,t)):[]}var Oq=512;function Sq(e){return sn(e,Oq)}var Cq=Co("floor"),Iq="Expected a function",$q=8,Mq=32,Bq=128,Pq=256;function Kf(e){return un(function(t){var n=t.length,r=n,i=ge.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if(typeof s!="function")throw new TypeError(Iq);if(i&&!l&&Ji(s)=="wrapper")var l=new ge([],!0)}for(r=l?r:n;++r<n;){s=t[r];var a=Ji(s),u=a=="wrapper"?qo(s):void 0;u&&jl(u[0])&&u[1]==(Bq|$q|Mq|Pq)&&!u[4].length&&u[9]==1?l=l[Ji(u[0])].apply(l,u[3]):l=s.length==1&&jl(s)?l[a]():l.thru(s)}return function(){var c=arguments,p=c[0];if(l&&c.length==1&&X(p))return l.plant(p).value();for(var g=0,d=n?t[g].apply(this,c):p;++g<n;)d=t[g].call(this,d);return d}})}var Dq=Kf(),Fq=Kf(!0);function Uq(e,t){return e==null?e:zo(e,We(t),te)}function jq(e,t){return e==null?e:Cf(e,We(t),te)}function Hq(e,t){return e&&ze(e,We(t))}function zq(e,t){return e&&Vo(e,We(t))}function Wq(e){for(var t=-1,n=e==null?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r}function xs(e,t){return xn(t,function(n){return nn(e[n])})}function Gq(e){return e==null?[]:xs(e,St(e))}function Kq(e){return e==null?[]:xs(e,te(e))}var Vq=Object.prototype,Zq=Vq.hasOwnProperty,Yq=qs(function(e,t,n){Zq.call(e,n)?e[n].push(t):ln(e,n,[t])});function Zo(e,t){return e>t}function As(e){return function(t,n){return typeof t=="string"&&typeof n=="string"||(t=de(t),n=de(n)),e(t,n)}}var Xq=As(Zo),Jq=As(function(e,t){return e>=t}),Qq=Object.prototype,ty=Qq.hasOwnProperty;function ey(e,t){return e!=null&&ty.call(e,t)}function ny(e,t){return e!=null&&wf(e,t,ey)}var ry=Math.max,iy=Math.min;function sy(e,t,n){return e>=iy(t,n)&&e<ry(t,n)}function ly(e,t,n){return t=Je(t),n===void 0?(n=t,t=0):n=Je(n),e=de(e),sy(e,t,n)}var oy="[object String]";function Es(e){return typeof e=="string"||!X(e)&&Et(e)&&Gt(e)==oy}function Yo(e,t){return xt(t,function(n){return e[n]})}function Tr(e){return e==null?[]:Yo(e,St(e))}var ay=Math.max;function uy(e,t,n,r){e=Qt(e)?e:Tr(e),n=n&&!r?Q(n):0;var i=e.length;return n<0&&(n=ay(i+n,0)),Es(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&yr(e,t,n)>-1}var cy=Math.max;function fy(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=n==null?0:Q(n);return i<0&&(i=cy(r+i,0)),yr(e,t,i)}function hy(e){var t=e==null?0:e.length;return t?be(e,0,-1):[]}var dy=Math.min;function Xo(e,t,n){for(var r=n?Ko:cs,i=e[0].length,s=e.length,l=s,a=Array(s),u=1/0,c=[];l--;){var p=e[l];l&&t&&(p=xt(p,se(t))),u=dy(p.length,u),a[l]=!n&&(t||i>=120&&p.length>=120)?new Pn(l&&p):void 0}p=e[0];var g=-1,d=a[0];t:for(;++g<i&&c.length<u;){var m=p[g],q=t?t(m):m;if(m=n||m!==0?m:0,!(d?ni(d,q):r(c,q,n))){for(l=s;--l;){var _=a[l];if(!(_?ni(_,q):r(e[l],q,n)))continue t}d&&d.push(q),c.push(m)}}return c}function Jo(e){return Nt(e)?e:[]}var py=et(function(e){var t=xt(e,Jo);return t.length&&t[0]===e[0]?Xo(t):[]}),gy=et(function(e){var t=ve(e),n=xt(e,Jo);return t===ve(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?Xo(n,V(t)):[]}),my=et(function(e){var t=ve(e),n=xt(e,Jo);return t=typeof t=="function"?t:void 0,t&&n.pop(),n.length&&n[0]===e[0]?Xo(n,void 0,t):[]});function by(e,t,n,r){return ze(e,function(i,s,l){t(r,n(i),s,l)}),r}function Vf(e,t){return function(n,r){return by(n,e,t(r),{})}}var vy=Object.prototype,qy=vy.toString,yy=Vf(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=qy.call(t)),e[t]=n},yo(Jt)),Zf=Object.prototype,wy=Zf.hasOwnProperty,_y=Zf.toString,xy=Vf(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=_y.call(t)),wy.call(e,t)?e[t].push(n):e[t]=[n]},V);function Yf(e,t){return t.length<2?e:jn(e,be(t,0,-1))}function hi(e,t,n){t=yn(t,e),e=Yf(e,t);var r=e==null?e:e[He(ve(t))];return r==null?void 0:ie(r,e,n)}var Ay=et(hi),Ey=et(function(e,t,n){var r=-1,i=typeof t=="function",s=Qt(e)?Array(e.length):[];return An(e,function(l){s[++r]=i?ie(t,l,n):hi(l,t,n)}),s}),Ty="[object ArrayBuffer]";function Ny(e){return Et(e)&&Gt(e)==Ty}var yu=me&&me.isArrayBuffer,Ly=yu?se(yu):Ny,ky="[object Boolean]";function Ry(e){return e===!0||e===!1||Et(e)&&Gt(e)==ky}var Oy="[object Date]";function Sy(e){return Et(e)&&Gt(e)==Oy}var wu=me&&me.isDate,Cy=wu?se(wu):Sy;function Iy(e){return Et(e)&&e.nodeType===1&&!ui(e)}var $y="[object Map]",My="[object Set]",By=Object.prototype,Py=By.hasOwnProperty;function Dy(e){if(e==null)return!0;if(Qt(e)&&(X(e)||typeof e=="string"||typeof e.splice=="function"||vn(e)||xr(e)||Mn(e)))return!e.length;var t=De(e);if(t==$y||t==My)return!e.size;if(ai(e))return!Ao(e).length;for(var n in e)if(Py.call(e,n))return!1;return!0}function Ts(e,t){return ci(e,t)}function Fy(e,t,n){n=typeof n=="function"?n:void 0;var r=n?n(e,t):void 0;return r===void 0?ci(e,t,void 0,n):!!r}var Uy=Ot.isFinite;function jy(e){return typeof e=="number"&&Uy(e)}function Xf(e){return typeof e=="number"&&e==Q(e)}function Hy(e,t){return e===t||Fo(e,t,Uo(t))}function zy(e,t,n){return n=typeof n=="function"?n:void 0,Fo(e,t,Uo(t),n)}var Wy="[object Number]";function Jf(e){return typeof e=="number"||Et(e)&&Gt(e)==Wy}function Gy(e){return Jf(e)&&e!=+e}var Ky=Xi?nn:xo,Vy="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.";function Zy(e){if(Ky(e))throw new Error(Vy);return hc(e)}function Yy(e){return e==null}function Xy(e){return e===null}var Jy="[object RegExp]";function Qy(e){return Et(e)&&Gt(e)==Jy}var _u=me&&me.isRegExp,Qo=_u?se(_u):Qy,tw=9007199254740991;function ew(e){return Xf(e)&&e>=-9007199254740991&&e<=tw}function nw(e){return e===void 0}var rw="[object WeakMap]";function iw(e){return Et(e)&&De(e)==rw}var sw="[object WeakSet]";function lw(e){return Et(e)&&Gt(e)==sw}var ow=1;function aw(e){return V(typeof e=="function"?e:pe(e,ow))}var uw=Array.prototype,cw=uw.join;function fw(e,t){return e==null?"":cw.call(e,t)}var hw=Er(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),dw=qs(function(e,t,n){ln(e,n,t)});function pw(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}var gw=Math.max,mw=Math.min;function bw(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=r;return n!==void 0&&(i=Q(n),i=i<0?gw(r+i,0):mw(i,r-1)),t===t?pw(e,t,i):us(e,qc,i,!0)}var vw=Er(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),qw=Fc("toLowerCase");function ta(e,t){return e<t}var yw=As(ta),ww=As(function(e,t){return e<=t});function _w(e,t){var n={};return t=V(t),ze(e,function(r,i,s){ln(n,t(r,i,s),r)}),n}function xw(e,t){var n={};return t=V(t),ze(e,function(r,i,s){ln(n,i,t(r,i,s))}),n}var Aw=1;function Ew(e){return yf(pe(e,Aw))}var Tw=1;function Nw(e,t){return _f(e,pe(t,Tw))}function Ns(e,t,n){for(var r=-1,i=e.length;++r<i;){var s=e[r],l=t(s);if(l!=null&&(a===void 0?l===l&&!ne(l):n(l,a)))var a=l,u=s}return u}function Lw(e){return e&&e.length?Ns(e,Jt,Zo):void 0}function kw(e,t){return e&&e.length?Ns(e,V(t),Zo):void 0}function ea(e,t){for(var n,r=-1,i=e.length;++r<i;){var s=t(e[r]);s!==void 0&&(n=n===void 0?s:n+s)}return n}var Rw=NaN;function Qf(e,t){var n=e==null?0:e.length;return n?ea(e,t)/n:Rw}function Ow(e){return Qf(e,Jt)}function Sw(e,t){return Qf(e,V(t))}var Qe=_r(function(e,t,n){ys(e,t,n)}),Cw=et(function(e,t){return function(n){return hi(n,e,t)}}),Iw=et(function(e,t){return function(n){return hi(e,n,t)}});function $w(e){return e&&e.length?Ns(e,Jt,ta):void 0}function Mw(e,t){return e&&e.length?Ns(e,V(t),ta):void 0}function Bw(e,t,n){var r=St(t),i=xs(t,r),s=!(At(n)&&"chain"in n)||!!n.chain,l=nn(e);return qe(i,function(a){var u=t[a];e[a]=u,l&&(e.prototype[a]=function(){var c=this.__chain__;if(s||c){var p=e(this.__wrapped__),g=p.__actions__=Xt(this.__actions__);return g.push({func:u,args:arguments,thisArg:e}),p.__chain__=c,p}return u.apply(e,wn([this.value()],arguments))})}),e}var Pw=os(function(e,t){return e*t},1),Dw="Expected a function";function Ls(e){if(typeof e!="function")throw new TypeError(Dw);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Fw(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}var Uw="[object Map]",jw="[object Set]",kl=Ht?Ht.iterator:void 0;function th(e){if(!e)return[];if(Qt(e))return Es(e)?Ne(e):Xt(e);if(kl&&e[kl])return Fw(e[kl]());var t=De(e),n=t==Uw?Do:t==jw?vs:Tr;return n(e)}function Hw(){this.__values__===void 0&&(this.__values__=th(this.value()));var e=this.__index__>=this.__values__.length,t=e?void 0:this.__values__[this.__index__++];return{done:e,value:t}}function eh(e,t){var n=e.length;if(n)return t+=t<0?n:0,rn(t,n)?e[t]:void 0}function zw(e,t){return e&&e.length?eh(e,Q(t)):void 0}function Ww(e){return e=Q(e),et(function(t){return eh(t,e)})}function na(e,t){return t=yn(t,e),e=Yf(e,t),e==null||delete e[He(ve(t))]}function Gw(e){return ui(e)?void 0:e}var Kw=1,Vw=2,Zw=4,Yw=un(function(e,t){var n={};if(e==null)return n;var r=!1;t=xt(t,function(s){return s=yn(s,e),r||(r=s.length>1),s}),je(e,Mo(e),n),r&&(n=pe(n,Kw|Vw|Zw,Gw));for(var i=t.length;i--;)na(n,t[i]);return n});function di(e,t,n,r){if(!At(e))return e;t=yn(t,e);for(var i=-1,s=t.length,l=s-1,a=e;a!=null&&++i<s;){var u=He(t[i]),c=n;if(u==="__proto__"||u==="constructor"||u==="prototype")return e;if(i!=l){var p=a[u];c=r?r(p,u,a):void 0,c===void 0&&(c=At(p)?p:rn(t[i+1])?[]:{})}oi(a,u,c),a=a[u]}return e}function nh(e,t,n){for(var r=-1,i=t.length,s={};++r<i;){var l=t[r],a=jn(e,l);n(a,l)&&di(s,yn(l,e),a)}return s}function rh(e,t){if(e==null)return{};var n=xt(Mo(e),function(r){return[r]});return t=V(t),nh(e,n,function(r,i){return t(r,i[0])})}function Xw(e,t){return rh(e,Ls(V(t)))}function Jw(e){return Cc(2,e)}function Qw(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function ih(e,t){if(e!==t){var n=e!==void 0,r=e===null,i=e===e,s=ne(e),l=t!==void 0,a=t===null,u=t===t,c=ne(t);if(!a&&!c&&!s&&e>t||s&&l&&u&&!a&&!c||r&&l&&u||!n&&u||!i)return 1;if(!r&&!s&&!c&&e<t||c&&n&&i&&!r&&!s||a&&n&&i||!l&&i||!u)return-1}return 0}function t_(e,t,n){for(var r=-1,i=e.criteria,s=t.criteria,l=i.length,a=n.length;++r<l;){var u=ih(i[r],s[r]);if(u){if(r>=a)return u;var c=n[r];return u*(c=="desc"?-1:1)}}return e.index-t.index}function sh(e,t,n){t.length?t=xt(t,function(s){return X(s)?function(l){return jn(l,s.length===1?s[0]:s)}:s}):t=[Jt];var r=-1;t=xt(t,se(V));var i=Gf(e,function(s,l,a){var u=xt(t,function(c){return c(s)});return{criteria:u,index:++r,value:s}});return Qw(i,function(s,l){return t_(s,l,n)})}function e_(e,t,n,r){return e==null?[]:(X(t)||(t=t==null?[]:[t]),n=r?void 0:n,X(n)||(n=n==null?[]:[n]),sh(e,t,n))}function ra(e){return un(function(t){return t=xt(t,se(V)),et(function(n){var r=this;return e(t,function(i){return ie(i,r,n)})})})}var n_=ra(xt),r_=et,i_=Math.min,s_=r_(function(e,t){t=t.length==1&&X(t[0])?xt(t[0],se(V)):xt(Mt(t,1),se(V));var n=t.length;return et(function(r){for(var i=-1,s=i_(r.length,n);++i<s;)r[i]=t[i].call(this,r[i]);return ie(e,this,r)})}),l_=ra(Df),o_=ra(Po),a_=9007199254740991,u_=Math.floor;function Xl(e,t){var n="";if(!e||t<1||t>a_)return n;do t%2&&(n+=e),t=u_(t/2),t&&(e+=e);while(t);return n}var c_=Ho("length"),lh="\\ud800-\\udfff",f_="\\u0300-\\u036f",h_="\\ufe20-\\ufe2f",d_="\\u20d0-\\u20ff",p_=f_+h_+d_,g_="\\ufe0e\\ufe0f",m_="["+lh+"]",Jl="["+p_+"]",Ql="\\ud83c[\\udffb-\\udfff]",b_="(?:"+Jl+"|"+Ql+")",oh="[^"+lh+"]",ah="(?:\\ud83c[\\udde6-\\uddff]){2}",uh="[\\ud800-\\udbff][\\udc00-\\udfff]",v_="\\u200d",ch=b_+"?",fh="["+g_+"]?",q_="(?:"+v_+"(?:"+[oh,ah,uh].join("|")+")"+fh+ch+")*",y_=fh+ch+q_,w_="(?:"+[oh+Jl+"?",Jl,ah,uh,m_].join("|")+")",xu=RegExp(Ql+"(?="+Ql+")|"+w_+y_,"g");function __(e){for(var t=xu.lastIndex=0;xu.test(e);)++t;return t}function Nr(e){return Ar(e)?__(e):c_(e)}var x_=Math.ceil;function ss(e,t){t=t===void 0?" ":re(t);var n=t.length;if(n<2)return n?Xl(t,e):t;var r=Xl(t,x_(e/Nr(t)));return Ar(t)?_n(Ne(r),0,e).join(""):r.slice(0,e)}var A_=Math.ceil,E_=Math.floor;function T_(e,t,n){e=dt(e),t=Q(t);var r=t?Nr(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return ss(E_(i),n)+e+ss(A_(i),n)}function N_(e,t,n){e=dt(e),t=Q(t);var r=t?Nr(e):0;return t&&r<t?e+ss(t-r,n):e}function L_(e,t,n){e=dt(e),t=Q(t);var r=t?Nr(e):0;return t&&r<t?ss(t-r,n)+e:e}var k_=/^\s+/,R_=Ot.parseInt;function O_(e,t,n){return n||t==null?t=0:t&&(t=+t),R_(dt(e).replace(k_,""),t||0)}var S_=32,ks=et(function(e,t){var n=bn(t,wr(ks));return sn(e,S_,void 0,t,n)});ks.placeholder={};var C_=64,ia=et(function(e,t){var n=bn(t,wr(ia));return sn(e,C_,void 0,t,n)});ia.placeholder={};var I_=qs(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});function $_(e,t){return nh(e,t,function(n,r){return jo(e,r)})}var M_=un(function(e,t){return e==null?{}:$_(e,t)});function B_(e){for(var t,n=this;n instanceof as;){var r=mc(n);r.__index__=0,r.__values__=void 0,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t}function P_(e){return function(t){return e==null?void 0:jn(e,t)}}function D_(e,t,n,r){for(var i=n-1,s=e.length;++i<s;)if(r(e[i],t))return i;return-1}var F_=Array.prototype,Au=F_.splice;function sa(e,t,n,r){var i=r?D_:yr,s=-1,l=t.length,a=e;for(e===t&&(t=Xt(t)),n&&(a=xt(e,se(n)));++s<l;)for(var u=0,c=t[s],p=n?n(c):c;(u=i(a,p,u,r))>-1;)a!==e&&Au.call(a,u,1),Au.call(e,u,1);return e}function hh(e,t){return e&&e.length&&t&&t.length?sa(e,t):e}var U_=et(hh);function j_(e,t,n){return e&&e.length&&t&&t.length?sa(e,t,V(n)):e}function H_(e,t,n){return e&&e.length&&t&&t.length?sa(e,t,void 0,n):e}var z_=Array.prototype,W_=z_.splice;function dh(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==s){var s=i;rn(i)?W_.call(e,i,1):na(e,i)}}return e}var G_=un(function(e,t){var n=e==null?0:e.length,r=No(e,t);return dh(e,xt(t,function(i){return rn(i,n)?+i:i}).sort(ih)),r}),K_=Math.floor,V_=Math.random;function la(e,t){return e+K_(V_()*(t-e+1))}var Z_=parseFloat,Y_=Math.min,X_=Math.random;function J_(e,t,n){if(n&&typeof n!="boolean"&&Wt(e,t,n)&&(t=n=void 0),n===void 0&&(typeof t=="boolean"?(n=t,t=void 0):typeof e=="boolean"&&(n=e,e=void 0)),e===void 0&&t===void 0?(e=0,t=1):(e=Je(e),t===void 0?(t=e,e=0):t=Je(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=X_();return Y_(e+i*(t-e+Z_("1e-"+((i+"").length-1))),t)}return la(e,t)}var Q_=Math.ceil,tx=Math.max;function ex(e,t,n,r){for(var i=-1,s=tx(Q_((t-e)/(n||1)),0),l=Array(s);s--;)l[r?s:++i]=e,e+=n;return l}function ph(e){return function(t,n,r){return r&&typeof r!="number"&&Wt(t,n,r)&&(n=r=void 0),t=Je(t),n===void 0?(n=t,t=0):n=Je(n),r=r===void 0?t<n?1:-1:Je(r),ex(t,n,r,e)}}var nx=ph(),rx=ph(!0),ix=256,sx=un(function(e,t){return sn(e,ix,void 0,void 0,void 0,t)});function gh(e,t,n,r,i){return i(e,function(s,l,a){n=r?(r=!1,s):t(n,s,l,a)}),n}function lx(e,t,n){var r=X(e)?Oo:gh,i=arguments.length<3;return r(e,V(t),n,i,An)}function ox(e,t,n,r){var i=e==null?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function ax(e,t,n){var r=X(e)?ox:gh,i=arguments.length<3;return r(e,V(t),n,i,If)}function ux(e,t){var n=X(e)?xn:Uf;return n(e,Ls(V(t)))}function cx(e,t){var n=[];if(!(e&&e.length))return n;var r=-1,i=[],s=e.length;for(t=V(t);++r<s;){var l=e[r];t(l,r,e)&&(n.push(l),i.push(r))}return dh(e,i),n}function fx(e,t,n){return(n?Wt(e,t,n):t===void 0)?t=1:t=Q(t),Xl(dt(e),t)}function hx(){var e=arguments,t=dt(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var dx="Expected a function";function px(e,t){if(typeof e!="function")throw new TypeError(dx);return t=t===void 0?t:Q(t),et(e,t)}function gx(e,t,n){t=yn(t,e);var r=-1,i=t.length;for(i||(i=1,e=void 0);++r<i;){var s=e==null?void 0:e[He(t[r])];s===void 0&&(r=i,s=n),e=nn(s)?s.call(e):s}return e}var mx=Array.prototype,bx=mx.reverse;function to(e){return e==null?e:bx.call(e)}var vx=Co("round");function mh(e){var t=e.length;return t?e[la(0,t-1)]:void 0}function qx(e){return mh(Tr(e))}function yx(e){var t=X(e)?mh:qx;return t(e)}function Rs(e,t){var n=-1,r=e.length,i=r-1;for(t=t===void 0?r:t;++n<t;){var s=la(n,i),l=e[s];e[s]=e[n],e[n]=l}return e.length=t,e}function wx(e,t){return Rs(Xt(e),Hn(t,0,e.length))}function _x(e,t){var n=Tr(e);return Rs(n,Hn(t,0,n.length))}function xx(e,t,n){(n?Wt(e,t,n):t===void 0)?t=1:t=Q(t);var r=X(e)?wx:_x;return r(e,t)}function Ax(e,t,n){return e==null?e:di(e,t,n)}function Ex(e,t,n,r){return r=typeof r=="function"?r:void 0,e==null?e:di(e,t,n,r)}function Tx(e){return Rs(Xt(e))}function Nx(e){return Rs(Tr(e))}function Lx(e){var t=X(e)?Tx:Nx;return t(e)}var kx="[object Map]",Rx="[object Set]";function Ox(e){if(e==null)return 0;if(Qt(e))return Es(e)?Nr(e):e.length;var t=De(e);return t==kx||t==Rx?e.size:Ao(e).length}function Sx(e,t,n){var r=e==null?0:e.length;return r?(n&&typeof n!="number"&&Wt(e,t,n)?(t=0,n=r):(t=t==null?0:Q(t),n=n===void 0?r:Q(n)),be(e,t,n)):[]}var Cx=Er(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});function Ix(e,t){var n;return An(e,function(r,i,s){return n=t(r,i,s),!n}),!!n}function $x(e,t,n){var r=X(e)?Po:Ix;return n&&Wt(e,t,n)&&(t=void 0),r(e,V(t))}var Mx=et(function(e,t){if(e==null)return[];var n=t.length;return n>1&&Wt(e,t[0],t[1])?t=[]:n>2&&Wt(t[0],t[1],t[2])&&(t=[t[0]]),sh(e,Mt(t,1),[])}),Bx=4294967295,Px=Bx-1,Dx=Math.floor,Fx=Math.min;function oa(e,t,n,r){var i=0,s=e==null?0:e.length;if(s===0)return 0;t=n(t);for(var l=t!==t,a=t===null,u=ne(t),c=t===void 0;i<s;){var p=Dx((i+s)/2),g=n(e[p]),d=g!==void 0,m=g===null,q=g===g,_=ne(g);if(l)var w=r||q;else c?w=q&&(r||d):a?w=q&&d&&(r||!m):u?w=q&&d&&!m&&(r||!_):m||_?w=!1:w=r?g<=t:g<t;w?i=p+1:s=p}return Fx(s,Px)}var Ux=4294967295,jx=Ux>>>1;function Os(e,t,n){var r=0,i=e==null?r:e.length;if(typeof t=="number"&&t===t&&i<=jx){for(;r<i;){var s=r+i>>>1,l=e[s];l!==null&&!ne(l)&&(n?l<=t:l<t)?r=s+1:i=s}return i}return oa(e,t,Jt,n)}function Hx(e,t){return Os(e,t)}function zx(e,t,n){return oa(e,t,V(n))}function Wx(e,t){var n=e==null?0:e.length;if(n){var r=Os(e,t);if(r<n&&ke(e[r],t))return r}return-1}function Gx(e,t){return Os(e,t,!0)}function Kx(e,t,n){return oa(e,t,V(n),!0)}function Vx(e,t){var n=e==null?0:e.length;if(n){var r=Os(e,t,!0)-1;if(ke(e[r],t))return r}return-1}function bh(e,t){for(var n=-1,r=e.length,i=0,s=[];++n<r;){var l=e[n],a=t?t(l):l;if(!n||!ke(a,u)){var u=a;s[i++]=l===0?0:l}}return s}function Zx(e){return e&&e.length?bh(e):[]}function Yx(e,t){return e&&e.length?bh(e,V(t)):[]}var Xx=4294967295;function Jx(e,t,n){return n&&typeof n!="number"&&Wt(e,t,n)&&(t=n=void 0),n=n===void 0?Xx:n>>>0,n?(e=dt(e),e&&(typeof t=="string"||t!=null&&!Qo(t))&&(t=re(t),!t&&Ar(e))?_n(Ne(e),0,n):e.split(t,n)):[]}var Qx="Expected a function",tA=Math.max;function eA(e,t){if(typeof e!="function")throw new TypeError(Qx);return t=t==null?0:tA(Q(t),0),et(function(n){var r=n[t],i=_n(n,0,t);return r&&wn(i,r),ie(e,this,i)})}var nA=Er(function(e,t,n){return e+(n?" ":"")+Ro(t)});function rA(e,t,n){return e=dt(e),n=n==null?0:Hn(Q(n),0,e.length),t=re(t),e.slice(n,n+t.length)==t}function iA(){return{}}function sA(){return""}function lA(){return!0}var oA=os(function(e,t){return e-t},0);function aA(e){return e&&e.length?ea(e,Jt):0}function uA(e,t){return e&&e.length?ea(e,V(t)):0}function cA(e){var t=e==null?0:e.length;return t?be(e,1,t):[]}function fA(e,t,n){return e&&e.length?(t=n||t===void 0?1:Q(t),be(e,0,t<0?0:t)):[]}function hA(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===void 0?1:Q(t),t=r-t,be(e,t<0?0:t,r)):[]}function dA(e,t){return e&&e.length?ws(e,V(t),!1,!0):[]}function pA(e,t){return e&&e.length?ws(e,V(t)):[]}function gA(e,t){return t(e),e}var vh=Object.prototype,mA=vh.hasOwnProperty;function Eu(e,t,n,r){return e===void 0||ke(e,vh[n])&&!mA.call(r,n)?t:e}var bA={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function vA(e){return"\\"+bA[e]}var qh=/<%=([\s\S]+?)%>/g,qA=/<%-([\s\S]+?)%>/g,yA=/<%([\s\S]+?)%>/g,eo={escape:qA,evaluate:yA,interpolate:qh,variable:"",imports:{_:{escape:Bf}}},wA="Invalid `variable` option passed into `_.template`",_A=/\b__p \+= '';/g,xA=/\b(__p \+=) '' \+/g,AA=/(__e\(.*?\)|\b__t\)) \+\n'';/g,EA=/[()=,{}\[\]\/\s]/,TA=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Di=/($^)/,NA=/['\n\r\u2028\u2029\\]/g,LA=Object.prototype,Tu=LA.hasOwnProperty;function kA(e,t,n){var r=eo.imports._.templateSettings||eo;n&&Wt(e,t,n)&&(t=void 0),e=dt(e),t=Hl({},t,r,Eu);var i=Hl({},t.imports,r.imports,Eu),s=St(i),l=Yo(i,s),a,u,c=0,p=t.interpolate||Di,g="__p += '",d=RegExp((t.escape||Di).source+"|"+p.source+"|"+(p===qh?TA:Di).source+"|"+(t.evaluate||Di).source+"|$","g"),m=Tu.call(t,"sourceURL")?"//# sourceURL="+(t.sourceURL+"").replace(/\s/g," ")+`
`:"";e.replace(d,function(w,A,N,S,W,F){return N||(N=S),g+=e.slice(c,F).replace(NA,vA),A&&(a=!0,g+=`' +
__e(`+A+`) +
'`),W&&(u=!0,g+=`';
`+W+`;
__p += '`),N&&(g+=`' +
((__t = (`+N+`)) == null ? '' : __t) +
'`),c=F+w.length,w}),g+=`';
`;var q=Tu.call(t,"variable")&&t.variable;if(!q)g=`with (obj) {
`+g+`
}
`;else if(EA.test(q))throw new Error(wA);g=(u?g.replace(_A,""):g).replace(xA,"$1").replace(AA,"$1;"),g="function("+(q||"obj")+`) {
`+(q?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(a?", __e = _.escape":"")+(u?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+g+`return __p
}`;var _=Sc(function(){return Function(s,m+"return "+g).apply(void 0,l)});if(_.source=g,Lo(_))throw _;return _}var RA="Expected a function";function OA(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(RA);return At(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Nf(e,t,{leading:r,maxWait:t,trailing:i})}function Ss(e,t){return t(e)}var SA=9007199254740991,Rl=4294967295,CA=Math.min;function IA(e,t){if(e=Q(e),e<1||e>SA)return[];var n=Rl,r=CA(e,Rl);t=We(t),e-=Rl;for(var i=_o(r,t);++n<e;)t(n);return i}function $A(){return this}function yh(e,t){var n=e;return n instanceof it&&(n=n.value()),Oo(t,function(r,i){return i.func.apply(i.thisArg,wn([r],i.args))},n)}function MA(){return yh(this.__wrapped__,this.__actions__)}function BA(e){return dt(e).toLowerCase()}function PA(e){return X(e)?xt(e,He):ne(e)?[e]:Xt(kc(dt(e)))}var DA=9007199254740991;function FA(e){return e?Hn(Q(e),-9007199254740991,DA):e===0?e:0}function UA(e){return dt(e).toUpperCase()}function jA(e,t,n){var r=X(e),i=r||vn(e)||xr(e);if(t=V(t),n==null){var s=e&&e.constructor;i?n=r?new s:[]:At(e)?n=nn(s)?qr(ms(e)):{}:n={}}return(i?qe:ze)(e,function(l,a,u){return t(n,l,a,u)}),n}function wh(e,t){for(var n=e.length;n--&&yr(t,e[n],0)>-1;);return n}function _h(e,t){for(var n=-1,r=e.length;++n<r&&yr(t,e[n],0)>-1;);return n}function HA(e,t,n){if(e=dt(e),e&&(n||t===void 0))return fc(e);if(!e||!(t=re(t)))return e;var r=Ne(e),i=Ne(t),s=_h(r,i),l=wh(r,i)+1;return _n(r,s,l).join("")}function zA(e,t,n){if(e=dt(e),e&&(n||t===void 0))return e.slice(0,cc(e)+1);if(!e||!(t=re(t)))return e;var r=Ne(e),i=wh(r,Ne(t))+1;return _n(r,0,i).join("")}var WA=/^\s+/;function GA(e,t,n){if(e=dt(e),e&&(n||t===void 0))return e.replace(WA,"");if(!e||!(t=re(t)))return e;var r=Ne(e),i=_h(r,Ne(t));return _n(r,i).join("")}var KA=30,VA="...",ZA=/\w*$/;function YA(e,t){var n=KA,r=VA;if(At(t)){var i="separator"in t?t.separator:i;n="length"in t?Q(t.length):n,r="omission"in t?re(t.omission):r}e=dt(e);var s=e.length;if(Ar(e)){var l=Ne(e);s=l.length}if(n>=s)return e;var a=n-Nr(r);if(a<1)return r;var u=l?_n(l,0,a).join(""):e.slice(0,a);if(i===void 0)return u+r;if(l&&(a+=u.length-a),Qo(i)){if(e.slice(a).search(i)){var c,p=u;for(i.global||(i=RegExp(i.source,dt(ZA.exec(i))+"g")),i.lastIndex=0;c=i.exec(p);)var g=c.index;u=u.slice(0,g===void 0?a:g)}}else if(e.indexOf(re(i),a)!=a){var d=u.lastIndexOf(i);d>-1&&(u=u.slice(0,d))}return u+r}function XA(e){return _c(e,1)}var JA={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},QA=So(JA),xh=/&(?:amp|lt|gt|quot|#39);/g,tE=RegExp(xh.source);function eE(e){return e=dt(e),e&&tE.test(e)?e.replace(xh,QA):e}var nE=1/0,rE=hr&&1/vs(new hr([,-0]))[1]==nE?function(e){return new hr(e)}:vo,iE=200;function qn(e,t,n){var r=-1,i=cs,s=e.length,l=!0,a=[],u=a;if(n)l=!1,i=Ko;else if(s>=iE){var c=t?null:rE(e);if(c)return vs(c);l=!1,i=ni,u=new Pn}else u=t?[]:a;t:for(;++r<s;){var p=e[r],g=t?t(p):p;if(p=n||p!==0?p:0,l&&g===g){for(var d=u.length;d--;)if(u[d]===g)continue t;t&&u.push(g),a.push(p)}else i(u,g,n)||(u!==a&&u.push(g),a.push(p))}return a}var sE=et(function(e){return qn(Mt(e,1,Nt,!0))}),lE=et(function(e){var t=ve(e);return Nt(t)&&(t=void 0),qn(Mt(e,1,Nt,!0),V(t))}),oE=et(function(e){var t=ve(e);return t=typeof t=="function"?t:void 0,qn(Mt(e,1,Nt,!0),void 0,t)});function aE(e){return e&&e.length?qn(e):[]}function uE(e,t){return e&&e.length?qn(e,V(t)):[]}function cE(e,t){return t=typeof t=="function"?t:void 0,e&&e.length?qn(e,void 0,t):[]}var fE=0;function hE(e){var t=++fE;return dt(e)+t}function dE(e,t){return e==null?!0:na(e,t)}var pE=Math.max;function aa(e){if(!(e&&e.length))return[];var t=0;return e=xn(e,function(n){if(Nt(n))return t=pE(n.length,t),!0}),_o(t,function(n){return xt(e,Ho(n))})}function Ah(e,t){if(!(e&&e.length))return[];var n=aa(e);return t==null?n:xt(n,function(r){return ie(t,void 0,r)})}function Eh(e,t,n,r){return di(e,t,n(jn(e,t)),r)}function gE(e,t,n){return e==null?e:Eh(e,t,We(n))}function mE(e,t,n,r){return r=typeof r=="function"?r:void 0,e==null?e:Eh(e,t,We(n),r)}var bE=Er(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()});function vE(e){return e==null?[]:Yo(e,te(e))}var qE=et(function(e,t){return Nt(e)?fi(e,t):[]});function yE(e,t){return ks(We(t),e)}var wE=un(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(s){return No(s,e)};return t>1||this.__actions__.length||!(r instanceof it)||!rn(n)?this.thru(i):(r=r.slice(n,+n+(t?1:0)),r.__actions__.push({func:Ss,args:[i],thisArg:void 0}),new ge(r,this.__chain__).thru(function(s){return t&&!s.length&&s.push(void 0),s}))});function _E(){return rf(this)}function xE(){var e=this.__wrapped__;if(e instanceof it){var t=e;return this.__actions__.length&&(t=new it(this)),t=t.reverse(),t.__actions__.push({func:Ss,args:[to],thisArg:void 0}),new ge(t,this.__chain__)}return this.thru(to)}function ua(e,t,n){var r=e.length;if(r<2)return r?qn(e[0]):[];for(var i=-1,s=Array(r);++i<r;)for(var l=e[i],a=-1;++a<r;)a!=i&&(s[i]=fi(s[i]||l,e[a],t,n));return qn(Mt(s,1),t,n)}var AE=et(function(e){return ua(xn(e,Nt))}),EE=et(function(e){var t=ve(e);return Nt(t)&&(t=void 0),ua(xn(e,Nt),V(t))}),TE=et(function(e){var t=ve(e);return t=typeof t=="function"?t:void 0,ua(xn(e,Nt),void 0,t)}),NE=et(aa);function Th(e,t,n){for(var r=-1,i=e.length,s=t.length,l={};++r<i;){var a=r<s?t[r]:void 0;n(l,e[r],a)}return l}function LE(e,t){return Th(e||[],t||[],oi)}function kE(e,t){return Th(e||[],t||[],di)}var RE=et(function(e){var t=e.length,n=t>1?e[t-1]:void 0;return n=typeof n=="function"?(e.pop(),n):void 0,Ah(e,n)}),M={chunk:e0,compact:$b,concat:Mb,difference:Uv,differenceBy:jv,differenceWith:Hv,drop:Wv,dropRight:Gv,dropRightWhile:Kv,dropWhile:Vv,fill:pq,findIndex:Hf,findLastIndex:Wf,flatten:Rc,flattenDeep:kq,flattenDepth:Rq,fromPairs:Wq,head:xq,indexOf:fy,initial:hy,intersection:py,intersectionBy:gy,intersectionWith:my,join:fw,lastIndexOf:bw,nth:zw,pull:U_,pullAll:hh,pullAllBy:j_,pullAllWith:H_,pullAt:G_,remove:cx,reverse:to,slice:Sx,sortedIndex:Hx,sortedIndexBy:zx,sortedIndexOf:Wx,sortedLastIndex:Gx,sortedLastIndexBy:Kx,sortedLastIndexOf:Vx,sortedUniq:Zx,sortedUniqBy:Yx,tail:cA,take:fA,takeRight:hA,takeRightWhile:dA,takeWhile:pA,union:sE,unionBy:lE,unionWith:oE,uniq:aE,uniqBy:uE,uniqWith:cE,unzip:aa,unzipWith:Ah,without:qE,xor:AE,xorBy:EE,xorWith:TE,zip:NE,zipObject:LE,zipObjectDeep:kE,zipWith:RE},bt={countBy:Ev,every:fq,filter:gq,find:bq,findLast:wq,flatMap:Aq,flatMapDeep:Tq,flatMapDepth:Nq,forEach:Zv,forEachRight:Xv,groupBy:Yq,includes:uy,invokeMap:Ey,keyBy:dw,map:_s,orderBy:e_,partition:I_,reduce:lx,reduceRight:ax,reject:ux,sample:yx,sampleSize:xx,shuffle:Lx,size:Ox,some:$x,sortBy:Mx},OE={now:Qi},Tt={after:Pd,ary:_c,before:Cc,bind:bs,bindKey:ko,curry:Wo,curryRight:Go,debounce:Nf,defer:Pv,delay:Dv,flip:Sq,memoize:gs,once:Jw,overArgs:s_,partial:ks,partialRight:ia,rearg:sx,rest:px,spread:eA,throttle:OA,unary:XA,wrap:yE},z={castArray:Zm,clone:Tb,cloneDeep:$n,cloneDeepWith:Ob,cloneWith:Cb,conformsTo:yv,eq:ke,gt:Xq,gte:Jq,isArguments:Mn,isArrayBuffer:Ly,isArrayLike:Qt,isArrayLikeObject:Nt,isBoolean:Ry,isBuffer:vn,isDate:Cy,isElement:Iy,isEmpty:Dy,isEqual:Ts,isEqualWith:Fy,isError:Lo,isFinite:jy,isFunction:nn,isInteger:Xf,isLength:hs,isMap:hf,isMatch:Hy,isMatchWith:zy,isNaN:Gy,isNative:Zy,isNil:Yy,isNull:Xy,isNumber:Jf,isObjectLike:Et,isPlainObject:ui,isRegExp:Qo,isSafeInteger:ew,isSet:df,isString:Es,isSymbol:ne,isTypedArray:xr,isUndefined:nw,isWeakMap:iw,isWeakSet:lw,lt:yw,lte:ww,toArray:th,toFinite:Je,toLength:Ff,toNumber:de,toPlainObject:kf,toSafeInteger:FA,toString:dt},Kt={add:Ld,ceil:Jm,divide:zv,floor:Cq,max:Lw,maxBy:kw,mean:Ow,meanBy:Sw,min:$w,minBy:Mw,multiply:Pw,round:vx,subtract:oA,sum:aA,sumBy:uA},ca={clamp:n0,inRange:ly,random:J_},K={assign:jg,assignIn:Kg,assignInWith:Hl,assignWith:Vg,at:N1,create:Tv,defaults:Iv,defaultsDeep:Mv,findKey:vq,findLastKey:_q,forIn:Uq,forInRight:jq,forOwn:Hq,forOwnRight:zq,functions:Gq,functionsIn:Kq,get:To,has:ny,hasIn:jo,invert:yy,invertBy:xy,invoke:Ay,keysIn:te,mapKeys:_w,mapValues:xw,merge:Qe,mergeWith:Of,omit:Yw,omitBy:Xw,pick:M_,pickBy:rh,result:gx,set:Ax,setWith:Ex,toPairs:rq,toPairsIn:iq,transform:jA,unset:dE,update:gE,updateWith:mE,values:Tr,valuesIn:vE},Ge={at:wE,chain:rf,commit:Ib,next:Hw,plant:B_,reverse:xE,tap:gA,toIterator:$A,value:MA,wrapperChain:_E},ut={camelCase:Vm,capitalize:Uc,deburr:jc,endsWith:Jv,escape:Bf,escapeRegExp:uq,kebabCase:hw,lowerCase:vw,lowerFirst:qw,pad:T_,padEnd:N_,padStart:L_,parseInt:O_,repeat:fx,replace:hx,snakeCase:Cx,split:Jx,startCase:nA,startsWith:rA,template:kA,templateSettings:eo,toLower:BA,toUpper:UA,trim:HA,trimEnd:zA,trimStart:GA,truncate:YA,unescape:eE,upperCase:bE,upperFirst:Ro,words:nf},pt={attempt:Sc,bindAll:P1,cond:mv,conforms:qv,constant:yo,defaultTo:Sv,flow:Dq,flowRight:Fq,iteratee:aw,matches:Ew,matchesProperty:Nw,method:Cw,methodOf:Iw,noop:vo,nthArg:Ww,over:n_,overEvery:l_,overSome:o_,property:xf,propertyOf:P_,range:nx,rangeRight:rx,stubArray:Io,stubFalse:xo,stubObject:iA,stubString:sA,stubTrue:lA,times:IA,toPath:PA,uniqueId:hE};function SE(){var e=new it(this.__wrapped__);return e.__actions__=Xt(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Xt(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Xt(this.__views__),e}function CE(){if(this.__filtered__){var e=new it(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}var IE=Math.max,$E=Math.min;function ME(e,t,n){for(var r=-1,i=n.length;++r<i;){var s=n[r],l=s.size;switch(s.type){case"drop":e+=l;break;case"dropRight":t-=l;break;case"take":t=$E(t,e+l);break;case"takeRight":e=IE(e,t-l);break}}return{start:e,end:t}}var BE=1,PE=2,DE=Math.min;function FE(){var e=this.__wrapped__.value(),t=this.__dir__,n=X(e),r=t<0,i=n?e.length:0,s=ME(0,i,this.__views__),l=s.start,a=s.end,u=a-l,c=r?a:l-1,p=this.__iteratees__,g=p.length,d=0,m=DE(u,this.__takeCount__);if(!n||!r&&i==u&&m==u)return yh(e,this.__actions__);var q=[];t:for(;u--&&d<m;){c+=t;for(var _=-1,w=e[c];++_<g;){var A=p[_],N=A.iteratee,S=A.type,W=N(w);if(S==PE)w=W;else if(!W){if(S==BE)continue t;break t}}q[d++]=w}return q}/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="es" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var UE="4.17.21",jE=2,HE=1,zE=3,Nh=4294967295,WE=Array.prototype,GE=Object.prototype,Lh=GE.hasOwnProperty,Nu=Ht?Ht.iterator:void 0,KE=Math.max,Lu=Math.min,fa=function(e){return function(t,n,r){if(r==null){var i=At(n),s=i&&St(n),l=s&&s.length&&xs(n,s);(l?l.length:i)||(r=n,n=t,t=this)}return e(t,n,r)}}(Bw);f.after=Tt.after;f.ary=Tt.ary;f.assign=K.assign;f.assignIn=K.assignIn;f.assignInWith=K.assignInWith;f.assignWith=K.assignWith;f.at=K.at;f.before=Tt.before;f.bind=Tt.bind;f.bindAll=pt.bindAll;f.bindKey=Tt.bindKey;f.castArray=z.castArray;f.chain=Ge.chain;f.chunk=M.chunk;f.compact=M.compact;f.concat=M.concat;f.cond=pt.cond;f.conforms=pt.conforms;f.constant=pt.constant;f.countBy=bt.countBy;f.create=K.create;f.curry=Tt.curry;f.curryRight=Tt.curryRight;f.debounce=Tt.debounce;f.defaults=K.defaults;f.defaultsDeep=K.defaultsDeep;f.defer=Tt.defer;f.delay=Tt.delay;f.difference=M.difference;f.differenceBy=M.differenceBy;f.differenceWith=M.differenceWith;f.drop=M.drop;f.dropRight=M.dropRight;f.dropRightWhile=M.dropRightWhile;f.dropWhile=M.dropWhile;f.fill=M.fill;f.filter=bt.filter;f.flatMap=bt.flatMap;f.flatMapDeep=bt.flatMapDeep;f.flatMapDepth=bt.flatMapDepth;f.flatten=M.flatten;f.flattenDeep=M.flattenDeep;f.flattenDepth=M.flattenDepth;f.flip=Tt.flip;f.flow=pt.flow;f.flowRight=pt.flowRight;f.fromPairs=M.fromPairs;f.functions=K.functions;f.functionsIn=K.functionsIn;f.groupBy=bt.groupBy;f.initial=M.initial;f.intersection=M.intersection;f.intersectionBy=M.intersectionBy;f.intersectionWith=M.intersectionWith;f.invert=K.invert;f.invertBy=K.invertBy;f.invokeMap=bt.invokeMap;f.iteratee=pt.iteratee;f.keyBy=bt.keyBy;f.keys=St;f.keysIn=K.keysIn;f.map=bt.map;f.mapKeys=K.mapKeys;f.mapValues=K.mapValues;f.matches=pt.matches;f.matchesProperty=pt.matchesProperty;f.memoize=Tt.memoize;f.merge=K.merge;f.mergeWith=K.mergeWith;f.method=pt.method;f.methodOf=pt.methodOf;f.mixin=fa;f.negate=Ls;f.nthArg=pt.nthArg;f.omit=K.omit;f.omitBy=K.omitBy;f.once=Tt.once;f.orderBy=bt.orderBy;f.over=pt.over;f.overArgs=Tt.overArgs;f.overEvery=pt.overEvery;f.overSome=pt.overSome;f.partial=Tt.partial;f.partialRight=Tt.partialRight;f.partition=bt.partition;f.pick=K.pick;f.pickBy=K.pickBy;f.property=pt.property;f.propertyOf=pt.propertyOf;f.pull=M.pull;f.pullAll=M.pullAll;f.pullAllBy=M.pullAllBy;f.pullAllWith=M.pullAllWith;f.pullAt=M.pullAt;f.range=pt.range;f.rangeRight=pt.rangeRight;f.rearg=Tt.rearg;f.reject=bt.reject;f.remove=M.remove;f.rest=Tt.rest;f.reverse=M.reverse;f.sampleSize=bt.sampleSize;f.set=K.set;f.setWith=K.setWith;f.shuffle=bt.shuffle;f.slice=M.slice;f.sortBy=bt.sortBy;f.sortedUniq=M.sortedUniq;f.sortedUniqBy=M.sortedUniqBy;f.split=ut.split;f.spread=Tt.spread;f.tail=M.tail;f.take=M.take;f.takeRight=M.takeRight;f.takeRightWhile=M.takeRightWhile;f.takeWhile=M.takeWhile;f.tap=Ge.tap;f.throttle=Tt.throttle;f.thru=Ss;f.toArray=z.toArray;f.toPairs=K.toPairs;f.toPairsIn=K.toPairsIn;f.toPath=pt.toPath;f.toPlainObject=z.toPlainObject;f.transform=K.transform;f.unary=Tt.unary;f.union=M.union;f.unionBy=M.unionBy;f.unionWith=M.unionWith;f.uniq=M.uniq;f.uniqBy=M.uniqBy;f.uniqWith=M.uniqWith;f.unset=K.unset;f.unzip=M.unzip;f.unzipWith=M.unzipWith;f.update=K.update;f.updateWith=K.updateWith;f.values=K.values;f.valuesIn=K.valuesIn;f.without=M.without;f.words=ut.words;f.wrap=Tt.wrap;f.xor=M.xor;f.xorBy=M.xorBy;f.xorWith=M.xorWith;f.zip=M.zip;f.zipObject=M.zipObject;f.zipObjectDeep=M.zipObjectDeep;f.zipWith=M.zipWith;f.entries=K.toPairs;f.entriesIn=K.toPairsIn;f.extend=K.assignIn;f.extendWith=K.assignInWith;fa(f,f);f.add=Kt.add;f.attempt=pt.attempt;f.camelCase=ut.camelCase;f.capitalize=ut.capitalize;f.ceil=Kt.ceil;f.clamp=ca.clamp;f.clone=z.clone;f.cloneDeep=z.cloneDeep;f.cloneDeepWith=z.cloneDeepWith;f.cloneWith=z.cloneWith;f.conformsTo=z.conformsTo;f.deburr=ut.deburr;f.defaultTo=pt.defaultTo;f.divide=Kt.divide;f.endsWith=ut.endsWith;f.eq=z.eq;f.escape=ut.escape;f.escapeRegExp=ut.escapeRegExp;f.every=bt.every;f.find=bt.find;f.findIndex=M.findIndex;f.findKey=K.findKey;f.findLast=bt.findLast;f.findLastIndex=M.findLastIndex;f.findLastKey=K.findLastKey;f.floor=Kt.floor;f.forEach=bt.forEach;f.forEachRight=bt.forEachRight;f.forIn=K.forIn;f.forInRight=K.forInRight;f.forOwn=K.forOwn;f.forOwnRight=K.forOwnRight;f.get=K.get;f.gt=z.gt;f.gte=z.gte;f.has=K.has;f.hasIn=K.hasIn;f.head=M.head;f.identity=Jt;f.includes=bt.includes;f.indexOf=M.indexOf;f.inRange=ca.inRange;f.invoke=K.invoke;f.isArguments=z.isArguments;f.isArray=X;f.isArrayBuffer=z.isArrayBuffer;f.isArrayLike=z.isArrayLike;f.isArrayLikeObject=z.isArrayLikeObject;f.isBoolean=z.isBoolean;f.isBuffer=z.isBuffer;f.isDate=z.isDate;f.isElement=z.isElement;f.isEmpty=z.isEmpty;f.isEqual=z.isEqual;f.isEqualWith=z.isEqualWith;f.isError=z.isError;f.isFinite=z.isFinite;f.isFunction=z.isFunction;f.isInteger=z.isInteger;f.isLength=z.isLength;f.isMap=z.isMap;f.isMatch=z.isMatch;f.isMatchWith=z.isMatchWith;f.isNaN=z.isNaN;f.isNative=z.isNative;f.isNil=z.isNil;f.isNull=z.isNull;f.isNumber=z.isNumber;f.isObject=At;f.isObjectLike=z.isObjectLike;f.isPlainObject=z.isPlainObject;f.isRegExp=z.isRegExp;f.isSafeInteger=z.isSafeInteger;f.isSet=z.isSet;f.isString=z.isString;f.isSymbol=z.isSymbol;f.isTypedArray=z.isTypedArray;f.isUndefined=z.isUndefined;f.isWeakMap=z.isWeakMap;f.isWeakSet=z.isWeakSet;f.join=M.join;f.kebabCase=ut.kebabCase;f.last=ve;f.lastIndexOf=M.lastIndexOf;f.lowerCase=ut.lowerCase;f.lowerFirst=ut.lowerFirst;f.lt=z.lt;f.lte=z.lte;f.max=Kt.max;f.maxBy=Kt.maxBy;f.mean=Kt.mean;f.meanBy=Kt.meanBy;f.min=Kt.min;f.minBy=Kt.minBy;f.stubArray=pt.stubArray;f.stubFalse=pt.stubFalse;f.stubObject=pt.stubObject;f.stubString=pt.stubString;f.stubTrue=pt.stubTrue;f.multiply=Kt.multiply;f.nth=M.nth;f.noop=pt.noop;f.now=OE.now;f.pad=ut.pad;f.padEnd=ut.padEnd;f.padStart=ut.padStart;f.parseInt=ut.parseInt;f.random=ca.random;f.reduce=bt.reduce;f.reduceRight=bt.reduceRight;f.repeat=ut.repeat;f.replace=ut.replace;f.result=K.result;f.round=Kt.round;f.sample=bt.sample;f.size=bt.size;f.snakeCase=ut.snakeCase;f.some=bt.some;f.sortedIndex=M.sortedIndex;f.sortedIndexBy=M.sortedIndexBy;f.sortedIndexOf=M.sortedIndexOf;f.sortedLastIndex=M.sortedLastIndex;f.sortedLastIndexBy=M.sortedLastIndexBy;f.sortedLastIndexOf=M.sortedLastIndexOf;f.startCase=ut.startCase;f.startsWith=ut.startsWith;f.subtract=Kt.subtract;f.sum=Kt.sum;f.sumBy=Kt.sumBy;f.template=ut.template;f.times=pt.times;f.toFinite=z.toFinite;f.toInteger=Q;f.toLength=z.toLength;f.toLower=ut.toLower;f.toNumber=z.toNumber;f.toSafeInteger=z.toSafeInteger;f.toString=z.toString;f.toUpper=ut.toUpper;f.trim=ut.trim;f.trimEnd=ut.trimEnd;f.trimStart=ut.trimStart;f.truncate=ut.truncate;f.unescape=ut.unescape;f.uniqueId=pt.uniqueId;f.upperCase=ut.upperCase;f.upperFirst=ut.upperFirst;f.each=bt.forEach;f.eachRight=bt.forEachRight;f.first=M.head;fa(f,function(){var e={};return ze(f,function(t,n){Lh.call(f.prototype,n)||(e[n]=t)}),e}(),{chain:!1});f.VERSION=UE;(f.templateSettings=ut.templateSettings).imports._=f;qe(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){f[e].placeholder=f});qe(["drop","take"],function(e,t){it.prototype[e]=function(n){n=n===void 0?1:KE(Q(n),0);var r=this.__filtered__&&!t?new it(this):this.clone();return r.__filtered__?r.__takeCount__=Lu(n,r.__takeCount__):r.__views__.push({size:Lu(n,Nh),type:e+(r.__dir__<0?"Right":"")}),r},it.prototype[e+"Right"]=function(n){return this.reverse()[e](n).reverse()}});qe(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==HE||n==zE;it.prototype[e]=function(i){var s=this.clone();return s.__iteratees__.push({iteratee:V(i),type:n}),s.__filtered__=s.__filtered__||r,s}});qe(["head","last"],function(e,t){var n="take"+(t?"Right":"");it.prototype[e]=function(){return this[n](1).value()[0]}});qe(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");it.prototype[e]=function(){return this.__filtered__?new it(this):this[n](1)}});it.prototype.compact=function(){return this.filter(Jt)};it.prototype.find=function(e){return this.filter(e).head()};it.prototype.findLast=function(e){return this.reverse().find(e)};it.prototype.invokeMap=et(function(e,t){return typeof e=="function"?new it(this):this.map(function(n){return hi(n,e,t)})});it.prototype.reject=function(e){return this.filter(Ls(V(e)))};it.prototype.slice=function(e,t){e=Q(e);var n=this;return n.__filtered__&&(e>0||t<0)?new it(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==void 0&&(t=Q(t),n=t<0?n.dropRight(-t):n.take(t-e)),n)};it.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()};it.prototype.toArray=function(){return this.take(Nh)};ze(it.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=f[r?"take"+(t=="last"?"Right":""):t],s=r||/^find/.test(t);i&&(f.prototype[t]=function(){var l=this.__wrapped__,a=r?[1]:arguments,u=l instanceof it,c=a[0],p=u||X(l),g=function(A){var N=i.apply(f,wn([A],a));return r&&d?N[0]:N};p&&n&&typeof c=="function"&&c.length!=1&&(u=p=!1);var d=this.__chain__,m=!!this.__actions__.length,q=s&&!d,_=u&&!m;if(!s&&p){l=_?l:new it(this);var w=e.apply(l,a);return w.__actions__.push({func:Ss,args:[g],thisArg:void 0}),new ge(w,d)}return q&&_?e.apply(this,a):(w=this.thru(g),q?r?w.value()[0]:w.value():w)})});qe(["pop","push","shift","sort","splice","unshift"],function(e){var t=WE[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);f.prototype[e]=function(){var i=arguments;if(r&&!this.__chain__){var s=this.value();return t.apply(X(s)?s:[],i)}return this[n](function(l){return t.apply(X(l)?l:[],i)})}});ze(it.prototype,function(e,t){var n=f[t];if(n){var r=n.name+"";Lh.call(fr,r)||(fr[r]=[]),fr[r].push({name:t,func:n})}});fr[fs(void 0,jE).name]=[{name:"wrapper",func:void 0}];it.prototype.clone=SE;it.prototype.reverse=CE;it.prototype.value=FE;f.prototype.at=Ge.at;f.prototype.chain=Ge.wrapperChain;f.prototype.commit=Ge.commit;f.prototype.next=Ge.next;f.prototype.plant=Ge.plant;f.prototype.reverse=Ge.reverse;f.prototype.toJSON=f.prototype.valueOf=f.prototype.value=Ge.value;f.prototype.first=f.prototype.head;Nu&&(f.prototype[Nu]=Ge.toIterator);var D=(e=>(e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY",e))(D||{});class Fe{constructor(t,n,r={}){this.attrName=t,this.keyName=n;const i=D.TYPE&D.ATTRIBUTE;this.scope=r.scope!=null?r.scope&D.LEVEL|i:D.ATTRIBUTE,r.whitelist!=null&&(this.whitelist=r.whitelist)}static keys(t){return Array.from(t.attributes).map(n=>n.name)}add(t,n){return this.canAdd(t,n)?(t.setAttribute(this.keyName,n),!0):!1}canAdd(t,n){return this.whitelist==null?!0:typeof n=="string"?this.whitelist.indexOf(n.replace(/["']/g,""))>-1:this.whitelist.indexOf(n)>-1}remove(t){t.removeAttribute(this.keyName)}value(t){const n=t.getAttribute(this.keyName);return this.canAdd(t,n)&&n?n:""}}class dr extends Error{constructor(t){t="[Parchment] "+t,super(t),this.message=t,this.name=this.constructor.name}}const kh=class no{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(t,n=!1){if(t==null)return null;if(this.blots.has(t))return this.blots.get(t)||null;if(n){let r=null;try{r=t.parentNode}catch{return null}return this.find(r,n)}return null}create(t,n,r){const i=this.query(n);if(i==null)throw new dr(`Unable to create ${n} blot`);const s=i,l=n instanceof Node||n.nodeType===Node.TEXT_NODE?n:s.create(r),a=new s(t,l,r);return no.blots.set(a.domNode,a),a}find(t,n=!1){return no.find(t,n)}query(t,n=D.ANY){let r;return typeof t=="string"?r=this.types[t]||this.attributes[t]:t instanceof Text||t.nodeType===Node.TEXT_NODE?r=this.types.text:typeof t=="number"?t&D.LEVEL&D.BLOCK?r=this.types.block:t&D.LEVEL&D.INLINE&&(r=this.types.inline):t instanceof Element&&((t.getAttribute("class")||"").split(/\s+/).some(i=>(r=this.classes[i],!!r)),r=r||this.tags[t.tagName]),r==null?null:"scope"in r&&n&D.LEVEL&r.scope&&n&D.TYPE&r.scope?r:null}register(...t){return t.map(n=>{const r="blotName"in n,i="attrName"in n;if(!r&&!i)throw new dr("Invalid definition");if(r&&n.blotName==="abstract")throw new dr("Cannot register abstract class");const s=r?n.blotName:i?n.attrName:void 0;return this.types[s]=n,i?typeof n.keyName=="string"&&(this.attributes[n.keyName]=n):r&&(n.className&&(this.classes[n.className]=n),n.tagName&&(Array.isArray(n.tagName)?n.tagName=n.tagName.map(l=>l.toUpperCase()):n.tagName=n.tagName.toUpperCase(),(Array.isArray(n.tagName)?n.tagName:[n.tagName]).forEach(l=>{(this.tags[l]==null||n.className==null)&&(this.tags[l]=n)}))),n})}};kh.blots=new WeakMap;let gr=kh;function ku(e,t){return(e.getAttribute("class")||"").split(/\s+/).filter(n=>n.indexOf(`${t}-`)===0)}class VE extends Fe{static keys(t){return(t.getAttribute("class")||"").split(/\s+/).map(n=>n.split("-").slice(0,-1).join("-"))}add(t,n){return this.canAdd(t,n)?(this.remove(t),t.classList.add(`${this.keyName}-${n}`),!0):!1}remove(t){ku(t,this.keyName).forEach(n=>{t.classList.remove(n)}),t.classList.length===0&&t.removeAttribute("class")}value(t){const n=(ku(t,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(t,n)?n:""}}const Re=VE;function Ol(e){const t=e.split("-"),n=t.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("");return t[0]+n}class ZE extends Fe{static keys(t){return(t.getAttribute("style")||"").split(";").map(n=>n.split(":")[0].trim())}add(t,n){return this.canAdd(t,n)?(t.style[Ol(this.keyName)]=n,!0):!1}remove(t){t.style[Ol(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")}value(t){const n=t.style[Ol(this.keyName)];return this.canAdd(t,n)?n:""}}const En=ZE;class YE{constructor(t){this.attributes={},this.domNode=t,this.build()}attribute(t,n){n?t.add(this.domNode,n)&&(t.value(this.domNode)!=null?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])}build(){this.attributes={};const t=gr.find(this.domNode);if(t==null)return;const n=Fe.keys(this.domNode),r=Re.keys(this.domNode),i=En.keys(this.domNode);n.concat(r).concat(i).forEach(s=>{const l=t.scroll.query(s,D.ATTRIBUTE);l instanceof Fe&&(this.attributes[l.attrName]=l)})}copy(t){Object.keys(this.attributes).forEach(n=>{const r=this.attributes[n].value(this.domNode);t.format(n,r)})}move(t){this.copy(t),Object.keys(this.attributes).forEach(n=>{this.attributes[n].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((t,n)=>(t[n]=this.attributes[n].value(this.domNode),t),{})}}const Cs=YE,Rh=class{constructor(t,n){this.scroll=t,this.domNode=n,gr.blots.set(n,this),this.prev=null,this.next=null}static create(t){if(this.tagName==null)throw new dr("Blot definition missing tagName");let n,r;return Array.isArray(this.tagName)?(typeof t=="string"?(r=t.toUpperCase(),parseInt(r,10).toString()===r&&(r=parseInt(r,10))):typeof t=="number"&&(r=t),typeof r=="number"?n=document.createElement(this.tagName[r-1]):r&&this.tagName.indexOf(r)>-1?n=document.createElement(r):n=document.createElement(this.tagName[0])):n=document.createElement(this.tagName),this.className&&n.classList.add(this.className),n}get statics(){return this.constructor}attach(){}clone(){const t=this.domNode.cloneNode(!1);return this.scroll.create(t)}detach(){this.parent!=null&&this.parent.removeChild(this),gr.blots.delete(this.domNode)}deleteAt(t,n){this.isolate(t,n).remove()}formatAt(t,n,r,i){const s=this.isolate(t,n);if(this.scroll.query(r,D.BLOT)!=null&&i)s.wrap(r,i);else if(this.scroll.query(r,D.ATTRIBUTE)!=null){const l=this.scroll.create(this.statics.scope);s.wrap(l),l.format(r,i)}}insertAt(t,n,r){const i=r==null?this.scroll.create("text",n):this.scroll.create(n,r),s=this.split(t);this.parent.insertBefore(i,s||void 0)}isolate(t,n){const r=this.split(t);if(r==null)throw new Error("Attempt to isolate at end");return r.split(n),r}length(){return 1}offset(t=this.parent){return this.parent==null||this===t?0:this.parent.children.offset(this)+this.parent.offset(t)}optimize(t){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(t,n){const r=typeof t=="string"?this.scroll.create(t,n):t;return this.parent!=null&&(this.parent.insertBefore(r,this.next||void 0),this.remove()),r}split(t,n){return t===0?this:this.next}update(t,n){}wrap(t,n){const r=typeof t=="string"?this.scroll.create(t,n):t;if(this.parent!=null&&this.parent.insertBefore(r,this.next||void 0),typeof r.appendChild!="function")throw new dr(`Cannot wrap ${t}`);return r.appendChild(this),r}};Rh.blotName="abstract";let Oh=Rh;const Sh=class extends Oh{static value(t){return!0}index(t,n){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(n,1):-1}position(t,n){let r=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return t>0&&(r+=1),[this.parent.domNode,r]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};Sh.scope=D.INLINE_BLOT;let XE=Sh;const Ut=XE;class JE{constructor(){this.head=null,this.tail=null,this.length=0}append(...t){if(this.insertBefore(t[0],null),t.length>1){const n=t.slice(1);this.append(...n)}}at(t){const n=this.iterator();let r=n();for(;r&&t>0;)t-=1,r=n();return r}contains(t){const n=this.iterator();let r=n();for(;r;){if(r===t)return!0;r=n()}return!1}indexOf(t){const n=this.iterator();let r=n(),i=0;for(;r;){if(r===t)return i;i+=1,r=n()}return-1}insertBefore(t,n){t!=null&&(this.remove(t),t.next=n,n!=null?(t.prev=n.prev,n.prev!=null&&(n.prev.next=t),n.prev=t,n===this.head&&(this.head=t)):this.tail!=null?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)}offset(t){let n=0,r=this.head;for(;r!=null;){if(r===t)return n;n+=r.length(),r=r.next}return-1}remove(t){this.contains(t)&&(t.prev!=null&&(t.prev.next=t.next),t.next!=null&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)}iterator(t=this.head){return()=>{const n=t;return t!=null&&(t=t.next),n}}find(t,n=!1){const r=this.iterator();let i=r();for(;i;){const s=i.length();if(t<s||n&&t===s&&(i.next==null||i.next.length()!==0))return[i,t];t-=s,i=r()}return[null,0]}forEach(t){const n=this.iterator();let r=n();for(;r;)t(r),r=n()}forEachAt(t,n,r){if(n<=0)return;const[i,s]=this.find(t);let l=t-s;const a=this.iterator(i);let u=a();for(;u&&l<t+n;){const c=u.length();t>l?r(u,t-l,Math.min(n,l+c-t)):r(u,0,Math.min(c,t+n-l)),l+=c,u=a()}}map(t){return this.reduce((n,r)=>(n.push(t(r)),n),[])}reduce(t,n){const r=this.iterator();let i=r();for(;i;)n=t(n,i),i=r();return n}}function Ru(e,t){const n=t.find(e);if(n)return n;try{return t.create(e)}catch{const r=t.create(D.INLINE);return Array.from(e.childNodes).forEach(i=>{r.domNode.appendChild(i)}),e.parentNode&&e.parentNode.replaceChild(r.domNode,e),r.attach(),r}}const Ch=class dn extends Oh{constructor(t,n){super(t,n),this.uiNode=null,this.build()}appendChild(t){this.insertBefore(t)}attach(){super.attach(),this.children.forEach(t=>{t.attach()})}attachUI(t){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=t,dn.uiClass&&this.uiNode.classList.add(dn.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new JE,Array.from(this.domNode.childNodes).filter(t=>t!==this.uiNode).reverse().forEach(t=>{try{const n=Ru(t,this.scroll);this.insertBefore(n,this.children.head||void 0)}catch(n){if(n instanceof dr)return;throw n}})}deleteAt(t,n){if(t===0&&n===this.length())return this.remove();this.children.forEachAt(t,n,(r,i,s)=>{r.deleteAt(i,s)})}descendant(t,n=0){const[r,i]=this.children.find(n);return t.blotName==null&&t(r)||t.blotName!=null&&r instanceof t?[r,i]:r instanceof dn?r.descendant(t,i):[null,-1]}descendants(t,n=0,r=Number.MAX_VALUE){let i=[],s=r;return this.children.forEachAt(n,r,(l,a,u)=>{(t.blotName==null&&t(l)||t.blotName!=null&&l instanceof t)&&i.push(l),l instanceof dn&&(i=i.concat(l.descendants(t,a,s))),s-=u}),i}detach(){this.children.forEach(t=>{t.detach()}),super.detach()}enforceAllowedChildren(){let t=!1;this.children.forEach(n=>{t||this.statics.allowedChildren.some(r=>n instanceof r)||(n.statics.scope===D.BLOCK_BLOT?(n.next!=null&&this.splitAfter(n),n.prev!=null&&this.splitAfter(n.prev),n.parent.unwrap(),t=!0):n instanceof dn?n.unwrap():n.remove())})}formatAt(t,n,r,i){this.children.forEachAt(t,n,(s,l,a)=>{s.formatAt(l,a,r,i)})}insertAt(t,n,r){const[i,s]=this.children.find(t);if(i)i.insertAt(s,n,r);else{const l=r==null?this.scroll.create("text",n):this.scroll.create(n,r);this.appendChild(l)}}insertBefore(t,n){t.parent!=null&&t.parent.children.remove(t);let r=null;this.children.insertBefore(t,n||null),t.parent=this,n!=null&&(r=n.domNode),(this.domNode.parentNode!==t.domNode||this.domNode.nextSibling!==r)&&this.domNode.insertBefore(t.domNode,r),t.attach()}length(){return this.children.reduce((t,n)=>t+n.length(),0)}moveChildren(t,n){this.children.forEach(r=>{t.insertBefore(r,n)})}optimize(t){if(super.optimize(t),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const n=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(n)}else this.remove()}path(t,n=!1){const[r,i]=this.children.find(t,n),s=[[this,t]];return r instanceof dn?s.concat(r.path(i,n)):(r!=null&&s.push([r,i]),s)}removeChild(t){this.children.remove(t)}replaceWith(t,n){const r=typeof t=="string"?this.scroll.create(t,n):t;return r instanceof dn&&this.moveChildren(r),super.replaceWith(r)}split(t,n=!1){if(!n){if(t===0)return this;if(t===this.length())return this.next}const r=this.clone();return this.parent&&this.parent.insertBefore(r,this.next||void 0),this.children.forEachAt(t,this.length(),(i,s,l)=>{const a=i.split(s,n);a!=null&&r.appendChild(a)}),r}splitAfter(t){const n=this.clone();for(;t.next!=null;)n.appendChild(t.next);return this.parent&&this.parent.insertBefore(n,this.next||void 0),n}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(t,n){const r=[],i=[];t.forEach(s=>{s.target===this.domNode&&s.type==="childList"&&(r.push(...s.addedNodes),i.push(...s.removedNodes))}),i.forEach(s=>{if(s.parentNode!=null&&s.tagName!=="IFRAME"&&document.body.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const l=this.scroll.find(s);l!=null&&(l.domNode.parentNode==null||l.domNode.parentNode===this.domNode)&&l.detach()}),r.filter(s=>s.parentNode===this.domNode&&s!==this.uiNode).sort((s,l)=>s===l?0:s.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(s=>{let l=null;s.nextSibling!=null&&(l=this.scroll.find(s.nextSibling));const a=Ru(s,this.scroll);(a.next!==l||a.next==null)&&(a.parent!=null&&a.parent.removeChild(this),this.insertBefore(a,l||void 0))}),this.enforceAllowedChildren()}};Ch.uiClass="";let QE=Ch;const Te=QE;function t2(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}const sr=class lr extends Te{static create(t){return super.create(t)}static formats(t,n){const r=n.query(lr.blotName);if(!(r!=null&&t.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,n){super(t,n),this.attributes=new Cs(this.domNode)}format(t,n){if(t===this.statics.blotName&&!n)this.children.forEach(r=>{r instanceof lr||(r=r.wrap(lr.blotName,!0)),this.attributes.copy(r)}),this.unwrap();else{const r=this.scroll.query(t,D.INLINE);if(r==null)return;r instanceof Fe?this.attributes.attribute(r,n):n&&(t!==this.statics.blotName||this.formats()[t]!==n)&&this.replaceWith(t,n)}}formats(){const t=this.attributes.values(),n=this.statics.formats(this.domNode,this.scroll);return n!=null&&(t[this.statics.blotName]=n),t}formatAt(t,n,r,i){this.formats()[r]!=null||this.scroll.query(r,D.ATTRIBUTE)?this.isolate(t,n).format(r,i):super.formatAt(t,n,r,i)}optimize(t){super.optimize(t);const n=this.formats();if(Object.keys(n).length===0)return this.unwrap();const r=this.next;r instanceof lr&&r.prev===this&&t2(n,r.formats())&&(r.moveChildren(this),r.remove())}replaceWith(t,n){const r=super.replaceWith(t,n);return this.attributes.copy(r),r}update(t,n){super.update(t,n),t.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}wrap(t,n){const r=super.wrap(t,n);return r instanceof lr&&this.attributes.move(r),r}};sr.allowedChildren=[sr,Ut],sr.blotName="inline",sr.scope=D.INLINE_BLOT,sr.tagName="SPAN";let e2=sr;const ha=e2,or=class ro extends Te{static create(t){return super.create(t)}static formats(t,n){const r=n.query(ro.blotName);if(!(r!=null&&t.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,n){super(t,n),this.attributes=new Cs(this.domNode)}format(t,n){const r=this.scroll.query(t,D.BLOCK);r!=null&&(r instanceof Fe?this.attributes.attribute(r,n):t===this.statics.blotName&&!n?this.replaceWith(ro.blotName):n&&(t!==this.statics.blotName||this.formats()[t]!==n)&&this.replaceWith(t,n))}formats(){const t=this.attributes.values(),n=this.statics.formats(this.domNode,this.scroll);return n!=null&&(t[this.statics.blotName]=n),t}formatAt(t,n,r,i){this.scroll.query(r,D.BLOCK)!=null?this.format(r,i):super.formatAt(t,n,r,i)}insertAt(t,n,r){if(r==null||this.scroll.query(n,D.INLINE)!=null)super.insertAt(t,n,r);else{const i=this.split(t);if(i!=null){const s=this.scroll.create(n,r);i.parent.insertBefore(s,i)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(t,n){const r=super.replaceWith(t,n);return this.attributes.copy(r),r}update(t,n){super.update(t,n),t.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}};or.blotName="block",or.scope=D.BLOCK_BLOT,or.tagName="P",or.allowedChildren=[ha,or,Ut];let n2=or;const ri=n2,io=class extends Te{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(t,n){super.deleteAt(t,n),this.enforceAllowedChildren()}formatAt(t,n,r,i){super.formatAt(t,n,r,i),this.enforceAllowedChildren()}insertAt(t,n,r){super.insertAt(t,n,r),this.enforceAllowedChildren()}optimize(t){super.optimize(t),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};io.blotName="container",io.scope=D.BLOCK_BLOT;let r2=io;const Is=r2;class i2 extends Ut{static formats(t,n){}format(t,n){super.formatAt(0,this.length(),t,n)}formatAt(t,n,r,i){t===0&&n===this.length()?this.format(r,i):super.formatAt(t,n,r,i)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const le=i2,s2={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},l2=100,ar=class extends Te{constructor(t,n){super(null,n),this.registry=t,this.scroll=this,this.build(),this.observer=new MutationObserver(r=>{this.update(r)}),this.observer.observe(this.domNode,s2),this.attach()}create(t,n){return this.registry.create(this,t,n)}find(t,n=!1){const r=this.registry.find(t,n);return r?r.scroll===this?r:n?this.find(r.scroll.domNode.parentNode,!0):null:null}query(t,n=D.ANY){return this.registry.query(t,n)}register(...t){return this.registry.register(...t)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(t,n){this.update(),t===0&&n===this.length()?this.children.forEach(r=>{r.remove()}):super.deleteAt(t,n)}formatAt(t,n,r,i){this.update(),super.formatAt(t,n,r,i)}insertAt(t,n,r){this.update(),super.insertAt(t,n,r)}optimize(t=[],n={}){super.optimize(n);const r=n.mutationsMap||new WeakMap;let i=Array.from(this.observer.takeRecords());for(;i.length>0;)t.push(i.pop());const s=(u,c=!0)=>{u==null||u===this||u.domNode.parentNode!=null&&(r.has(u.domNode)||r.set(u.domNode,[]),c&&s(u.parent))},l=u=>{r.has(u.domNode)&&(u instanceof Te&&u.children.forEach(l),r.delete(u.domNode),u.optimize(n))};let a=t;for(let u=0;a.length>0;u+=1){if(u>=l2)throw new Error("[Parchment] Maximum optimize iterations reached");for(a.forEach(c=>{const p=this.find(c.target,!0);p!=null&&(p.domNode===c.target&&(c.type==="childList"?(s(this.find(c.previousSibling,!1)),Array.from(c.addedNodes).forEach(g=>{const d=this.find(g,!1);s(d,!1),d instanceof Te&&d.children.forEach(m=>{s(m,!1)})})):c.type==="attributes"&&s(p.prev)),s(p))}),this.children.forEach(l),a=Array.from(this.observer.takeRecords()),i=a.slice();i.length>0;)t.push(i.pop())}}update(t,n={}){t=t||this.observer.takeRecords();const r=new WeakMap;t.map(i=>{const s=this.find(i.target,!0);return s==null?null:r.has(s.domNode)?(r.get(s.domNode).push(i),null):(r.set(s.domNode,[i]),s)}).forEach(i=>{i!=null&&i!==this&&r.has(i.domNode)&&i.update(r.get(i.domNode)||[],n)}),n.mutationsMap=r,r.has(this.domNode)&&super.update(r.get(this.domNode),n),this.optimize(t,n)}};ar.blotName="scroll",ar.defaultChild=ri,ar.allowedChildren=[ri,Is],ar.scope=D.BLOCK_BLOT,ar.tagName="DIV";let o2=ar;const da=o2,so=class Ih extends Ut{static create(t){return document.createTextNode(t)}static value(t){return t.data}constructor(t,n){super(t,n),this.text=this.statics.value(this.domNode)}deleteAt(t,n){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+n)}index(t,n){return this.domNode===t?n:-1}insertAt(t,n,r){r==null?(this.text=this.text.slice(0,t)+n+this.text.slice(t),this.domNode.data=this.text):super.insertAt(t,n,r)}length(){return this.text.length}optimize(t){super.optimize(t),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof Ih&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(t,n=!1){return[this.domNode,t]}split(t,n=!1){if(!n){if(t===0)return this;if(t===this.length())return this.next}const r=this.scroll.create(this.domNode.splitText(t));return this.parent.insertBefore(r,this.next||void 0),this.text=this.statics.value(this.domNode),r}update(t,n){t.some(r=>r.type==="characterData"&&r.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};so.blotName="text",so.scope=D.INLINE_BLOT;let a2=so;const ls=a2;var u2=Object.freeze({__proto__:null,Attributor:Fe,AttributorStore:Cs,BlockBlot:ri,ClassAttributor:Re,ContainerBlot:Is,EmbedBlot:le,InlineBlot:ha,LeafBlot:Ut,ParentBlot:Te,Registry:gr,Scope:D,ScrollBlot:da,StyleAttributor:En,TextBlot:ls}),pn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $h(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Fi={exports:{}},Sl,Ou;function c2(){if(Ou)return Sl;Ou=1;var e=-1,t=1,n=0;function r(v,L,y,O,k){if(v===L)return v?[[n,v]]:[];if(y!=null){var T=Vt(v,L,y);if(T)return T}var R=a(v,L),B=v.substring(0,R);v=v.substring(R),L=L.substring(R),R=c(v,L);var U=v.substring(v.length-R);v=v.substring(0,v.length-R),L=L.substring(0,L.length-R);var I=i(v,L);return B&&I.unshift([n,B]),U&&I.push([n,U]),N(I,k),O&&g(I),I}function i(v,L){var y;if(!v)return[[t,L]];if(!L)return[[e,v]];var O=v.length>L.length?v:L,k=v.length>L.length?L:v,T=O.indexOf(k);if(T!==-1)return y=[[t,O.substring(0,T)],[n,k],[t,O.substring(T+k.length)]],v.length>L.length&&(y[0][0]=y[2][0]=e),y;if(k.length===1)return[[e,v],[t,L]];var R=p(v,L);if(R){var B=R[0],U=R[1],I=R[2],J=R[3],Z=R[4],nt=r(B,I),rt=r(U,J);return nt.concat([[n,Z]],rt)}return s(v,L)}function s(v,L){for(var y=v.length,O=L.length,k=Math.ceil((y+O)/2),T=k,R=2*k,B=new Array(R),U=new Array(R),I=0;I<R;I++)B[I]=-1,U[I]=-1;B[T+1]=0,U[T+1]=0;for(var J=y-O,Z=J%2!==0,nt=0,rt=0,H=0,yt=0,_t=0;_t<k;_t++){for(var tt=-_t+nt;tt<=_t-rt;tt+=2){var ct=T+tt,at;tt===-_t||tt!==_t&&B[ct-1]<B[ct+1]?at=B[ct+1]:at=B[ct-1]+1;for(var ft=at-tt;at<y&&ft<O&&v.charAt(at)===L.charAt(ft);)at++,ft++;if(B[ct]=at,at>y)rt+=2;else if(ft>O)nt+=2;else if(Z){var gt=T+J-tt;if(gt>=0&&gt<R&&U[gt]!==-1){var mt=y-U[gt];if(at>=mt)return l(v,L,at,ft)}}}for(var Lt=-_t+H;Lt<=_t-yt;Lt+=2){var gt=T+Lt,mt;Lt===-_t||Lt!==_t&&U[gt-1]<U[gt+1]?mt=U[gt+1]:mt=U[gt-1]+1;for(var Bt=mt-Lt;mt<y&&Bt<O&&v.charAt(y-mt-1)===L.charAt(O-Bt-1);)mt++,Bt++;if(U[gt]=mt,mt>y)yt+=2;else if(Bt>O)H+=2;else if(!Z){var ct=T+J-Lt;if(ct>=0&&ct<R&&B[ct]!==-1){var at=B[ct],ft=T+at-ct;if(mt=y-mt,at>=mt)return l(v,L,at,ft)}}}}return[[e,v],[t,L]]}function l(v,L,y,O){var k=v.substring(0,y),T=L.substring(0,O),R=v.substring(y),B=L.substring(O),U=r(k,T),I=r(R,B);return U.concat(I)}function a(v,L){if(!v||!L||v.charAt(0)!==L.charAt(0))return 0;for(var y=0,O=Math.min(v.length,L.length),k=O,T=0;y<k;)v.substring(T,k)==L.substring(T,k)?(y=k,T=y):O=k,k=Math.floor((O-y)/2+y);return S(v.charCodeAt(k-1))&&k--,k}function u(v,L){var y=v.length,O=L.length;if(y==0||O==0)return 0;y>O?v=v.substring(y-O):y<O&&(L=L.substring(0,y));var k=Math.min(y,O);if(v==L)return k;for(var T=0,R=1;;){var B=v.substring(k-R),U=L.indexOf(B);if(U==-1)return T;R+=U,(U==0||v.substring(k-R)==L.substring(0,R))&&(T=R,R++)}}function c(v,L){if(!v||!L||v.slice(-1)!==L.slice(-1))return 0;for(var y=0,O=Math.min(v.length,L.length),k=O,T=0;y<k;)v.substring(v.length-k,v.length-T)==L.substring(L.length-k,L.length-T)?(y=k,T=y):O=k,k=Math.floor((O-y)/2+y);return W(v.charCodeAt(v.length-k))&&k--,k}function p(v,L){var y=v.length>L.length?v:L,O=v.length>L.length?L:v;if(y.length<4||O.length*2<y.length)return null;function k(rt,H,yt){for(var _t=rt.substring(yt,yt+Math.floor(rt.length/4)),tt=-1,ct="",at,ft,gt,mt;(tt=H.indexOf(_t,tt+1))!==-1;){var Lt=a(rt.substring(yt),H.substring(tt)),Bt=c(rt.substring(0,yt),H.substring(0,tt));ct.length<Bt+Lt&&(ct=H.substring(tt-Bt,tt)+H.substring(tt,tt+Lt),at=rt.substring(0,yt-Bt),ft=rt.substring(yt+Lt),gt=H.substring(0,tt-Bt),mt=H.substring(tt+Lt))}return ct.length*2>=rt.length?[at,ft,gt,mt,ct]:null}var T=k(y,O,Math.ceil(y.length/4)),R=k(y,O,Math.ceil(y.length/2)),B;if(!T&&!R)return null;R?T?B=T[4].length>R[4].length?T:R:B=R:B=T;var U,I,J,Z;v.length>L.length?(U=B[0],I=B[1],J=B[2],Z=B[3]):(J=B[0],Z=B[1],U=B[2],I=B[3]);var nt=B[4];return[U,I,J,Z,nt]}function g(v){for(var L=!1,y=[],O=0,k=null,T=0,R=0,B=0,U=0,I=0;T<v.length;)v[T][0]==n?(y[O++]=T,R=U,B=I,U=0,I=0,k=v[T][1]):(v[T][0]==t?U+=v[T][1].length:I+=v[T][1].length,k&&k.length<=Math.max(R,B)&&k.length<=Math.max(U,I)&&(v.splice(y[O-1],0,[e,k]),v[y[O-1]+1][0]=t,O--,O--,T=O>0?y[O-1]:-1,R=0,B=0,U=0,I=0,k=null,L=!0)),T++;for(L&&N(v),A(v),T=1;T<v.length;){if(v[T-1][0]==e&&v[T][0]==t){var J=v[T-1][1],Z=v[T][1],nt=u(J,Z),rt=u(Z,J);nt>=rt?(nt>=J.length/2||nt>=Z.length/2)&&(v.splice(T,0,[n,Z.substring(0,nt)]),v[T-1][1]=J.substring(0,J.length-nt),v[T+1][1]=Z.substring(nt),T++):(rt>=J.length/2||rt>=Z.length/2)&&(v.splice(T,0,[n,J.substring(0,rt)]),v[T-1][0]=t,v[T-1][1]=Z.substring(0,Z.length-rt),v[T+1][0]=e,v[T+1][1]=J.substring(rt),T++),T++}T++}}var d=/[^a-zA-Z0-9]/,m=/\s/,q=/[\r\n]/,_=/\n\r?\n$/,w=/^\r?\n\r?\n/;function A(v){function L(rt,H){if(!rt||!H)return 6;var yt=rt.charAt(rt.length-1),_t=H.charAt(0),tt=yt.match(d),ct=_t.match(d),at=tt&&yt.match(m),ft=ct&&_t.match(m),gt=at&&yt.match(q),mt=ft&&_t.match(q),Lt=gt&&rt.match(_),Bt=mt&&H.match(w);return Lt||Bt?5:gt||mt?4:tt&&!at&&ft?3:at||ft?2:tt||ct?1:0}for(var y=1;y<v.length-1;){if(v[y-1][0]==n&&v[y+1][0]==n){var O=v[y-1][1],k=v[y][1],T=v[y+1][1],R=c(O,k);if(R){var B=k.substring(k.length-R);O=O.substring(0,O.length-R),k=B+k.substring(0,k.length-R),T=B+T}for(var U=O,I=k,J=T,Z=L(O,k)+L(k,T);k.charAt(0)===T.charAt(0);){O+=k.charAt(0),k=k.substring(1)+T.charAt(0),T=T.substring(1);var nt=L(O,k)+L(k,T);nt>=Z&&(Z=nt,U=O,I=k,J=T)}v[y-1][1]!=U&&(U?v[y-1][1]=U:(v.splice(y-1,1),y--),v[y][1]=I,J?v[y+1][1]=J:(v.splice(y+1,1),y--))}y++}}function N(v,L){v.push([n,""]);for(var y=0,O=0,k=0,T="",R="",B;y<v.length;){if(y<v.length-1&&!v[y][1]){v.splice(y,1);continue}switch(v[y][0]){case t:k++,R+=v[y][1],y++;break;case e:O++,T+=v[y][1],y++;break;case n:var U=y-k-O-1;if(L){if(U>=0&&G(v[U][1])){var I=v[U][1].slice(-1);if(v[U][1]=v[U][1].slice(0,-1),T=I+T,R=I+R,!v[U][1]){v.splice(U,1),y--;var J=U-1;v[J]&&v[J][0]===t&&(k++,R=v[J][1]+R,J--),v[J]&&v[J][0]===e&&(O++,T=v[J][1]+T,J--),U=J}}if(F(v[y][1])){var I=v[y][1].charAt(0);v[y][1]=v[y][1].slice(1),T+=I,R+=I}}if(y<v.length-1&&!v[y][1]){v.splice(y,1);break}if(T.length>0||R.length>0){T.length>0&&R.length>0&&(B=a(R,T),B!==0&&(U>=0?v[U][1]+=R.substring(0,B):(v.splice(0,0,[n,R.substring(0,B)]),y++),R=R.substring(B),T=T.substring(B)),B=c(R,T),B!==0&&(v[y][1]=R.substring(R.length-B)+v[y][1],R=R.substring(0,R.length-B),T=T.substring(0,T.length-B)));var Z=k+O;T.length===0&&R.length===0?(v.splice(y-Z,Z),y=y-Z):T.length===0?(v.splice(y-Z,Z,[t,R]),y=y-Z+1):R.length===0?(v.splice(y-Z,Z,[e,T]),y=y-Z+1):(v.splice(y-Z,Z,[e,T],[t,R]),y=y-Z+2)}y!==0&&v[y-1][0]===n?(v[y-1][1]+=v[y][1],v.splice(y,1)):y++,k=0,O=0,T="",R="";break}}v[v.length-1][1]===""&&v.pop();var nt=!1;for(y=1;y<v.length-1;)v[y-1][0]===n&&v[y+1][0]===n&&(v[y][1].substring(v[y][1].length-v[y-1][1].length)===v[y-1][1]?(v[y][1]=v[y-1][1]+v[y][1].substring(0,v[y][1].length-v[y-1][1].length),v[y+1][1]=v[y-1][1]+v[y+1][1],v.splice(y-1,1),nt=!0):v[y][1].substring(0,v[y+1][1].length)==v[y+1][1]&&(v[y-1][1]+=v[y+1][1],v[y][1]=v[y][1].substring(v[y+1][1].length)+v[y+1][1],v.splice(y+1,1),nt=!0)),y++;nt&&N(v,L)}function S(v){return v>=55296&&v<=56319}function W(v){return v>=56320&&v<=57343}function F(v){return W(v.charCodeAt(0))}function G(v){return S(v.charCodeAt(v.length-1))}function lt(v){for(var L=[],y=0;y<v.length;y++)v[y][1].length>0&&L.push(v[y]);return L}function vt(v,L,y,O){return G(v)||F(O)?null:lt([[n,v],[e,L],[t,y],[n,O]])}function Vt(v,L,y){var O=typeof y=="number"?{index:y,length:0}:y.oldRange,k=typeof y=="number"?null:y.newRange,T=v.length,R=L.length;if(O.length===0&&(k===null||k.length===0)){var B=O.index,U=v.slice(0,B),I=v.slice(B),J=k?k.index:null;t:{var Z=B+R-T;if(J!==null&&J!==Z||Z<0||Z>R)break t;var nt=L.slice(0,Z),rt=L.slice(Z);if(rt!==I)break t;var H=Math.min(B,Z),yt=U.slice(0,H),_t=nt.slice(0,H);if(yt!==_t)break t;var tt=U.slice(H),ct=nt.slice(H);return vt(yt,tt,ct,I)}t:{if(J!==null&&J!==B)break t;var at=B,nt=L.slice(0,at),rt=L.slice(at);if(nt!==U)break t;var ft=Math.min(T-at,R-at),gt=I.slice(I.length-ft),mt=rt.slice(rt.length-ft);if(gt!==mt)break t;var tt=I.slice(0,I.length-ft),ct=rt.slice(0,rt.length-ft);return vt(U,tt,ct,gt)}}if(O.length>0&&k&&k.length===0)t:{var yt=v.slice(0,O.index),gt=v.slice(O.index+O.length),H=yt.length,ft=gt.length;if(R<H+ft)break t;var _t=L.slice(0,H),mt=L.slice(R-ft);if(yt!==_t||gt!==mt)break t;var tt=v.slice(H,T-ft),ct=L.slice(H,R-ft);return vt(yt,tt,ct,gt)}return null}function ee(v,L,y,O){return r(v,L,y,O,!0)}return ee.INSERT=t,ee.DELETE=e,ee.EQUAL=n,Sl=ee,Sl}var Ui={exports:{}},Su;function Mh(){return Su||(Su=1,function(e,t){var n=200,r="__lodash_hash_undefined__",i=9007199254740991,s="[object Arguments]",l="[object Array]",a="[object Boolean]",u="[object Date]",c="[object Error]",p="[object Function]",g="[object GeneratorFunction]",d="[object Map]",m="[object Number]",q="[object Object]",_="[object Promise]",w="[object RegExp]",A="[object Set]",N="[object String]",S="[object Symbol]",W="[object WeakMap]",F="[object ArrayBuffer]",G="[object DataView]",lt="[object Float32Array]",vt="[object Float64Array]",Vt="[object Int8Array]",ee="[object Int16Array]",v="[object Int32Array]",L="[object Uint8Array]",y="[object Uint8ClampedArray]",O="[object Uint16Array]",k="[object Uint32Array]",T=/[\\^$.*+?()[\]{}|]/g,R=/\w*$/,B=/^\[object .+?Constructor\]$/,U=/^(?:0|[1-9]\d*)$/,I={};I[s]=I[l]=I[F]=I[G]=I[a]=I[u]=I[lt]=I[vt]=I[Vt]=I[ee]=I[v]=I[d]=I[m]=I[q]=I[w]=I[A]=I[N]=I[S]=I[L]=I[y]=I[O]=I[k]=!0,I[c]=I[p]=I[W]=!1;var J=typeof pn=="object"&&pn&&pn.Object===Object&&pn,Z=typeof self=="object"&&self&&self.Object===Object&&self,nt=J||Z||Function("return this")(),rt=t&&!t.nodeType&&t,H=rt&&!0&&e&&!e.nodeType&&e,yt=H&&H.exports===rt;function _t(o,h){return o.set(h[0],h[1]),o}function tt(o,h){return o.add(h),o}function ct(o,h){for(var b=-1,x=o?o.length:0;++b<x&&h(o[b],b,o)!==!1;);return o}function at(o,h){for(var b=-1,x=h.length,Y=o.length;++b<x;)o[Y+b]=h[b];return o}function ft(o,h,b,x){for(var Y=-1,j=o?o.length:0;++Y<j;)b=h(b,o[Y],Y,o);return b}function gt(o,h){for(var b=-1,x=Array(o);++b<o;)x[b]=h(b);return x}function mt(o,h){return o==null?void 0:o[h]}function Lt(o){var h=!1;if(o!=null&&typeof o.toString!="function")try{h=!!(o+"")}catch{}return h}function Bt(o){var h=-1,b=Array(o.size);return o.forEach(function(x,Y){b[++h]=[Y,x]}),b}function Lr(o,h){return function(b){return o(h(b))}}function vi(o){var h=-1,b=Array(o.size);return o.forEach(function(x){b[++h]=x}),b}var Ps=Array.prototype,Ds=Function.prototype,Kn=Object.prototype,kr=nt["__core-js_shared__"],qi=function(){var o=/[^.]+$/.exec(kr&&kr.keys&&kr.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),yi=Ds.toString,Ce=Kn.hasOwnProperty,Vn=Kn.toString,Fs=RegExp("^"+yi.call(Ce).replace(T,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Tn=yt?nt.Buffer:void 0,Zn=nt.Symbol,Rr=nt.Uint8Array,oe=Lr(Object.getPrototypeOf,Object),wi=Object.create,_i=Kn.propertyIsEnumerable,Us=Ps.splice,Or=Object.getOwnPropertySymbols,Yn=Tn?Tn.isBuffer:void 0,xi=Lr(Object.keys,Object),Xn=we(nt,"DataView"),Nn=we(nt,"Map"),ye=we(nt,"Promise"),Jn=we(nt,"Set"),Sr=we(nt,"WeakMap"),Ln=we(Object,"create"),Cr=zt(Xn),kn=zt(Nn),Ir=zt(ye),$r=zt(Jn),Mr=zt(Sr),fn=Zn?Zn.prototype:void 0,Ai=fn?fn.valueOf:void 0;function Ke(o){var h=-1,b=o?o.length:0;for(this.clear();++h<b;){var x=o[h];this.set(x[0],x[1])}}function js(){this.__data__=Ln?Ln(null):{}}function Hs(o){return this.has(o)&&delete this.__data__[o]}function zs(o){var h=this.__data__;if(Ln){var b=h[o];return b===r?void 0:b}return Ce.call(h,o)?h[o]:void 0}function Ei(o){var h=this.__data__;return Ln?h[o]!==void 0:Ce.call(h,o)}function Br(o,h){var b=this.__data__;return b[o]=Ln&&h===void 0?r:h,this}Ke.prototype.clear=js,Ke.prototype.delete=Hs,Ke.prototype.get=zs,Ke.prototype.has=Ei,Ke.prototype.set=Br;function Ct(o){var h=-1,b=o?o.length:0;for(this.clear();++h<b;){var x=o[h];this.set(x[0],x[1])}}function Ws(){this.__data__=[]}function Gs(o){var h=this.__data__,b=tr(h,o);if(b<0)return!1;var x=h.length-1;return b==x?h.pop():Us.call(h,b,1),!0}function Ks(o){var h=this.__data__,b=tr(h,o);return b<0?void 0:h[b][1]}function Vs(o){return tr(this.__data__,o)>-1}function Zs(o,h){var b=this.__data__,x=tr(b,o);return x<0?b.push([o,h]):b[x][1]=h,this}Ct.prototype.clear=Ws,Ct.prototype.delete=Gs,Ct.prototype.get=Ks,Ct.prototype.has=Vs,Ct.prototype.set=Zs;function Pt(o){var h=-1,b=o?o.length:0;for(this.clear();++h<b;){var x=o[h];this.set(x[0],x[1])}}function Ys(){this.__data__={hash:new Ke,map:new(Nn||Ct),string:new Ke}}function Xs(o){return On(this,o).delete(o)}function Js(o){return On(this,o).get(o)}function Qs(o){return On(this,o).has(o)}function tl(o,h){return On(this,o).set(o,h),this}Pt.prototype.clear=Ys,Pt.prototype.delete=Xs,Pt.prototype.get=Js,Pt.prototype.has=Qs,Pt.prototype.set=tl;function Zt(o){this.__data__=new Ct(o)}function el(){this.__data__=new Ct}function nl(o){return this.__data__.delete(o)}function rl(o){return this.__data__.get(o)}function il(o){return this.__data__.has(o)}function sl(o,h){var b=this.__data__;if(b instanceof Ct){var x=b.__data__;if(!Nn||x.length<n-1)return x.push([o,h]),this;b=this.__data__=new Pt(x)}return b.set(o,h),this}Zt.prototype.clear=el,Zt.prototype.delete=nl,Zt.prototype.get=rl,Zt.prototype.has=il,Zt.prototype.set=sl;function Qn(o,h){var b=Ur(o)||nr(o)?gt(o.length,String):[],x=b.length,Y=!!x;for(var j in o)Ce.call(o,j)&&!(Y&&(j=="length"||ql(j,x)))&&b.push(j);return b}function Ti(o,h,b){var x=o[h];(!(Ce.call(o,h)&&Oi(x,b))||b===void 0&&!(h in o))&&(o[h]=b)}function tr(o,h){for(var b=o.length;b--;)if(Oi(o[b][0],h))return b;return-1}function Ie(o,h){return o&&Fr(h,Hr(h),o)}function Pr(o,h,b,x,Y,j,ot){var st;if(x&&(st=j?x(o,Y,j,ot):x(o)),st!==void 0)return st;if(!Me(o))return o;var kt=Ur(o);if(kt){if(st=bl(o),!h)return pl(o,st)}else{var ht=Ze(o),Dt=ht==p||ht==g;if(Si(o))return er(o,h);if(ht==q||ht==s||Dt&&!j){if(Lt(o))return j?o:{};if(st=$e(Dt?{}:o),!h)return gl(o,Ie(st,o))}else{if(!I[ht])return j?o:{};st=vl(o,ht,Pr,h)}}ot||(ot=new Zt);var Yt=ot.get(o);if(Yt)return Yt;if(ot.set(o,st),!kt)var Rt=b?ml(o):Hr(o);return ct(Rt||o,function(Ft,It){Rt&&(It=Ft,Ft=o[It]),Ti(st,It,Pr(Ft,h,b,x,It,o,ot))}),st}function ll(o){return Me(o)?wi(o):{}}function ol(o,h,b){var x=h(o);return Ur(o)?x:at(x,b(o))}function al(o){return Vn.call(o)}function ul(o){if(!Me(o)||wl(o))return!1;var h=jr(o)||Lt(o)?Fs:B;return h.test(zt(o))}function cl(o){if(!ki(o))return xi(o);var h=[];for(var b in Object(o))Ce.call(o,b)&&b!="constructor"&&h.push(b);return h}function er(o,h){if(h)return o.slice();var b=new o.constructor(o.length);return o.copy(b),b}function Dr(o){var h=new o.constructor(o.byteLength);return new Rr(h).set(new Rr(o)),h}function Rn(o,h){var b=h?Dr(o.buffer):o.buffer;return new o.constructor(b,o.byteOffset,o.byteLength)}function Ni(o,h,b){var x=h?b(Bt(o),!0):Bt(o);return ft(x,_t,new o.constructor)}function Li(o){var h=new o.constructor(o.source,R.exec(o));return h.lastIndex=o.lastIndex,h}function fl(o,h,b){var x=h?b(vi(o),!0):vi(o);return ft(x,tt,new o.constructor)}function hl(o){return Ai?Object(Ai.call(o)):{}}function dl(o,h){var b=h?Dr(o.buffer):o.buffer;return new o.constructor(b,o.byteOffset,o.length)}function pl(o,h){var b=-1,x=o.length;for(h||(h=Array(x));++b<x;)h[b]=o[b];return h}function Fr(o,h,b,x){b||(b={});for(var Y=-1,j=h.length;++Y<j;){var ot=h[Y],st=void 0;Ti(b,ot,st===void 0?o[ot]:st)}return b}function gl(o,h){return Fr(o,Ve(o),h)}function ml(o){return ol(o,Hr,Ve)}function On(o,h){var b=o.__data__;return yl(h)?b[typeof h=="string"?"string":"hash"]:b.map}function we(o,h){var b=mt(o,h);return ul(b)?b:void 0}var Ve=Or?Lr(Or,Object):xl,Ze=al;(Xn&&Ze(new Xn(new ArrayBuffer(1)))!=G||Nn&&Ze(new Nn)!=d||ye&&Ze(ye.resolve())!=_||Jn&&Ze(new Jn)!=A||Sr&&Ze(new Sr)!=W)&&(Ze=function(o){var h=Vn.call(o),b=h==q?o.constructor:void 0,x=b?zt(b):void 0;if(x)switch(x){case Cr:return G;case kn:return d;case Ir:return _;case $r:return A;case Mr:return W}return h});function bl(o){var h=o.length,b=o.constructor(h);return h&&typeof o[0]=="string"&&Ce.call(o,"index")&&(b.index=o.index,b.input=o.input),b}function $e(o){return typeof o.constructor=="function"&&!ki(o)?ll(oe(o)):{}}function vl(o,h,b,x){var Y=o.constructor;switch(h){case F:return Dr(o);case a:case u:return new Y(+o);case G:return Rn(o,x);case lt:case vt:case Vt:case ee:case v:case L:case y:case O:case k:return dl(o,x);case d:return Ni(o,x,b);case m:case N:return new Y(o);case w:return Li(o);case A:return fl(o,x,b);case S:return hl(o)}}function ql(o,h){return h=h??i,!!h&&(typeof o=="number"||U.test(o))&&o>-1&&o%1==0&&o<h}function yl(o){var h=typeof o;return h=="string"||h=="number"||h=="symbol"||h=="boolean"?o!=="__proto__":o===null}function wl(o){return!!qi&&qi in o}function ki(o){var h=o&&o.constructor,b=typeof h=="function"&&h.prototype||Kn;return o===b}function zt(o){if(o!=null){try{return yi.call(o)}catch{}try{return o+""}catch{}}return""}function Ri(o){return Pr(o,!0,!0)}function Oi(o,h){return o===h||o!==o&&h!==h}function nr(o){return _l(o)&&Ce.call(o,"callee")&&(!_i.call(o,"callee")||Vn.call(o)==s)}var Ur=Array.isArray;function rr(o){return o!=null&&Ci(o.length)&&!jr(o)}function _l(o){return Ii(o)&&rr(o)}var Si=Yn||Al;function jr(o){var h=Me(o)?Vn.call(o):"";return h==p||h==g}function Ci(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=i}function Me(o){var h=typeof o;return!!o&&(h=="object"||h=="function")}function Ii(o){return!!o&&typeof o=="object"}function Hr(o){return rr(o)?Qn(o):cl(o)}function xl(){return[]}function Al(){return!1}e.exports=Ri}(Ui,Ui.exports)),Ui.exports}var ji={exports:{}},Cu;function Bh(){return Cu||(Cu=1,function(e,t){var n=200,r="__lodash_hash_undefined__",i=1,s=2,l=9007199254740991,a="[object Arguments]",u="[object Array]",c="[object AsyncFunction]",p="[object Boolean]",g="[object Date]",d="[object Error]",m="[object Function]",q="[object GeneratorFunction]",_="[object Map]",w="[object Number]",A="[object Null]",N="[object Object]",S="[object Promise]",W="[object Proxy]",F="[object RegExp]",G="[object Set]",lt="[object String]",vt="[object Symbol]",Vt="[object Undefined]",ee="[object WeakMap]",v="[object ArrayBuffer]",L="[object DataView]",y="[object Float32Array]",O="[object Float64Array]",k="[object Int8Array]",T="[object Int16Array]",R="[object Int32Array]",B="[object Uint8Array]",U="[object Uint8ClampedArray]",I="[object Uint16Array]",J="[object Uint32Array]",Z=/[\\^$.*+?()[\]{}|]/g,nt=/^\[object .+?Constructor\]$/,rt=/^(?:0|[1-9]\d*)$/,H={};H[y]=H[O]=H[k]=H[T]=H[R]=H[B]=H[U]=H[I]=H[J]=!0,H[a]=H[u]=H[v]=H[p]=H[L]=H[g]=H[d]=H[m]=H[_]=H[w]=H[N]=H[F]=H[G]=H[lt]=H[ee]=!1;var yt=typeof pn=="object"&&pn&&pn.Object===Object&&pn,_t=typeof self=="object"&&self&&self.Object===Object&&self,tt=yt||_t||Function("return this")(),ct=t&&!t.nodeType&&t,at=ct&&!0&&e&&!e.nodeType&&e,ft=at&&at.exports===ct,gt=ft&&yt.process,mt=function(){try{return gt&&gt.binding&&gt.binding("util")}catch{}}(),Lt=mt&&mt.isTypedArray;function Bt(o,h){for(var b=-1,x=o==null?0:o.length,Y=0,j=[];++b<x;){var ot=o[b];h(ot,b,o)&&(j[Y++]=ot)}return j}function Lr(o,h){for(var b=-1,x=h.length,Y=o.length;++b<x;)o[Y+b]=h[b];return o}function vi(o,h){for(var b=-1,x=o==null?0:o.length;++b<x;)if(h(o[b],b,o))return!0;return!1}function Ps(o,h){for(var b=-1,x=Array(o);++b<o;)x[b]=h(b);return x}function Ds(o){return function(h){return o(h)}}function Kn(o,h){return o.has(h)}function kr(o,h){return o==null?void 0:o[h]}function qi(o){var h=-1,b=Array(o.size);return o.forEach(function(x,Y){b[++h]=[Y,x]}),b}function yi(o,h){return function(b){return o(h(b))}}function Ce(o){var h=-1,b=Array(o.size);return o.forEach(function(x){b[++h]=x}),b}var Vn=Array.prototype,Fs=Function.prototype,Tn=Object.prototype,Zn=tt["__core-js_shared__"],Rr=Fs.toString,oe=Tn.hasOwnProperty,wi=function(){var o=/[^.]+$/.exec(Zn&&Zn.keys&&Zn.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),_i=Tn.toString,Us=RegExp("^"+Rr.call(oe).replace(Z,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Or=ft?tt.Buffer:void 0,Yn=tt.Symbol,xi=tt.Uint8Array,Xn=Tn.propertyIsEnumerable,Nn=Vn.splice,ye=Yn?Yn.toStringTag:void 0,Jn=Object.getOwnPropertySymbols,Sr=Or?Or.isBuffer:void 0,Ln=yi(Object.keys,Object),Cr=Ve(tt,"DataView"),kn=Ve(tt,"Map"),Ir=Ve(tt,"Promise"),$r=Ve(tt,"Set"),Mr=Ve(tt,"WeakMap"),fn=Ve(Object,"create"),Ai=zt(Cr),Ke=zt(kn),js=zt(Ir),Hs=zt($r),zs=zt(Mr),Ei=Yn?Yn.prototype:void 0,Br=Ei?Ei.valueOf:void 0;function Ct(o){var h=-1,b=o==null?0:o.length;for(this.clear();++h<b;){var x=o[h];this.set(x[0],x[1])}}function Ws(){this.__data__=fn?fn(null):{},this.size=0}function Gs(o){var h=this.has(o)&&delete this.__data__[o];return this.size-=h?1:0,h}function Ks(o){var h=this.__data__;if(fn){var b=h[o];return b===r?void 0:b}return oe.call(h,o)?h[o]:void 0}function Vs(o){var h=this.__data__;return fn?h[o]!==void 0:oe.call(h,o)}function Zs(o,h){var b=this.__data__;return this.size+=this.has(o)?0:1,b[o]=fn&&h===void 0?r:h,this}Ct.prototype.clear=Ws,Ct.prototype.delete=Gs,Ct.prototype.get=Ks,Ct.prototype.has=Vs,Ct.prototype.set=Zs;function Pt(o){var h=-1,b=o==null?0:o.length;for(this.clear();++h<b;){var x=o[h];this.set(x[0],x[1])}}function Ys(){this.__data__=[],this.size=0}function Xs(o){var h=this.__data__,b=er(h,o);if(b<0)return!1;var x=h.length-1;return b==x?h.pop():Nn.call(h,b,1),--this.size,!0}function Js(o){var h=this.__data__,b=er(h,o);return b<0?void 0:h[b][1]}function Qs(o){return er(this.__data__,o)>-1}function tl(o,h){var b=this.__data__,x=er(b,o);return x<0?(++this.size,b.push([o,h])):b[x][1]=h,this}Pt.prototype.clear=Ys,Pt.prototype.delete=Xs,Pt.prototype.get=Js,Pt.prototype.has=Qs,Pt.prototype.set=tl;function Zt(o){var h=-1,b=o==null?0:o.length;for(this.clear();++h<b;){var x=o[h];this.set(x[0],x[1])}}function el(){this.size=0,this.__data__={hash:new Ct,map:new(kn||Pt),string:new Ct}}function nl(o){var h=we(this,o).delete(o);return this.size-=h?1:0,h}function rl(o){return we(this,o).get(o)}function il(o){return we(this,o).has(o)}function sl(o,h){var b=we(this,o),x=b.size;return b.set(o,h),this.size+=b.size==x?0:1,this}Zt.prototype.clear=el,Zt.prototype.delete=nl,Zt.prototype.get=rl,Zt.prototype.has=il,Zt.prototype.set=sl;function Qn(o){var h=-1,b=o==null?0:o.length;for(this.__data__=new Zt;++h<b;)this.add(o[h])}function Ti(o){return this.__data__.set(o,r),this}function tr(o){return this.__data__.has(o)}Qn.prototype.add=Qn.prototype.push=Ti,Qn.prototype.has=tr;function Ie(o){var h=this.__data__=new Pt(o);this.size=h.size}function Pr(){this.__data__=new Pt,this.size=0}function ll(o){var h=this.__data__,b=h.delete(o);return this.size=h.size,b}function ol(o){return this.__data__.get(o)}function al(o){return this.__data__.has(o)}function ul(o,h){var b=this.__data__;if(b instanceof Pt){var x=b.__data__;if(!kn||x.length<n-1)return x.push([o,h]),this.size=++b.size,this;b=this.__data__=new Zt(x)}return b.set(o,h),this.size=b.size,this}Ie.prototype.clear=Pr,Ie.prototype.delete=ll,Ie.prototype.get=ol,Ie.prototype.has=al,Ie.prototype.set=ul;function cl(o,h){var b=nr(o),x=!b&&Oi(o),Y=!b&&!x&&rr(o),j=!b&&!x&&!Y&&Ii(o),ot=b||x||Y||j,st=ot?Ps(o.length,String):[],kt=st.length;for(var ht in o)oe.call(o,ht)&&!(ot&&(ht=="length"||Y&&(ht=="offset"||ht=="parent")||j&&(ht=="buffer"||ht=="byteLength"||ht=="byteOffset")||vl(ht,kt)))&&st.push(ht);return st}function er(o,h){for(var b=o.length;b--;)if(Ri(o[b][0],h))return b;return-1}function Dr(o,h,b){var x=h(o);return nr(o)?x:Lr(x,b(o))}function Rn(o){return o==null?o===void 0?Vt:A:ye&&ye in Object(o)?Ze(o):ki(o)}function Ni(o){return Me(o)&&Rn(o)==a}function Li(o,h,b,x,Y){return o===h?!0:o==null||h==null||!Me(o)&&!Me(h)?o!==o&&h!==h:fl(o,h,b,x,Li,Y)}function fl(o,h,b,x,Y,j){var ot=nr(o),st=nr(h),kt=ot?u:$e(o),ht=st?u:$e(h);kt=kt==a?N:kt,ht=ht==a?N:ht;var Dt=kt==N,Yt=ht==N,Rt=kt==ht;if(Rt&&rr(o)){if(!rr(h))return!1;ot=!0,Dt=!1}if(Rt&&!Dt)return j||(j=new Ie),ot||Ii(o)?Fr(o,h,b,x,Y,j):gl(o,h,kt,b,x,Y,j);if(!(b&i)){var Ft=Dt&&oe.call(o,"__wrapped__"),It=Yt&&oe.call(h,"__wrapped__");if(Ft||It){var hn=Ft?o.value():o,Ye=It?h.value():h;return j||(j=new Ie),Y(hn,Ye,b,x,j)}}return Rt?(j||(j=new Ie),ml(o,h,b,x,Y,j)):!1}function hl(o){if(!Ci(o)||yl(o))return!1;var h=Si(o)?Us:nt;return h.test(zt(o))}function dl(o){return Me(o)&&jr(o.length)&&!!H[Rn(o)]}function pl(o){if(!wl(o))return Ln(o);var h=[];for(var b in Object(o))oe.call(o,b)&&b!="constructor"&&h.push(b);return h}function Fr(o,h,b,x,Y,j){var ot=b&i,st=o.length,kt=h.length;if(st!=kt&&!(ot&&kt>st))return!1;var ht=j.get(o);if(ht&&j.get(h))return ht==h;var Dt=-1,Yt=!0,Rt=b&s?new Qn:void 0;for(j.set(o,h),j.set(h,o);++Dt<st;){var Ft=o[Dt],It=h[Dt];if(x)var hn=ot?x(It,Ft,Dt,h,o,j):x(Ft,It,Dt,o,h,j);if(hn!==void 0){if(hn)continue;Yt=!1;break}if(Rt){if(!vi(h,function(Ye,Sn){if(!Kn(Rt,Sn)&&(Ft===Ye||Y(Ft,Ye,b,x,j)))return Rt.push(Sn)})){Yt=!1;break}}else if(!(Ft===It||Y(Ft,It,b,x,j))){Yt=!1;break}}return j.delete(o),j.delete(h),Yt}function gl(o,h,b,x,Y,j,ot){switch(b){case L:if(o.byteLength!=h.byteLength||o.byteOffset!=h.byteOffset)return!1;o=o.buffer,h=h.buffer;case v:return!(o.byteLength!=h.byteLength||!j(new xi(o),new xi(h)));case p:case g:case w:return Ri(+o,+h);case d:return o.name==h.name&&o.message==h.message;case F:case lt:return o==h+"";case _:var st=qi;case G:var kt=x&i;if(st||(st=Ce),o.size!=h.size&&!kt)return!1;var ht=ot.get(o);if(ht)return ht==h;x|=s,ot.set(o,h);var Dt=Fr(st(o),st(h),x,Y,j,ot);return ot.delete(o),Dt;case vt:if(Br)return Br.call(o)==Br.call(h)}return!1}function ml(o,h,b,x,Y,j){var ot=b&i,st=On(o),kt=st.length,ht=On(h),Dt=ht.length;if(kt!=Dt&&!ot)return!1;for(var Yt=kt;Yt--;){var Rt=st[Yt];if(!(ot?Rt in h:oe.call(h,Rt)))return!1}var Ft=j.get(o);if(Ft&&j.get(h))return Ft==h;var It=!0;j.set(o,h),j.set(h,o);for(var hn=ot;++Yt<kt;){Rt=st[Yt];var Ye=o[Rt],Sn=h[Rt];if(x)var Aa=ot?x(Sn,Ye,Rt,h,o,j):x(Ye,Sn,Rt,o,h,j);if(!(Aa===void 0?Ye===Sn||Y(Ye,Sn,b,x,j):Aa)){It=!1;break}hn||(hn=Rt=="constructor")}if(It&&!hn){var $i=o.constructor,Mi=h.constructor;$i!=Mi&&"constructor"in o&&"constructor"in h&&!(typeof $i=="function"&&$i instanceof $i&&typeof Mi=="function"&&Mi instanceof Mi)&&(It=!1)}return j.delete(o),j.delete(h),It}function On(o){return Dr(o,Hr,bl)}function we(o,h){var b=o.__data__;return ql(h)?b[typeof h=="string"?"string":"hash"]:b.map}function Ve(o,h){var b=kr(o,h);return hl(b)?b:void 0}function Ze(o){var h=oe.call(o,ye),b=o[ye];try{o[ye]=void 0;var x=!0}catch{}var Y=_i.call(o);return x&&(h?o[ye]=b:delete o[ye]),Y}var bl=Jn?function(o){return o==null?[]:(o=Object(o),Bt(Jn(o),function(h){return Xn.call(o,h)}))}:xl,$e=Rn;(Cr&&$e(new Cr(new ArrayBuffer(1)))!=L||kn&&$e(new kn)!=_||Ir&&$e(Ir.resolve())!=S||$r&&$e(new $r)!=G||Mr&&$e(new Mr)!=ee)&&($e=function(o){var h=Rn(o),b=h==N?o.constructor:void 0,x=b?zt(b):"";if(x)switch(x){case Ai:return L;case Ke:return _;case js:return S;case Hs:return G;case zs:return ee}return h});function vl(o,h){return h=h??l,!!h&&(typeof o=="number"||rt.test(o))&&o>-1&&o%1==0&&o<h}function ql(o){var h=typeof o;return h=="string"||h=="number"||h=="symbol"||h=="boolean"?o!=="__proto__":o===null}function yl(o){return!!wi&&wi in o}function wl(o){var h=o&&o.constructor,b=typeof h=="function"&&h.prototype||Tn;return o===b}function ki(o){return _i.call(o)}function zt(o){if(o!=null){try{return Rr.call(o)}catch{}try{return o+""}catch{}}return""}function Ri(o,h){return o===h||o!==o&&h!==h}var Oi=Ni(function(){return arguments}())?Ni:function(o){return Me(o)&&oe.call(o,"callee")&&!Xn.call(o,"callee")},nr=Array.isArray;function Ur(o){return o!=null&&jr(o.length)&&!Si(o)}var rr=Sr||Al;function _l(o,h){return Li(o,h)}function Si(o){if(!Ci(o))return!1;var h=Rn(o);return h==m||h==q||h==c||h==W}function jr(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=l}function Ci(o){var h=typeof o;return o!=null&&(h=="object"||h=="function")}function Me(o){return o!=null&&typeof o=="object"}var Ii=Lt?Ds(Lt):dl;function Hr(o){return Ur(o)?cl(o):pl(o)}function xl(){return[]}function Al(){return!1}e.exports=_l}(ji,ji.exports)),ji.exports}var Hi={},Iu;function f2(){if(Iu)return Hi;Iu=1,Object.defineProperty(Hi,"__esModule",{value:!0});const e=Mh(),t=Bh();var n;return function(r){function i(u={},c={},p=!1){typeof u!="object"&&(u={}),typeof c!="object"&&(c={});let g=e(c);p||(g=Object.keys(g).reduce((d,m)=>(g[m]!=null&&(d[m]=g[m]),d),{}));for(const d in u)u[d]!==void 0&&c[d]===void 0&&(g[d]=u[d]);return Object.keys(g).length>0?g:void 0}r.compose=i;function s(u={},c={}){typeof u!="object"&&(u={}),typeof c!="object"&&(c={});const p=Object.keys(u).concat(Object.keys(c)).reduce((g,d)=>(t(u[d],c[d])||(g[d]=c[d]===void 0?null:c[d]),g),{});return Object.keys(p).length>0?p:void 0}r.diff=s;function l(u={},c={}){u=u||{};const p=Object.keys(c).reduce((g,d)=>(c[d]!==u[d]&&u[d]!==void 0&&(g[d]=c[d]),g),{});return Object.keys(u).reduce((g,d)=>(u[d]!==c[d]&&c[d]===void 0&&(g[d]=null),g),p)}r.invert=l;function a(u,c,p=!1){if(typeof u!="object")return c;if(typeof c!="object")return;if(!p)return c;const g=Object.keys(c).reduce((d,m)=>(u[m]===void 0&&(d[m]=c[m]),d),{});return Object.keys(g).length>0?g:void 0}r.transform=a}(n||(n={})),Hi.default=n,Hi}var zi={},$u;function Ph(){if($u)return zi;$u=1,Object.defineProperty(zi,"__esModule",{value:!0});var e;return function(t){function n(r){return typeof r.delete=="number"?r.delete:typeof r.retain=="number"?r.retain:typeof r.retain=="object"&&r.retain!==null?1:typeof r.insert=="string"?r.insert.length:1}t.length=n}(e||(e={})),zi.default=e,zi}var Wi={},Mu;function h2(){if(Mu)return Wi;Mu=1,Object.defineProperty(Wi,"__esModule",{value:!0});const e=Ph();class t{constructor(r){this.ops=r,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(r){r||(r=1/0);const i=this.ops[this.index];if(i){const s=this.offset,l=e.default.length(i);if(r>=l-s?(r=l-s,this.index+=1,this.offset=0):this.offset+=r,typeof i.delete=="number")return{delete:r};{const a={};return i.attributes&&(a.attributes=i.attributes),typeof i.retain=="number"?a.retain=r:typeof i.retain=="object"&&i.retain!==null?a.retain=i.retain:typeof i.insert=="string"?a.insert=i.insert.substr(s,r):a.insert=i.insert,a}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?e.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const r=this.ops[this.index];return r?typeof r.delete=="number"?"delete":typeof r.retain=="number"||typeof r.retain=="object"&&r.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const r=this.offset,i=this.index,s=this.next(),l=this.ops.slice(this.index);return this.offset=r,this.index=i,[s].concat(l)}}else return[]}}return Wi.default=t,Wi}var Bu;function d2(){return Bu||(Bu=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeMap=t.OpIterator=t.Op=void 0;const n=c2(),r=Mh(),i=Bh(),s=f2();t.AttributeMap=s.default;const l=Ph();t.Op=l.default;const a=h2();t.OpIterator=a.default;const u="\0",c=(g,d)=>{if(typeof g!="object"||g===null)throw new Error(`cannot retain a ${typeof g}`);if(typeof d!="object"||d===null)throw new Error(`cannot retain a ${typeof d}`);const m=Object.keys(g)[0];if(!m||m!==Object.keys(d)[0])throw new Error(`embed types not matched: ${m} != ${Object.keys(d)[0]}`);return[m,g[m],d[m]]};class p{constructor(d){Array.isArray(d)?this.ops=d:d!=null&&Array.isArray(d.ops)?this.ops=d.ops:this.ops=[]}static registerEmbed(d,m){this.handlers[d]=m}static unregisterEmbed(d){delete this.handlers[d]}static getHandler(d){const m=this.handlers[d];if(!m)throw new Error(`no handlers for embed type "${d}"`);return m}insert(d,m){const q={};return typeof d=="string"&&d.length===0?this:(q.insert=d,m!=null&&typeof m=="object"&&Object.keys(m).length>0&&(q.attributes=m),this.push(q))}delete(d){return d<=0?this:this.push({delete:d})}retain(d,m){if(typeof d=="number"&&d<=0)return this;const q={retain:d};return m!=null&&typeof m=="object"&&Object.keys(m).length>0&&(q.attributes=m),this.push(q)}push(d){let m=this.ops.length,q=this.ops[m-1];if(d=r(d),typeof q=="object"){if(typeof d.delete=="number"&&typeof q.delete=="number")return this.ops[m-1]={delete:q.delete+d.delete},this;if(typeof q.delete=="number"&&d.insert!=null&&(m-=1,q=this.ops[m-1],typeof q!="object"))return this.ops.unshift(d),this;if(i(d.attributes,q.attributes)){if(typeof d.insert=="string"&&typeof q.insert=="string")return this.ops[m-1]={insert:q.insert+d.insert},typeof d.attributes=="object"&&(this.ops[m-1].attributes=d.attributes),this;if(typeof d.retain=="number"&&typeof q.retain=="number")return this.ops[m-1]={retain:q.retain+d.retain},typeof d.attributes=="object"&&(this.ops[m-1].attributes=d.attributes),this}}return m===this.ops.length?this.ops.push(d):this.ops.splice(m,0,d),this}chop(){const d=this.ops[this.ops.length-1];return d&&typeof d.retain=="number"&&!d.attributes&&this.ops.pop(),this}filter(d){return this.ops.filter(d)}forEach(d){this.ops.forEach(d)}map(d){return this.ops.map(d)}partition(d){const m=[],q=[];return this.forEach(_=>{(d(_)?m:q).push(_)}),[m,q]}reduce(d,m){return this.ops.reduce(d,m)}changeLength(){return this.reduce((d,m)=>m.insert?d+l.default.length(m):m.delete?d-m.delete:d,0)}length(){return this.reduce((d,m)=>d+l.default.length(m),0)}slice(d=0,m=1/0){const q=[],_=new a.default(this.ops);let w=0;for(;w<m&&_.hasNext();){let A;w<d?A=_.next(d-w):(A=_.next(m-w),q.push(A)),w+=l.default.length(A)}return new p(q)}compose(d){const m=new a.default(this.ops),q=new a.default(d.ops),_=[],w=q.peek();if(w!=null&&typeof w.retain=="number"&&w.attributes==null){let N=w.retain;for(;m.peekType()==="insert"&&m.peekLength()<=N;)N-=m.peekLength(),_.push(m.next());w.retain-N>0&&q.next(w.retain-N)}const A=new p(_);for(;m.hasNext()||q.hasNext();)if(q.peekType()==="insert")A.push(q.next());else if(m.peekType()==="delete")A.push(m.next());else{const N=Math.min(m.peekLength(),q.peekLength()),S=m.next(N),W=q.next(N);if(W.retain){const F={};if(typeof S.retain=="number")F.retain=typeof W.retain=="number"?N:W.retain;else if(typeof W.retain=="number")S.retain==null?F.insert=S.insert:F.retain=S.retain;else{const lt=S.retain==null?"insert":"retain",[vt,Vt,ee]=c(S[lt],W.retain),v=p.getHandler(vt);F[lt]={[vt]:v.compose(Vt,ee,lt==="retain")}}const G=s.default.compose(S.attributes,W.attributes,typeof S.retain=="number");if(G&&(F.attributes=G),A.push(F),!q.hasNext()&&i(A.ops[A.ops.length-1],F)){const lt=new p(m.rest());return A.concat(lt).chop()}}else typeof W.delete=="number"&&(typeof S.retain=="number"||typeof S.retain=="object"&&S.retain!==null)&&A.push(W)}return A.chop()}concat(d){const m=new p(this.ops.slice());return d.ops.length>0&&(m.push(d.ops[0]),m.ops=m.ops.concat(d.ops.slice(1))),m}diff(d,m){if(this.ops===d.ops)return new p;const q=[this,d].map(S=>S.map(W=>{if(W.insert!=null)return typeof W.insert=="string"?W.insert:u;const F=S===d?"on":"with";throw new Error("diff() called "+F+" non-document")}).join("")),_=new p,w=n(q[0],q[1],m,!0),A=new a.default(this.ops),N=new a.default(d.ops);return w.forEach(S=>{let W=S[1].length;for(;W>0;){let F=0;switch(S[0]){case n.INSERT:F=Math.min(N.peekLength(),W),_.push(N.next(F));break;case n.DELETE:F=Math.min(W,A.peekLength()),A.next(F),_.delete(F);break;case n.EQUAL:F=Math.min(A.peekLength(),N.peekLength(),W);const G=A.next(F),lt=N.next(F);i(G.insert,lt.insert)?_.retain(F,s.default.diff(G.attributes,lt.attributes)):_.push(lt).delete(F);break}W-=F}}),_.chop()}eachLine(d,m=`
`){const q=new a.default(this.ops);let _=new p,w=0;for(;q.hasNext();){if(q.peekType()!=="insert")return;const A=q.peek(),N=l.default.length(A)-q.peekLength(),S=typeof A.insert=="string"?A.insert.indexOf(m,N)-N:-1;if(S<0)_.push(q.next());else if(S>0)_.push(q.next(S));else{if(d(_,q.next(1).attributes||{},w)===!1)return;w+=1,_=new p}}_.length()>0&&d(_,{},w)}invert(d){const m=new p;return this.reduce((q,_)=>{if(_.insert)m.delete(l.default.length(_));else{if(typeof _.retain=="number"&&_.attributes==null)return m.retain(_.retain),q+_.retain;if(_.delete||typeof _.retain=="number"){const w=_.delete||_.retain;return d.slice(q,q+w).forEach(N=>{_.delete?m.push(N):_.retain&&_.attributes&&m.retain(l.default.length(N),s.default.invert(_.attributes,N.attributes))}),q+w}else if(typeof _.retain=="object"&&_.retain!==null){const w=d.slice(q,q+1),A=new a.default(w.ops).next(),[N,S,W]=c(_.retain,A.insert),F=p.getHandler(N);return m.retain({[N]:F.invert(S,W)},s.default.invert(_.attributes,A.attributes)),q+1}}return q},0),m.chop()}transform(d,m=!1){if(m=!!m,typeof d=="number")return this.transformPosition(d,m);const q=d,_=new a.default(this.ops),w=new a.default(q.ops),A=new p;for(;_.hasNext()||w.hasNext();)if(_.peekType()==="insert"&&(m||w.peekType()!=="insert"))A.retain(l.default.length(_.next()));else if(w.peekType()==="insert")A.push(w.next());else{const N=Math.min(_.peekLength(),w.peekLength()),S=_.next(N),W=w.next(N);if(S.delete)continue;if(W.delete)A.push(W);else{const F=S.retain,G=W.retain;let lt=typeof G=="object"&&G!==null?G:N;if(typeof F=="object"&&F!==null&&typeof G=="object"&&G!==null){const vt=Object.keys(F)[0];if(vt===Object.keys(G)[0]){const Vt=p.getHandler(vt);Vt&&(lt={[vt]:Vt.transform(F[vt],G[vt],m)})}}A.retain(lt,s.default.transform(S.attributes,W.attributes,m))}}return A.chop()}transformPosition(d,m=!1){m=!!m;const q=new a.default(this.ops);let _=0;for(;q.hasNext()&&_<=d;){const w=q.peekLength(),A=q.peekType();if(q.next(),A==="delete"){d-=Math.min(w,d-_);continue}else A==="insert"&&(_<d||!m)&&(d+=w);_+=w}return d}}p.Op=l.default,p.OpIterator=a.default,p.AttributeMap=s.default,p.handlers={},t.default=p,e.exports=p,e.exports.default=p}(Fi,Fi.exports)),Fi.exports}var he=d2(),P=$h(he);class Oe extends le{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}Oe.blotName="break";Oe.tagName="BR";let Le=class extends ls{};const p2={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function $s(e){return e.replace(/[&<>"']/g,t=>p2[t])}const Be=class Be extends ha{static compare(t,n){const r=Be.order.indexOf(t),i=Be.order.indexOf(n);return r>=0||i>=0?r-i:t===n?0:t<n?-1:1}formatAt(t,n,r,i){if(Be.compare(this.statics.blotName,r)<0&&this.scroll.query(r,D.BLOT)){const s=this.isolate(t,n);i&&s.wrap(r,i)}else super.formatAt(t,n,r,i)}optimize(t){if(super.optimize(t),this.parent instanceof Be&&Be.compare(this.statics.blotName,this.parent.statics.blotName)>0){const n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}};C(Be,"allowedChildren",[Be,Oe,le,Le]),C(Be,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let Ue=Be;const Pu=1;class $t extends ri{constructor(){super(...arguments);C(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=Dh(this)),this.cache.delta}deleteAt(n,r){super.deleteAt(n,r),this.cache={}}formatAt(n,r,i,s){r<=0||(this.scroll.query(i,D.BLOCK)?n+r===this.length()&&this.format(i,s):super.formatAt(n,Math.min(r,this.length()-n-1),i,s),this.cache={})}insertAt(n,r,i){if(i!=null){super.insertAt(n,r,i),this.cache={};return}if(r.length===0)return;const s=r.split(`
`),l=s.shift();l.length>0&&(n<this.length()-1||this.children.tail==null?super.insertAt(Math.min(n,this.length()-1),l):this.children.tail.insertAt(this.children.tail.length(),l),this.cache={});let a=this;s.reduce((u,c)=>(a=a.split(u,!0),a.insertAt(0,c),c.length),n+l.length)}insertBefore(n,r){const{head:i}=this.children;super.insertBefore(n,r),i instanceof Oe&&i.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+Pu),this.cache.length}moveChildren(n,r){super.moveChildren(n,r),this.cache={}}optimize(n){super.optimize(n),this.cache={}}path(n){return super.path(n,!0)}removeChild(n){super.removeChild(n),this.cache={}}split(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(r&&(n===0||n>=this.length()-Pu)){const s=this.clone();return n===0?(this.parent.insertBefore(s,this),this):(this.parent.insertBefore(s,this.next),s)}const i=super.split(n,r);return this.cache={},i}}$t.blotName="block";$t.tagName="P";$t.defaultChild=Oe;$t.allowedChildren=[Oe,Ue,le,Le];class fe extends le{attach(){super.attach(),this.attributes=new Cs(this.domNode)}delta(){return new P().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(t,n){const r=this.scroll.query(t,D.BLOCK_ATTRIBUTE);r!=null&&this.attributes.attribute(r,n)}formatAt(t,n,r,i){this.format(r,i)}insertAt(t,n,r){if(r!=null){super.insertAt(t,n,r);return}const i=n.split(`
`),s=i.pop(),l=i.map(u=>{const c=this.scroll.create($t.blotName);return c.insertAt(0,u),c}),a=this.split(t);l.forEach(u=>{this.parent.insertBefore(u,a)}),s&&this.parent.insertBefore(this.scroll.create("text",s),a)}}fe.scope=D.BLOCK_BLOT;function Dh(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e.descendants(Ut).reduce((n,r)=>r.length()===0?n:n.insert(r.value(),ue(r,{},t)),new P).insert(`
`,ue(e))}function ue(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return e==null||("formats"in e&&typeof e.formats=="function"&&(t={...t,...e.formats()},n&&delete t["code-token"]),e.parent==null||e.parent.statics.blotName==="scroll"||e.parent.statics.scope!==e.statics.scope)?t:ue(e.parent,t,n)}const ae=class ae extends le{static value(){}constructor(t,n,r){super(t,n),this.selection=r,this.textNode=document.createTextNode(ae.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(t,n){if(this.savedLength!==0){super.format(t,n);return}let r=this,i=0;for(;r!=null&&r.statics.scope!==D.BLOCK_BLOT;)i+=r.offset(r.parent),r=r.parent;r!=null&&(this.savedLength=ae.CONTENTS.length,r.optimize(),r.formatAt(i,ae.CONTENTS.length,t,n),this.savedLength=0)}index(t,n){return t===this.textNode?0:super.index(t,n)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const t=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const n=this.prev instanceof Le?this.prev:null,r=n?n.length():0,i=this.next instanceof Le?this.next:null,s=i?i.text:"",{textNode:l}=this,a=l.data.split(ae.CONTENTS).join("");l.data=ae.CONTENTS;let u;if(n)u=n,(a||i)&&(n.insertAt(n.length(),a+s),i&&i.remove());else if(i)u=i,i.insertAt(0,a);else{const c=document.createTextNode(a);u=this.scroll.create(c),this.parent.insertBefore(u,this)}if(this.remove(),t){const c=(d,m)=>n&&d===n.domNode?m:d===l?r+m-1:i&&d===i.domNode?r+a.length+m:null,p=c(t.start.node,t.start.offset),g=c(t.end.node,t.end.offset);if(p!==null&&g!==null)return{startNode:u.domNode,startOffset:p,endNode:u.domNode,endOffset:g}}return null}update(t,n){if(t.some(r=>r.type==="characterData"&&r.target===this.textNode)){const r=this.restore();r&&(n.range=r)}}optimize(t){super.optimize(t);let{parent:n}=this;for(;n;){if(n.domNode.tagName==="A"){this.savedLength=ae.CONTENTS.length,n.isolate(this.offset(n),this.length()).unwrap(),this.savedLength=0;break}n=n.parent}}value(){return""}};C(ae,"blotName","cursor"),C(ae,"className","ql-cursor"),C(ae,"tagName","span"),C(ae,"CONTENTS","\uFEFF");let mr=ae;var Cl={exports:{}},Du;function g2(){return Du||(Du=1,function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,c,p){this.fn=u,this.context=c,this.once=p||!1}function s(u,c,p,g,d){if(typeof p!="function")throw new TypeError("The listener must be a function");var m=new i(p,g||u,d),q=n?n+c:c;return u._events[q]?u._events[q].fn?u._events[q]=[u._events[q],m]:u._events[q].push(m):(u._events[q]=m,u._eventsCount++),u}function l(u,c){--u._eventsCount===0?u._events=new r:delete u._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],p,g;if(this._eventsCount===0)return c;for(g in p=this._events)t.call(p,g)&&c.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(p)):c},a.prototype.listeners=function(c){var p=n?n+c:c,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var d=0,m=g.length,q=new Array(m);d<m;d++)q[d]=g[d].fn;return q},a.prototype.listenerCount=function(c){var p=n?n+c:c,g=this._events[p];return g?g.fn?1:g.length:0},a.prototype.emit=function(c,p,g,d,m,q){var _=n?n+c:c;if(!this._events[_])return!1;var w=this._events[_],A=arguments.length,N,S;if(w.fn){switch(w.once&&this.removeListener(c,w.fn,void 0,!0),A){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,p),!0;case 3:return w.fn.call(w.context,p,g),!0;case 4:return w.fn.call(w.context,p,g,d),!0;case 5:return w.fn.call(w.context,p,g,d,m),!0;case 6:return w.fn.call(w.context,p,g,d,m,q),!0}for(S=1,N=new Array(A-1);S<A;S++)N[S-1]=arguments[S];w.fn.apply(w.context,N)}else{var W=w.length,F;for(S=0;S<W;S++)switch(w[S].once&&this.removeListener(c,w[S].fn,void 0,!0),A){case 1:w[S].fn.call(w[S].context);break;case 2:w[S].fn.call(w[S].context,p);break;case 3:w[S].fn.call(w[S].context,p,g);break;case 4:w[S].fn.call(w[S].context,p,g,d);break;default:if(!N)for(F=1,N=new Array(A-1);F<A;F++)N[F-1]=arguments[F];w[S].fn.apply(w[S].context,N)}}return!0},a.prototype.on=function(c,p,g){return s(this,c,p,g,!1)},a.prototype.once=function(c,p,g){return s(this,c,p,g,!0)},a.prototype.removeListener=function(c,p,g,d){var m=n?n+c:c;if(!this._events[m])return this;if(!p)return l(this,m),this;var q=this._events[m];if(q.fn)q.fn===p&&(!d||q.once)&&(!g||q.context===g)&&l(this,m);else{for(var _=0,w=[],A=q.length;_<A;_++)(q[_].fn!==p||d&&!q[_].once||g&&q[_].context!==g)&&w.push(q[_]);w.length?this._events[m]=w.length===1?w[0]:w:l(this,m)}return this},a.prototype.removeAllListeners=function(c){var p;return c?(p=n?n+c:c,this._events[p]&&l(this,p)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a}(Cl)),Cl.exports}var m2=g2(),b2=$h(m2),lo=new WeakMap;const oo=["error","warn","log","info"];let ao="warn";function Fh(e){if(ao&&oo.indexOf(e)<=oo.indexOf(ao)){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];console[e](...n)}}function cn(e){return oo.reduce((t,n)=>(t[n]=Fh.bind(console,n,e),t),{})}cn.level=e=>{ao=e};Fh.level=cn.level;const Il=cn("quill:events"),v2=["selectionchange","mousedown","mouseup","click"];v2.forEach(e=>{document.addEventListener(e,function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Array.from(document.querySelectorAll(".ql-container")).forEach(i=>{const s=lo.get(i);s&&s.emitter&&s.emitter.handleDOM(...n)})})});class $ extends b2{constructor(){super(),this.domListeners={},this.on("error",Il.error)}emit(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Il.log.call(Il,...n),super.emit(...n)}handleDOM(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(this.domListeners[t.type]||[]).forEach(s=>{let{node:l,handler:a}=s;(t.target===l||l.contains(t.target))&&a(t,...r)})}listenDOM(t,n,r){this.domListeners[t]||(this.domListeners[t]=[]),this.domListeners[t].push({node:n,handler:r})}}C($,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),C($,"sources",{API:"api",SILENT:"silent",USER:"user"});const $l=cn("quill:selection");class Dn{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=t,this.length=n}}class q2{constructor(t,n){this.emitter=n,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new Dn(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,$.sources.USER),1)}),this.emitter.on($.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const r=this.getNativeRange();r!=null&&r.start.node!==this.cursor.textNode&&this.emitter.once($.events.SCROLL_UPDATE,(i,s)=>{try{this.root.contains(r.start.node)&&this.root.contains(r.end.node)&&this.setNativeRange(r.start.node,r.start.offset,r.end.node,r.end.offset);const l=s.some(a=>a.type==="characterData"||a.type==="childList"||a.type==="attributes"&&a.target===this.root);this.update(l?$.sources.SILENT:i)}catch{}})}),this.emitter.on($.events.SCROLL_OPTIMIZE,(r,i)=>{if(i.range){const{startNode:s,startOffset:l,endNode:a,endOffset:u}=i.range;this.setNativeRange(s,l,a,u),this.update($.sources.SILENT)}}),this.update($.sources.SILENT)}handleComposition(){this.emitter.on($.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on($.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const t=this.cursor.restore();if(!t)return;setTimeout(()=>{this.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update($.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(t,n){this.scroll.update();const r=this.getNativeRange();if(!(r==null||!r.native.collapsed||this.scroll.query(t,D.BLOCK))){if(r.start.node!==this.cursor.textNode){const i=this.scroll.find(r.start.node,!1);if(i==null)return;if(i instanceof Ut){const s=i.split(r.start.offset);i.parent.insertBefore(this.cursor,s)}else i.insertBefore(this.cursor,r.start.node);this.cursor.attach()}this.cursor.format(t,n),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const r=this.scroll.length();t=Math.min(t,r-1),n=Math.min(t+n,r-1)-t;let i,[s,l]=this.scroll.leaf(t);if(s==null)return null;if(n>0&&l===s.length()){const[p]=this.scroll.leaf(t+1);if(p){const[g]=this.scroll.line(t),[d]=this.scroll.line(t+1);g===d&&(s=p,l=0)}}[i,l]=s.position(l,!0);const a=document.createRange();if(n>0)return a.setStart(i,l),[s,l]=this.scroll.leaf(t+n),s==null?null:([i,l]=s.position(l,!0),a.setEnd(i,l),a.getBoundingClientRect());let u="left",c;if(i instanceof Text){if(!i.data.length)return null;l<i.data.length?(a.setStart(i,l),a.setEnd(i,l+1)):(a.setStart(i,l-1),a.setEnd(i,l),u="right"),c=a.getBoundingClientRect()}else{if(!(s.domNode instanceof Element))return null;c=s.domNode.getBoundingClientRect(),l>0&&(u="right")}return{bottom:c.top+c.height,height:c.height,left:c[u],right:c[u],top:c.top,width:0}}getNativeRange(){const t=document.getSelection();if(t==null||t.rangeCount<=0)return null;const n=t.getRangeAt(0);if(n==null)return null;const r=this.normalizeNative(n);return $l.info("getNativeRange",r),r}getRange(){const t=this.scroll.domNode;if("isConnected"in t&&!t.isConnected)return[null,null];const n=this.getNativeRange();return n==null?[null,null]:[this.normalizedToRange(n),n]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&Ml(this.root,document.activeElement)}normalizedToRange(t){const n=[[t.start.node,t.start.offset]];t.native.collapsed||n.push([t.end.node,t.end.offset]);const r=n.map(l=>{const[a,u]=l,c=this.scroll.find(a,!0),p=c.offset(this.scroll);return u===0?p:c instanceof Ut?p+c.index(a,u):p+c.length()}),i=Math.min(Math.max(...r),this.scroll.length()-1),s=Math.min(i,...r);return new Dn(s,i-s)}normalizeNative(t){if(!Ml(this.root,t.startContainer)||!t.collapsed&&!Ml(this.root,t.endContainer))return null;const n={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};return[n.start,n.end].forEach(r=>{let{node:i,offset:s}=r;for(;!(i instanceof Text)&&i.childNodes.length>0;)if(i.childNodes.length>s)i=i.childNodes[s],s=0;else if(i.childNodes.length===s)i=i.lastChild,i instanceof Text?s=i.data.length:i.childNodes.length>0?s=i.childNodes.length:s=i.childNodes.length+1;else break;r.node=i,r.offset=s}),n}rangeToNative(t){const n=this.scroll.length(),r=(i,s)=>{i=Math.min(n-1,i);const[l,a]=this.scroll.leaf(i);return l?l.position(a,s):[null,-1]};return[...r(t.index,!1),...r(t.index+t.length,!0)]}setNativeRange(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:n,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if($l.info("setNativeRange",t,n,r,i),t!=null&&(this.root.parentNode==null||t.parentNode==null||r.parentNode==null))return;const l=document.getSelection();if(l!=null)if(t!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:a}=this.getNativeRange()||{};if(a==null||s||t!==a.startContainer||n!==a.startOffset||r!==a.endContainer||i!==a.endOffset){t instanceof Element&&t.tagName==="BR"&&(n=Array.from(t.parentNode.childNodes).indexOf(t),t=t.parentNode),r instanceof Element&&r.tagName==="BR"&&(i=Array.from(r.parentNode.childNodes).indexOf(r),r=r.parentNode);const u=document.createRange();u.setStart(t,n),u.setEnd(r,i),l.removeAllRanges(),l.addRange(u)}}else l.removeAllRanges(),this.root.blur()}setRange(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:$.sources.API;if(typeof n=="string"&&(r=n,n=!1),$l.info("setRange",t),t!=null){const i=this.rangeToNative(t);this.setNativeRange(...i,n)}else this.setNativeRange(null);this.update(r)}update(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$.sources.USER;const n=this.lastRange,[r,i]=this.getRange();if(this.lastRange=r,this.lastNative=i,this.lastRange!=null&&(this.savedRange=this.lastRange),!Ts(n,this.lastRange)){if(!this.composing&&i!=null&&i.native.collapsed&&i.start.node!==this.cursor.textNode){const l=this.cursor.restore();l&&this.setNativeRange(l.startNode,l.startOffset,l.endNode,l.endOffset)}const s=[$.events.SELECTION_CHANGE,$n(this.lastRange),$n(n),t];this.emitter.emit($.events.EDITOR_CHANGE,...s),t!==$.sources.SILENT&&this.emitter.emit(...s)}}}function Ml(e,t){return e.contains(t)}const y2=/^[ -~]*$/;class w2{constructor(t){this.scroll=t,this.delta=this.getDelta()}applyDelta(t){this.scroll.update();let n=this.scroll.length();this.scroll.batchStart();const r=Fu(t),i=new P;return x2(r.ops.slice()).reduce((l,a)=>{const u=he.Op.length(a);let c=a.attributes||{},p=!1,g=!1;if(a.insert!=null){if(i.retain(u),typeof a.insert=="string"){const q=a.insert;g=!q.endsWith(`
`)&&(n<=l||!!this.scroll.descendant(fe,l)[0]),this.scroll.insertAt(l,q);const[_,w]=this.scroll.line(l);let A=Qe({},ue(_));if(_ instanceof $t){const[N]=_.descendant(Ut,w);N&&(A=Qe(A,ue(N)))}c=he.AttributeMap.diff(A,c)||{}}else if(typeof a.insert=="object"){const q=Object.keys(a.insert)[0];if(q==null)return l;const _=this.scroll.query(q,D.INLINE)!=null;if(_)(n<=l||this.scroll.descendant(fe,l)[0])&&(g=!0);else if(l>0){const[w,A]=this.scroll.descendant(Ut,l-1);w instanceof Le?w.value()[A]!==`
`&&(p=!0):w instanceof le&&w.statics.scope===D.INLINE_BLOT&&(p=!0)}if(this.scroll.insertAt(l,q,a.insert[q]),_){const[w]=this.scroll.descendant(Ut,l);if(w){const A=Qe({},ue(w));c=he.AttributeMap.diff(A,c)||{}}}}n+=u}else if(i.push(a),a.retain!==null&&typeof a.retain=="object"){const q=Object.keys(a.retain)[0];if(q==null)return l;this.scroll.updateEmbedAt(l,q,a.retain[q])}Object.keys(c).forEach(q=>{this.scroll.formatAt(l,u,q,c[q])});const d=p?1:0,m=g?1:0;return n+=d+m,i.retain(d),i.delete(m),l+u+d+m},0),i.reduce((l,a)=>typeof a.delete=="number"?(this.scroll.deleteAt(l,a.delete),l):l+he.Op.length(a),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(r)}deleteText(t,n){return this.scroll.deleteAt(t,n),this.update(new P().retain(t).delete(n))}formatLine(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(r).forEach(s=>{this.scroll.lines(t,Math.max(n,1)).forEach(l=>{l.format(s,r[s])})}),this.scroll.optimize();const i=new P().retain(t).retain(n,$n(r));return this.update(i)}formatText(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(r).forEach(s=>{this.scroll.formatAt(t,n,s,r[s])});const i=new P().retain(t).retain(n,$n(r));return this.update(i)}getContents(t,n){return this.delta.slice(t,t+n)}getDelta(){return this.scroll.lines().reduce((t,n)=>t.concat(n.delta()),new P)}getFormat(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=[],i=[];n===0?this.scroll.path(t).forEach(a=>{const[u]=a;u instanceof $t?r.push(u):u instanceof Ut&&i.push(u)}):(r=this.scroll.lines(t,n),i=this.scroll.descendants(Ut,t,n));const[s,l]=[r,i].map(a=>{const u=a.shift();if(u==null)return{};let c=ue(u);for(;Object.keys(c).length>0;){const p=a.shift();if(p==null)return c;c=_2(ue(p),c)}return c});return{...s,...l}}getHTML(t,n){const[r,i]=this.scroll.line(t);if(r){const s=r.length();return r.length()>=i+n&&!(i===0&&n===s)?ii(r,i,n,!0):ii(this.scroll,t,n,!0)}return""}getText(t,n){return this.getContents(t,n).filter(r=>typeof r.insert=="string").map(r=>r.insert).join("")}insertContents(t,n){const r=Fu(n),i=new P().retain(t).concat(r);return this.scroll.insertContents(t,r),this.update(i)}insertEmbed(t,n,r){return this.scroll.insertAt(t,n,r),this.update(new P().retain(t).insert({[n]:r}))}insertText(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return n=n.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(t,n),Object.keys(r).forEach(i=>{this.scroll.formatAt(t,n.length,i,r[i])}),this.update(new P().retain(t).insert(n,$n(r)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const t=this.scroll.children.head;if((t==null?void 0:t.statics.blotName)!==$t.blotName)return!1;const n=t;return n.children.length>1?!1:n.children.head instanceof Oe}removeFormat(t,n){const r=this.getText(t,n),[i,s]=this.scroll.line(t+n);let l=0,a=new P;i!=null&&(l=i.length()-s,a=i.delta().slice(s,s+l-1).insert(`
`));const c=this.getContents(t,n+l).diff(new P().insert(r).concat(a)),p=new P().retain(t).concat(c);return this.applyDelta(p)}update(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const i=this.delta;if(n.length===1&&n[0].type==="characterData"&&n[0].target.data.match(y2)&&this.scroll.find(n[0].target)){const s=this.scroll.find(n[0].target),l=ue(s),a=s.offset(this.scroll),u=n[0].oldValue.replace(mr.CONTENTS,""),c=new P().insert(u),p=new P().insert(s.value()),g=r&&{oldRange:Uu(r.oldRange,-a),newRange:Uu(r.newRange,-a)};t=new P().retain(a).concat(c.diff(p,g)).reduce((m,q)=>q.insert?m.insert(q.insert,l):m.push(q),new P),this.delta=i.compose(t)}else this.delta=this.getDelta(),(!t||!Ts(i.compose(t),this.delta))&&(t=i.diff(this.delta,r));return t}}function ur(e,t,n){if(e.length===0){const[m]=Bl(n.pop());return t<=0?`</li></${m}>`:`</li></${m}>${ur([],t-1,n)}`}const[{child:r,offset:i,length:s,indent:l,type:a},...u]=e,[c,p]=Bl(a);if(l>t)return n.push(a),l===t+1?`<${c}><li${p}>${ii(r,i,s)}${ur(u,l,n)}`:`<${c}><li>${ur(e,t+1,n)}`;const g=n[n.length-1];if(l===t&&a===g)return`</li><li${p}>${ii(r,i,s)}${ur(u,l,n)}`;const[d]=Bl(n.pop());return`</li></${d}>${ur(e,t-1,n)}`}function ii(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in e&&typeof e.html=="function")return e.html(t,n);if(e instanceof Le)return $s(e.value().slice(t,t+n)).replaceAll(" ","&nbsp;");if(e instanceof Te){if(e.statics.blotName==="list-container"){const c=[];return e.children.forEachAt(t,n,(p,g,d)=>{const m="formats"in p&&typeof p.formats=="function"?p.formats():{};c.push({child:p,offset:g,length:d,indent:m.indent||0,type:m.list})}),ur(c,-1,[])}const i=[];if(e.children.forEachAt(t,n,(c,p,g)=>{i.push(ii(c,p,g))}),r||e.statics.blotName==="list")return i.join("");const{outerHTML:s,innerHTML:l}=e.domNode,[a,u]=s.split(`>${l}<`);return a==="<table"?`<table style="border: 1px solid #000;">${i.join("")}<${u}`:`${a}>${i.join("")}<${u}`}return e.domNode instanceof Element?e.domNode.outerHTML:""}function _2(e,t){return Object.keys(t).reduce((n,r)=>{if(e[r]==null)return n;const i=t[r];return i===e[r]?n[r]=i:Array.isArray(i)?i.indexOf(e[r])<0?n[r]=i.concat([e[r]]):n[r]=i:n[r]=[i,e[r]],n},{})}function Bl(e){const t=e==="ordered"?"ol":"ul";switch(e){case"checked":return[t,' data-list="checked"'];case"unchecked":return[t,' data-list="unchecked"'];default:return[t,""]}}function Fu(e){return e.reduce((t,n)=>{if(typeof n.insert=="string"){const r=n.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return t.insert(r,n.attributes)}return t.push(n)},new P)}function Uu(e,t){let{index:n,length:r}=e;return new Dn(n+t,r)}function x2(e){const t=[];return e.forEach(n=>{typeof n.insert=="string"?n.insert.split(`
`).forEach((i,s)=>{s&&t.push({insert:`
`,attributes:n.attributes}),i&&t.push({insert:i,attributes:n.attributes})}):t.push(n)}),t}class Se{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=t,this.options=n}}C(Se,"DEFAULTS",{});const Gi="\uFEFF";class pa extends le{constructor(t,n){super(t,n),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(r=>{this.contentNode.appendChild(r)}),this.leftGuard=document.createTextNode(Gi),this.rightGuard=document.createTextNode(Gi),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(t,n){return t===this.leftGuard?0:t===this.rightGuard?1:super.index(t,n)}restore(t){let n=null,r;const i=t.data.split(Gi).join("");if(t===this.leftGuard)if(this.prev instanceof Le){const s=this.prev.length();this.prev.insertAt(s,i),n={startNode:this.prev.domNode,startOffset:s+i.length}}else r=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(r),this),n={startNode:r,startOffset:i.length};else t===this.rightGuard&&(this.next instanceof Le?(this.next.insertAt(0,i),n={startNode:this.next.domNode,startOffset:i.length}):(r=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(r),this.next),n={startNode:r,startOffset:i.length}));return t.data=Gi,n}update(t,n){t.forEach(r=>{if(r.type==="characterData"&&(r.target===this.leftGuard||r.target===this.rightGuard)){const i=this.restore(r.target);i&&(n.range=i)}})}}class A2{constructor(t,n){C(this,"isComposing",!1);this.scroll=t,this.emitter=n,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",t=>{this.isComposing||this.handleCompositionStart(t)}),this.scroll.domNode.addEventListener("compositionend",t=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(t)})})}handleCompositionStart(t){const n=t.target instanceof Node?this.scroll.find(t.target,!0):null;n&&!(n instanceof pa)&&(this.emitter.emit($.events.COMPOSITION_BEFORE_START,t),this.scroll.batchStart(),this.emitter.emit($.events.COMPOSITION_START,t),this.isComposing=!0)}handleCompositionEnd(t){this.emitter.emit($.events.COMPOSITION_BEFORE_END,t),this.scroll.batchEnd(),this.emitter.emit($.events.COMPOSITION_END,t),this.isComposing=!1}}const Yr=class Yr{constructor(t,n){C(this,"modules",{});this.quill=t,this.options=n}init(){Object.keys(this.options.modules).forEach(t=>{this.modules[t]==null&&this.addModule(t)})}addModule(t){const n=this.quill.constructor.import(`modules/${t}`);return this.modules[t]=new n(this.quill,this.options.modules[t]||{}),this.modules[t]}};C(Yr,"DEFAULTS",{modules:{}}),C(Yr,"themes",{default:Yr});let br=Yr;const E2=e=>e.parentElement||e.getRootNode().host||null,T2=e=>{const t=e.getBoundingClientRect(),n="offsetWidth"in e&&Math.abs(t.width)/e.offsetWidth||1,r="offsetHeight"in e&&Math.abs(t.height)/e.offsetHeight||1;return{top:t.top,right:t.left+e.clientWidth*n,bottom:t.top+e.clientHeight*r,left:t.left}},Ki=e=>{const t=parseInt(e,10);return Number.isNaN(t)?0:t},ju=(e,t,n,r,i,s)=>e<n&&t>r?0:e<n?-(n-e+i):t>r?t-e>r-n?e+i-n:t-r+s:0,N2=(e,t)=>{var s,l,a;const n=e.ownerDocument;let r=t,i=e;for(;i;){const u=i===n.body,c=u?{top:0,right:((s=window.visualViewport)==null?void 0:s.width)??n.documentElement.clientWidth,bottom:((l=window.visualViewport)==null?void 0:l.height)??n.documentElement.clientHeight,left:0}:T2(i),p=getComputedStyle(i),g=ju(r.left,r.right,c.left,c.right,Ki(p.scrollPaddingLeft),Ki(p.scrollPaddingRight)),d=ju(r.top,r.bottom,c.top,c.bottom,Ki(p.scrollPaddingTop),Ki(p.scrollPaddingBottom));if(g||d)if(u)(a=n.defaultView)==null||a.scrollBy(g,d);else{const{scrollLeft:m,scrollTop:q}=i;d&&(i.scrollTop+=d),g&&(i.scrollLeft+=g);const _=i.scrollLeft-m,w=i.scrollTop-q;r={left:r.left-_,top:r.top-w,right:r.right-_,bottom:r.bottom-w}}i=u||p.position==="fixed"?null:E2(i)}},L2=100,k2=["block","break","cursor","inline","scroll","text"],R2=(e,t,n)=>{const r=new gr;return k2.forEach(i=>{const s=t.query(i);s&&r.register(s)}),e.forEach(i=>{let s=t.query(i);s||n.error(`Cannot register "${i}" specified in "formats" config. Are you sure it was registered?`);let l=0;for(;s;)if(r.register(s),s="blotName"in s?s.requiredContainer??null:null,l+=1,l>L2){n.error(`Cycle detected in registering blot requiredContainer: "${i}"`);break}}),r},pr=cn("quill"),Vi=new gr;Te.uiClass="ql-ui";const xe=class xe{static debug(t){t===!0&&(t="log"),cn.level(t)}static find(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return lo.get(t)||Vi.find(t,n)}static import(t){return this.imports[t]==null&&pr.error(`Cannot import ${t}. Are you sure it was registered?`),this.imports[t]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const t=arguments.length<=0?void 0:arguments[0],n=!!(!(arguments.length<=1)&&arguments[1]),r="attrName"in t?t.attrName:t.blotName;typeof r=="string"?this.register(`formats/${r}`,t,n):Object.keys(t).forEach(i=>{this.register(i,t[i],n)})}else{const t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],r=!!(!(arguments.length<=2)&&arguments[2]);this.imports[t]!=null&&!r&&pr.warn(`Overwriting ${t} with`,n),this.imports[t]=n,(t.startsWith("blots/")||t.startsWith("formats/"))&&n&&typeof n!="boolean"&&n.blotName!=="abstract"&&Vi.register(n),typeof n.register=="function"&&n.register(Vi)}}constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=O2(t,n),this.container=this.options.container,this.container==null){pr.error("Invalid Quill container",t);return}this.options.debug&&xe.debug(this.options.debug);const r=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",lo.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new $;const i=da.blotName,s=this.options.registry.query(i);if(!s||!("blotName"in s))throw new Error(`Cannot initialize Quill without "${i}" blot`);if(this.scroll=new s(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new w2(this.scroll),this.selection=new q2(this.scroll,this.emitter),this.composition=new A2(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on($.events.EDITOR_CHANGE,l=>{l===$.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on($.events.SCROLL_UPDATE,(l,a)=>{const u=this.selection.lastRange,[c]=this.selection.getRange(),p=u&&c?{oldRange:u,newRange:c}:void 0;_e.call(this,()=>this.editor.update(null,a,p),l)}),this.emitter.on($.events.SCROLL_EMBED_UPDATE,(l,a)=>{const u=this.selection.lastRange,[c]=this.selection.getRange(),p=u&&c?{oldRange:u,newRange:c}:void 0;_e.call(this,()=>{const g=new P().retain(l.offset(this)).retain({[l.statics.blotName]:a});return this.editor.update(g,[],p)},xe.sources.USER)}),r){const l=this.clipboard.convert({html:`${r}<p><br></p>`,text:`
`});this.setContents(l)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof t=="string"){const r=t;t=document.createElement("div"),t.classList.add(r)}return this.container.insertBefore(t,n),t}blur(){this.selection.setRange(null)}deleteText(t,n,r){return[t,n,,r]=Xe(t,n,r),_e.call(this,()=>this.editor.deleteText(t,n),r,t,-1*n)}disable(){this.enable(!1)}editReadOnly(t){this.allowReadOnlyEdits=!0;const n=t();return this.allowReadOnlyEdits=!1,n}enable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(t),this.container.classList.toggle("ql-disabled",!t)}focus(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),t.preventScroll||this.scrollSelectionIntoView()}format(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:$.sources.API;return _e.call(this,()=>{const i=this.getSelection(!0);let s=new P;if(i==null)return s;if(this.scroll.query(t,D.BLOCK))s=this.editor.formatLine(i.index,i.length,{[t]:n});else{if(i.length===0)return this.selection.format(t,n),s;s=this.editor.formatText(i.index,i.length,{[t]:n})}return this.setSelection(i,$.sources.SILENT),s},r)}formatLine(t,n,r,i,s){let l;return[t,n,l,s]=Xe(t,n,r,i,s),_e.call(this,()=>this.editor.formatLine(t,n,l),s,t,0)}formatText(t,n,r,i,s){let l;return[t,n,l,s]=Xe(t,n,r,i,s),_e.call(this,()=>this.editor.formatText(t,n,l),s,t,0)}getBounds(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=null;if(typeof t=="number"?r=this.selection.getBounds(t,n):r=this.selection.getBounds(t.index,t.length),!r)return null;const i=this.container.getBoundingClientRect();return{bottom:r.bottom-i.top,height:r.height,left:r.left-i.left,right:r.right-i.left,top:r.top-i.top,width:r.width}}getContents(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-t;return[t,n]=Xe(t,n),this.editor.getContents(t,n)}getFormat(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof t=="number"?this.editor.getFormat(t,n):this.editor.getFormat(t.index,t.length)}getIndex(t){return t.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(t){return this.scroll.leaf(t)}getLine(t){return this.scroll.line(t)}getLines(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof t!="number"?this.scroll.lines(t.index,t.length):this.scroll.lines(t,n)}getModule(t){return this.theme.modules[t]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;return typeof t=="number"&&(n=n??this.getLength()-t),[t,n]=Xe(t,n),this.editor.getHTML(t,n)}getText(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;return typeof t=="number"&&(n=n??this.getLength()-t),[t,n]=Xe(t,n),this.editor.getText(t,n)}hasFocus(){return this.selection.hasFocus()}insertEmbed(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:xe.sources.API;return _e.call(this,()=>this.editor.insertEmbed(t,n,r),i,t)}insertText(t,n,r,i,s){let l;return[t,,l,s]=Xe(t,0,r,i,s),_e.call(this,()=>this.editor.insertText(t,n,l),s,t,n.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(t,n,r){return[t,n,,r]=Xe(t,n,r),_e.call(this,()=>this.editor.removeFormat(t,n),r,t)}scrollRectIntoView(t){N2(this.root,t)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const t=this.selection.lastRange,n=t&&this.selection.getBounds(t.index,t.length);n&&this.scrollRectIntoView(n)}setContents(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$.sources.API;return _e.call(this,()=>{t=new P(t);const r=this.getLength(),i=this.editor.deleteText(0,r),s=this.editor.insertContents(0,t),l=this.editor.deleteText(this.getLength()-1,1);return i.compose(s).compose(l)},n)}setSelection(t,n,r){t==null?this.selection.setRange(null,n||xe.sources.API):([t,n,,r]=Xe(t,n,r),this.selection.setRange(new Dn(Math.max(0,t),n),r),r!==$.sources.SILENT&&this.scrollSelectionIntoView())}setText(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$.sources.API;const r=new P().insert(t);return this.setContents(r,n)}update(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$.sources.USER;const n=this.scroll.update(t);return this.selection.update(t),n}updateContents(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$.sources.API;return _e.call(this,()=>(t=new P(t),this.editor.applyDelta(t)),n,!0)}};C(xe,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:Vi,theme:"default"}),C(xe,"events",$.events),C(xe,"sources",$.sources),C(xe,"version","2.0.3"),C(xe,"imports",{delta:P,parchment:u2,"core/module":Se,"core/theme":br});let E=xe;function Hu(e){return typeof e=="string"?document.querySelector(e):e}function Pl(e){return Object.entries(e??{}).reduce((t,n)=>{let[r,i]=n;return{...t,[r]:i===!0?{}:i}},{})}function zu(e){return Object.fromEntries(Object.entries(e).filter(t=>t[1]!==void 0))}function O2(e,t){const n=Hu(e);if(!n)throw new Error("Invalid Quill container");const i=!t.theme||t.theme===E.DEFAULTS.theme?br:E.import(`themes/${t.theme}`);if(!i)throw new Error(`Invalid theme ${t.theme}. Did you register it?`);const{modules:s,...l}=E.DEFAULTS,{modules:a,...u}=i.DEFAULTS;let c=Pl(t.modules);c!=null&&c.toolbar&&c.toolbar.constructor!==Object&&(c={...c,toolbar:{container:c.toolbar}});const p=Qe({},Pl(s),Pl(a),c),g={...l,...zu(u),...zu(t)};let d=t.registry;return d?t.formats&&pr.warn('Ignoring "formats" option because "registry" is specified'):d=t.formats?R2(t.formats,g.registry,pr):g.registry,{...g,registry:d,container:n,theme:i,modules:Object.entries(p).reduce((m,q)=>{let[_,w]=q;if(!w)return m;const A=E.import(`modules/${_}`);return A==null?(pr.error(`Cannot load ${_} module. Are you sure you registered it?`),m):{...m,[_]:Qe({},A.DEFAULTS||{},w)}},{}),bounds:Hu(g.bounds)}}function _e(e,t,n,r){if(!this.isEnabled()&&t===$.sources.USER&&!this.allowReadOnlyEdits)return new P;let i=n==null?null:this.getSelection();const s=this.editor.delta,l=e();if(i!=null&&(n===!0&&(n=i.index),r==null?i=Wu(i,l,t):r!==0&&(i=Wu(i,n,r,t)),this.setSelection(i,$.sources.SILENT)),l.length()>0){const a=[$.events.TEXT_CHANGE,l,s,t];this.emitter.emit($.events.EDITOR_CHANGE,...a),t!==$.sources.SILENT&&this.emitter.emit(...a)}return l}function Xe(e,t,n,r,i){let s={};return typeof e.index=="number"&&typeof e.length=="number"?typeof t!="number"?(i=r,r=n,n=t,t=e.length,e=e.index):(t=e.length,e=e.index):typeof t!="number"&&(i=r,r=n,n=t,t=0),typeof n=="object"?(s=n,i=r):typeof n=="string"&&(r!=null?s[n]=r:i=n),i=i||$.sources.API,[e,t,s,i]}function Wu(e,t,n,r){const i=typeof n=="number"?n:0;if(e==null)return null;let s,l;return t&&typeof t.transformPosition=="function"?[s,l]=[e.index,e.index+e.length].map(a=>t.transformPosition(a,r!==$.sources.USER)):[s,l]=[e.index,e.index+e.length].map(a=>a<t||a===t&&r===$.sources.USER?a:i>=0?a+i:Math.max(t,a+i)),new Dn(s,l-s)}class zn extends Is{}function Gu(e){return e instanceof $t||e instanceof fe}function Ku(e){return typeof e.updateContent=="function"}class cr extends da{constructor(t,n,r){let{emitter:i}=r;super(t,n),this.emitter=i,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",s=>this.handleDragStart(s))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const t=this.batch;this.batch=!1,this.update(t)}emitMount(t){this.emitter.emit($.events.SCROLL_BLOT_MOUNT,t)}emitUnmount(t){this.emitter.emit($.events.SCROLL_BLOT_UNMOUNT,t)}emitEmbedUpdate(t,n){this.emitter.emit($.events.SCROLL_EMBED_UPDATE,t,n)}deleteAt(t,n){const[r,i]=this.line(t),[s]=this.line(t+n);if(super.deleteAt(t,n),s!=null&&r!==s&&i>0){if(r instanceof fe||s instanceof fe){this.optimize();return}const l=s.children.head instanceof Oe?null:s.children.head;r.moveChildren(s,l),r.remove()}this.optimize()}enable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",t?"true":"false")}formatAt(t,n,r,i){super.formatAt(t,n,r,i),this.optimize()}insertAt(t,n,r){if(t>=this.length())if(r==null||this.scroll.query(n,D.BLOCK)==null){const i=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(i),r==null&&n.endsWith(`
`)?i.insertAt(0,n.slice(0,-1),r):i.insertAt(0,n,r)}else{const i=this.scroll.create(n,r);this.appendChild(i)}else super.insertAt(t,n,r);this.optimize()}insertBefore(t,n){if(t.statics.scope===D.INLINE_BLOT){const r=this.scroll.create(this.statics.defaultChild.blotName);r.appendChild(t),super.insertBefore(r,n)}else super.insertBefore(t,n)}insertContents(t,n){const r=this.deltaToRenderBlocks(n.concat(new P().insert(`
`))),i=r.pop();if(i==null)return;this.batchStart();const s=r.shift();if(s){const u=s.type==="block"&&(s.delta.length()===0||!this.descendant(fe,t)[0]&&t<this.length()),c=s.type==="block"?s.delta:new P().insert({[s.key]:s.value});Dl(this,t,c);const p=s.type==="block"?1:0,g=t+c.length()+p;u&&this.insertAt(g-1,`
`);const d=ue(this.line(t)[0]),m=he.AttributeMap.diff(d,s.attributes)||{};Object.keys(m).forEach(q=>{this.formatAt(g-1,1,q,m[q])}),t=g}let[l,a]=this.children.find(t);if(r.length&&(l&&(l=l.split(a),a=0),r.forEach(u=>{if(u.type==="block"){const c=this.createBlock(u.attributes,l||void 0);Dl(c,0,u.delta)}else{const c=this.create(u.key,u.value);this.insertBefore(c,l||void 0),Object.keys(u.attributes).forEach(p=>{c.format(p,u.attributes[p])})}})),i.type==="block"&&i.delta.length()){const u=l?l.offset(l.scroll)+a:this.length();Dl(this,u,i.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(t){const n=this.path(t).pop();if(!n)return[null,-1];const[r,i]=n;return r instanceof Ut?[r,i]:[null,-1]}line(t){return t===this.length()?this.line(t-1):this.descendant(Gu,t)}lines(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const r=(i,s,l)=>{let a=[],u=l;return i.children.forEachAt(s,l,(c,p,g)=>{Gu(c)?a.push(c):c instanceof Is&&(a=a.concat(r(c,p,u))),u-=g}),a};return r(this,t,n)}optimize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(t,n),t.length>0&&this.emitter.emit($.events.SCROLL_OPTIMIZE,t,n))}path(t){return super.path(t).slice(1)}remove(){}update(t){if(this.batch){Array.isArray(t)&&(this.batch=this.batch.concat(t));return}let n=$.sources.USER;typeof t=="string"&&(n=t),Array.isArray(t)||(t=this.observer.takeRecords()),t=t.filter(r=>{let{target:i}=r;const s=this.find(i,!0);return s&&!Ku(s)}),t.length>0&&this.emitter.emit($.events.SCROLL_BEFORE_UPDATE,n,t),super.update(t.concat([])),t.length>0&&this.emitter.emit($.events.SCROLL_UPDATE,n,t)}updateEmbedAt(t,n,r){const[i]=this.descendant(s=>s instanceof fe,t);i&&i.statics.blotName===n&&Ku(i)&&i.updateContent(r)}handleDragStart(t){t.preventDefault()}deltaToRenderBlocks(t){const n=[];let r=new P;return t.forEach(i=>{const s=i==null?void 0:i.insert;if(s)if(typeof s=="string"){const l=s.split(`
`);l.slice(0,-1).forEach(u=>{r.insert(u,i.attributes),n.push({type:"block",delta:r,attributes:i.attributes??{}}),r=new P});const a=l[l.length-1];a&&r.insert(a,i.attributes)}else{const l=Object.keys(s)[0];if(!l)return;this.query(l,D.INLINE)?r.push(i):(r.length()&&n.push({type:"block",delta:r,attributes:{}}),r=new P,n.push({type:"blockEmbed",key:l,value:s[l],attributes:i.attributes??{}}))}}),r.length()&&n.push({type:"block",delta:r,attributes:{}}),n}createBlock(t,n){let r;const i={};Object.entries(t).forEach(a=>{let[u,c]=a;this.query(u,D.BLOCK&D.BLOT)!=null?r=u:i[u]=c});const s=this.create(r||this.statics.defaultChild.blotName,r?t[r]:void 0);this.insertBefore(s,n||void 0);const l=s.length();return Object.entries(i).forEach(a=>{let[u,c]=a;s.formatAt(0,l,u,c)}),s}}C(cr,"blotName","scroll"),C(cr,"className","ql-editor"),C(cr,"tagName","DIV"),C(cr,"defaultChild",$t),C(cr,"allowedChildren",[$t,fe,zn]);function Dl(e,t,n){n.reduce((r,i)=>{const s=he.Op.length(i);let l=i.attributes||{};if(i.insert!=null){if(typeof i.insert=="string"){const a=i.insert;e.insertAt(r,a);const[u]=e.descendant(Ut,r),c=ue(u);l=he.AttributeMap.diff(c,l)||{}}else if(typeof i.insert=="object"){const a=Object.keys(i.insert)[0];if(a==null)return r;if(e.insertAt(r,a,i.insert[a]),e.scroll.query(a,D.INLINE)!=null){const[c]=e.descendant(Ut,r),p=ue(c);l=he.AttributeMap.diff(p,l)||{}}}}return Object.keys(l).forEach(a=>{e.formatAt(r,s,a,l[a])}),r+s},t)}const ga={scope:D.BLOCK,whitelist:["right","center","justify"]},S2=new Fe("align","align",ga),Uh=new Re("align","ql-align",ga),jh=new En("align","text-align",ga);class Hh extends En{value(t){let n=super.value(t);return n.startsWith("rgb(")?(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${n.split(",").map(i=>`00${parseInt(i,10).toString(16)}`.slice(-2)).join("")}`):n}}const C2=new Re("color","ql-color",{scope:D.INLINE}),ma=new Hh("color","color",{scope:D.INLINE}),I2=new Re("background","ql-bg",{scope:D.INLINE}),ba=new Hh("background","background-color",{scope:D.INLINE});class Wn extends zn{static create(t){const n=super.create(t);return n.setAttribute("spellcheck","false"),n}code(t,n){return this.children.map(r=>r.length()<=1?"":r.domNode.innerText).join(`
`).slice(t,t+n)}html(t,n){return`<pre>
${$s(this.code(t,n))}
</pre>`}}class jt extends $t{static register(){E.register(Wn)}}C(jt,"TAB","  ");class va extends Ue{}va.blotName="code";va.tagName="CODE";jt.blotName="code-block";jt.className="ql-code-block";jt.tagName="DIV";Wn.blotName="code-block-container";Wn.className="ql-code-block-container";Wn.tagName="DIV";Wn.allowedChildren=[jt];jt.allowedChildren=[Le,Oe,mr];jt.requiredContainer=Wn;const qa={scope:D.BLOCK,whitelist:["rtl"]},zh=new Fe("direction","dir",qa),Wh=new Re("direction","ql-direction",qa),Gh=new En("direction","direction",qa),Kh={scope:D.INLINE,whitelist:["serif","monospace"]},Vh=new Re("font","ql-font",Kh);class $2 extends En{value(t){return super.value(t).replace(/["']/g,"")}}const Zh=new $2("font","font-family",Kh),Yh=new Re("size","ql-size",{scope:D.INLINE,whitelist:["small","large","huge"]}),Xh=new En("size","font-size",{scope:D.INLINE,whitelist:["10px","18px","32px"]}),M2=cn("quill:keyboard"),B2=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class Ms extends Se{static match(t,n){return["altKey","ctrlKey","metaKey","shiftKey"].some(r=>!!n[r]!==t[r]&&n[r]!==null)?!1:n.key===t.key||n.key===t.which}constructor(t,n){super(t,n),this.bindings={},Object.keys(this.options.bindings).forEach(r=>{this.options.bindings[r]&&this.addBinding(this.options.bindings[r])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=D2(t);if(i==null){M2.warn("Attempted to add invalid keyboard binding",i);return}typeof n=="function"&&(n={handler:n}),typeof r=="function"&&(r={handler:r}),(Array.isArray(i.key)?i.key:[i.key]).forEach(l=>{const a={...i,key:l,...n,...r};this.bindings[a.key]=this.bindings[a.key]||[],this.bindings[a.key].push(a)})}listen(){this.quill.root.addEventListener("keydown",t=>{if(t.defaultPrevented||t.isComposing||t.keyCode===229&&(t.key==="Enter"||t.key==="Backspace"))return;const i=(this.bindings[t.key]||[]).concat(this.bindings[t.which]||[]).filter(A=>Ms.match(t,A));if(i.length===0)return;const s=E.find(t.target,!0);if(s&&s.scroll!==this.quill.scroll)return;const l=this.quill.getSelection();if(l==null||!this.quill.hasFocus())return;const[a,u]=this.quill.getLine(l.index),[c,p]=this.quill.getLeaf(l.index),[g,d]=l.length===0?[c,p]:this.quill.getLeaf(l.index+l.length),m=c instanceof ls?c.value().slice(0,p):"",q=g instanceof ls?g.value().slice(d):"",_={collapsed:l.length===0,empty:l.length===0&&a.length()<=1,format:this.quill.getFormat(l),line:a,offset:u,prefix:m,suffix:q,event:t};i.some(A=>{if(A.collapsed!=null&&A.collapsed!==_.collapsed||A.empty!=null&&A.empty!==_.empty||A.offset!=null&&A.offset!==_.offset)return!1;if(Array.isArray(A.format)){if(A.format.every(N=>_.format[N]==null))return!1}else if(typeof A.format=="object"&&!Object.keys(A.format).every(N=>A.format[N]===!0?_.format[N]!=null:A.format[N]===!1?_.format[N]==null:Ts(A.format[N],_.format[N])))return!1;return A.prefix!=null&&!A.prefix.test(_.prefix)||A.suffix!=null&&!A.suffix.test(_.suffix)?!1:A.handler.call(this,l,_,A)!==!0})&&t.preventDefault()})}handleBackspace(t,n){const r=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(n.prefix)?2:1;if(t.index===0||this.quill.getLength()<=1)return;let i={};const[s]=this.quill.getLine(t.index);let l=new P().retain(t.index-r).delete(r);if(n.offset===0){const[a]=this.quill.getLine(t.index-1);if(a&&!(a.statics.blotName==="block"&&a.length()<=1)){const c=s.formats(),p=this.quill.getFormat(t.index-1,1);if(i=he.AttributeMap.diff(c,p)||{},Object.keys(i).length>0){const g=new P().retain(t.index+s.length()-2).retain(1,i);l=l.compose(g)}}}this.quill.updateContents(l,E.sources.USER),this.quill.focus()}handleDelete(t,n){const r=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(n.suffix)?2:1;if(t.index>=this.quill.getLength()-r)return;let i={};const[s]=this.quill.getLine(t.index);let l=new P().retain(t.index).delete(r);if(n.offset>=s.length()-1){const[a]=this.quill.getLine(t.index+1);if(a){const u=s.formats(),c=this.quill.getFormat(t.index,1);i=he.AttributeMap.diff(u,c)||{},Object.keys(i).length>0&&(l=l.retain(a.length()-1).retain(1,i))}}this.quill.updateContents(l,E.sources.USER),this.quill.focus()}handleDeleteRange(t){ya({range:t,quill:this.quill}),this.quill.focus()}handleEnter(t,n){const r=Object.keys(n.format).reduce((s,l)=>(this.quill.scroll.query(l,D.BLOCK)&&!Array.isArray(n.format[l])&&(s[l]=n.format[l]),s),{}),i=new P().retain(t.index).delete(t.length).insert(`
`,r);this.quill.updateContents(i,E.sources.USER),this.quill.setSelection(t.index+1,E.sources.SILENT),this.quill.focus()}}const P2={bindings:{bold:Fl("bold"),italic:Fl("italic"),underline:Fl("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(e,t){return t.collapsed&&t.offset!==0?!0:(this.quill.format("indent","+1",E.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(e,t){return t.collapsed&&t.offset!==0?!0:(this.quill.format("indent","-1",E.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(e,t){t.format.indent!=null?this.quill.format("indent","-1",E.sources.USER):t.format.list!=null&&this.quill.format("list",!1,E.sources.USER)}},"indent code-block":Vu(!0),"outdent code-block":Vu(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(e){this.quill.deleteText(e.index-1,1,E.sources.USER)}},tab:{key:"Tab",handler(e,t){if(t.format.table)return!0;this.quill.history.cutoff();const n=new P().retain(e.index).delete(e.length).insert("	");return this.quill.updateContents(n,E.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,E.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,E.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(e,t){const n={list:!1};t.format.indent&&(n.indent=!1),this.quill.formatLine(e.index,e.length,n,E.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(e){const[t,n]=this.quill.getLine(e.index),r={...t.formats(),list:"checked"},i=new P().retain(e.index).insert(`
`,r).retain(t.length()-n-1).retain(1,{list:"unchecked"});this.quill.updateContents(i,E.sources.USER),this.quill.setSelection(e.index+1,E.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(e,t){const[n,r]=this.quill.getLine(e.index),i=new P().retain(e.index).insert(`
`,t.format).retain(n.length()-r-1).retain(1,{header:null});this.quill.updateContents(i,E.sources.USER),this.quill.setSelection(e.index+1,E.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(e){const t=this.quill.getModule("table");if(t){const[n,r,i,s]=t.getTable(e),l=F2(n,r,i,s);if(l==null)return;let a=n.offset();if(l<0){const u=new P().retain(a).insert(`
`);this.quill.updateContents(u,E.sources.USER),this.quill.setSelection(e.index+1,e.length,E.sources.SILENT)}else if(l>0){a+=n.length();const u=new P().retain(a).insert(`
`);this.quill.updateContents(u,E.sources.USER),this.quill.setSelection(a,E.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(e,t){const{event:n,line:r}=t,i=r.offset(this.quill.scroll);n.shiftKey?this.quill.setSelection(i-1,E.sources.USER):this.quill.setSelection(i+r.length(),E.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(e,t){if(this.quill.scroll.query("list")==null)return!0;const{length:n}=t.prefix,[r,i]=this.quill.getLine(e.index);if(i>n)return!0;let s;switch(t.prefix.trim()){case"[]":case"[ ]":s="unchecked";break;case"[x]":s="checked";break;case"-":case"*":s="bullet";break;default:s="ordered"}this.quill.insertText(e.index," ",E.sources.USER),this.quill.history.cutoff();const l=new P().retain(e.index-i).delete(n+1).retain(r.length()-2-i).retain(1,{list:s});return this.quill.updateContents(l,E.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-n,E.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(e){const[t,n]=this.quill.getLine(e.index);let r=2,i=t;for(;i!=null&&i.length()<=1&&i.formats()["code-block"];)if(i=i.prev,r-=1,r<=0){const s=new P().retain(e.index+t.length()-n-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(s,E.sources.USER),this.quill.setSelection(e.index-1,E.sources.SILENT),!1}return!0}},"embed left":Zi("ArrowLeft",!1),"embed left shift":Zi("ArrowLeft",!0),"embed right":Zi("ArrowRight",!1),"embed right shift":Zi("ArrowRight",!0),"table down":Zu(!1),"table up":Zu(!0)}};Ms.DEFAULTS=P2;function Vu(e){return{key:"Tab",shiftKey:!e,format:{"code-block":!0},handler(t,n){let{event:r}=n;const i=this.quill.scroll.query("code-block"),{TAB:s}=i;if(t.length===0&&!r.shiftKey){this.quill.insertText(t.index,s,E.sources.USER),this.quill.setSelection(t.index+s.length,E.sources.SILENT);return}const l=t.length===0?this.quill.getLines(t.index,1):this.quill.getLines(t);let{index:a,length:u}=t;l.forEach((c,p)=>{e?(c.insertAt(0,s),p===0?a+=s.length:u+=s.length):c.domNode.textContent.startsWith(s)&&(c.deleteAt(0,s.length),p===0?a-=s.length:u-=s.length)}),this.quill.update(E.sources.USER),this.quill.setSelection(a,u,E.sources.SILENT)}}}function Zi(e,t){return{key:e,shiftKey:t,altKey:null,[e==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(r){let{index:i}=r;e==="ArrowRight"&&(i+=r.length+1);const[s]=this.quill.getLeaf(i);return s instanceof le?(e==="ArrowLeft"?t?this.quill.setSelection(r.index-1,r.length+1,E.sources.USER):this.quill.setSelection(r.index-1,E.sources.USER):t?this.quill.setSelection(r.index,r.length+1,E.sources.USER):this.quill.setSelection(r.index+r.length+1,E.sources.USER),!1):!0}}}function Fl(e){return{key:e[0],shortKey:!0,handler(t,n){this.quill.format(e,!n.format[e],E.sources.USER)}}}function Zu(e){return{key:e?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(t,n){const r=e?"prev":"next",i=n.line,s=i.parent[r];if(s!=null){if(s.statics.blotName==="table-row"){let l=s.children.head,a=i;for(;a.prev!=null;)a=a.prev,l=l.next;const u=l.offset(this.quill.scroll)+Math.min(n.offset,l.length()-1);this.quill.setSelection(u,0,E.sources.USER)}}else{const l=i.table()[r];l!=null&&(e?this.quill.setSelection(l.offset(this.quill.scroll)+l.length()-1,0,E.sources.USER):this.quill.setSelection(l.offset(this.quill.scroll),0,E.sources.USER))}return!1}}}function D2(e){if(typeof e=="string"||typeof e=="number")e={key:e};else if(typeof e=="object")e=$n(e);else return null;return e.shortKey&&(e[B2]=e.shortKey,delete e.shortKey),e}function ya(e){let{quill:t,range:n}=e;const r=t.getLines(n);let i={};if(r.length>1){const s=r[0].formats(),l=r[r.length-1].formats();i=he.AttributeMap.diff(l,s)||{}}t.deleteText(n,E.sources.USER),Object.keys(i).length>0&&t.formatLine(n.index,1,i,E.sources.USER),t.setSelection(n.index,E.sources.SILENT)}function F2(e,t,n,r){return t.prev==null&&t.next==null?n.prev==null&&n.next==null?r===0?-1:1:n.prev==null?-1:1:t.prev==null?-1:t.next==null?1:null}const U2=/font-weight:\s*normal/,j2=["P","OL","UL"],Yu=e=>e&&j2.includes(e.tagName),H2=e=>{Array.from(e.querySelectorAll("br")).filter(t=>Yu(t.previousElementSibling)&&Yu(t.nextElementSibling)).forEach(t=>{var n;(n=t.parentNode)==null||n.removeChild(t)})},z2=e=>{Array.from(e.querySelectorAll('b[style*="font-weight"]')).filter(t=>{var n;return(n=t.getAttribute("style"))==null?void 0:n.match(U2)}).forEach(t=>{var r;const n=e.createDocumentFragment();n.append(...t.childNodes),(r=t.parentNode)==null||r.replaceChild(n,t)})};function W2(e){e.querySelector('[id^="docs-internal-guid-"]')&&(z2(e),H2(e))}const G2=/\bmso-list:[^;]*ignore/i,K2=/\bmso-list:[^;]*\bl(\d+)/i,V2=/\bmso-list:[^;]*\blevel(\d+)/i,Z2=(e,t)=>{const n=e.getAttribute("style"),r=n==null?void 0:n.match(K2);if(!r)return null;const i=Number(r[1]),s=n==null?void 0:n.match(V2),l=s?Number(s[1]):1,a=new RegExp(`@list l${i}:level${l}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),u=t.match(a),c=u&&u[1]==="bullet"?"bullet":"ordered";return{id:i,indent:l,type:c,element:e}},Y2=e=>{var l,a;const t=Array.from(e.querySelectorAll("[style*=mso-list]")),n=[],r=[];t.forEach(u=>{(u.getAttribute("style")||"").match(G2)?n.push(u):r.push(u)}),n.forEach(u=>{var c;return(c=u.parentNode)==null?void 0:c.removeChild(u)});const i=e.documentElement.innerHTML,s=r.map(u=>Z2(u,i)).filter(u=>u);for(;s.length;){const u=[];let c=s.shift();for(;c;)u.push(c),c=s.length&&((l=s[0])==null?void 0:l.element)===c.element.nextElementSibling&&s[0].id===c.id?s.shift():null;const p=document.createElement("ul");u.forEach(m=>{const q=document.createElement("li");q.setAttribute("data-list",m.type),m.indent>1&&q.setAttribute("class",`ql-indent-${m.indent-1}`),q.innerHTML=m.element.innerHTML,p.appendChild(q)});const g=(a=u[0])==null?void 0:a.element,{parentNode:d}=g??{};g&&(d==null||d.replaceChild(p,g)),u.slice(1).forEach(m=>{let{element:q}=m;d==null||d.removeChild(q)})}};function X2(e){e.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&Y2(e)}const J2=[X2,W2],Q2=e=>{e.documentElement&&J2.forEach(t=>{t(e)})},tT=cn("quill:clipboard"),eT=[[Node.TEXT_NODE,dT],[Node.TEXT_NODE,Ju],["br",lT],[Node.ELEMENT_NODE,Ju],[Node.ELEMENT_NODE,sT],[Node.ELEMENT_NODE,iT],[Node.ELEMENT_NODE,fT],["li",uT],["ol, ul",cT],["pre",oT],["tr",hT],["b",Ul("bold")],["i",Ul("italic")],["strike",Ul("strike")],["style",aT]],nT=[S2,zh].reduce((e,t)=>(e[t.keyName]=t,e),{}),Xu=[jh,ba,ma,Gh,Zh,Xh].reduce((e,t)=>(e[t.keyName]=t,e),{});class Jh extends Se{constructor(t,n){super(t,n),this.quill.root.addEventListener("copy",r=>this.onCaptureCopy(r,!1)),this.quill.root.addEventListener("cut",r=>this.onCaptureCopy(r,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],eT.concat(this.options.matchers??[]).forEach(r=>{let[i,s]=r;this.addMatcher(i,s)})}addMatcher(t,n){this.matchers.push([t,n])}convert(t){let{html:n,text:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(i[jt.blotName])return new P().insert(r||"",{[jt.blotName]:i[jt.blotName]});if(!n)return new P().insert(r||"",i);const s=this.convertHTML(n);return pi(s,`
`)&&(s.ops[s.ops.length-1].attributes==null||i.table)?s.compose(new P().retain(s.length()-1).delete(1)):s}normalizeHTML(t){Q2(t)}convertHTML(t){const n=new DOMParser().parseFromString(t,"text/html");this.normalizeHTML(n);const r=n.body,i=new WeakMap,[s,l]=this.prepareMatching(r,i);return wa(this.quill.scroll,r,s,l,i)}dangerouslyPasteHTML(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:E.sources.API;if(typeof t=="string"){const i=this.convert({html:t,text:""});this.quill.setContents(i,n),this.quill.setSelection(0,E.sources.SILENT)}else{const i=this.convert({html:n,text:""});this.quill.updateContents(new P().retain(t).concat(i),r),this.quill.setSelection(t+i.length(),E.sources.SILENT)}}onCaptureCopy(t){var l,a;let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(t.defaultPrevented)return;t.preventDefault();const[r]=this.quill.selection.getRange();if(r==null)return;const{html:i,text:s}=this.onCopy(r,n);(l=t.clipboardData)==null||l.setData("text/plain",s),(a=t.clipboardData)==null||a.setData("text/html",i),n&&ya({range:r,quill:this.quill})}normalizeURIList(t){return t.split(/\r?\n/).filter(n=>n[0]!=="#").join(`
`)}onCapturePaste(t){var l,a,u,c,p;if(t.defaultPrevented||!this.quill.isEnabled())return;t.preventDefault();const n=this.quill.getSelection(!0);if(n==null)return;const r=(l=t.clipboardData)==null?void 0:l.getData("text/html");let i=(a=t.clipboardData)==null?void 0:a.getData("text/plain");if(!r&&!i){const g=(u=t.clipboardData)==null?void 0:u.getData("text/uri-list");g&&(i=this.normalizeURIList(g))}const s=Array.from(((c=t.clipboardData)==null?void 0:c.files)||[]);if(!r&&s.length>0){this.quill.uploader.upload(n,s);return}if(r&&s.length>0){const g=new DOMParser().parseFromString(r,"text/html");if(g.body.childElementCount===1&&((p=g.body.firstElementChild)==null?void 0:p.tagName)==="IMG"){this.quill.uploader.upload(n,s);return}}this.onPaste(n,{html:r,text:i})}onCopy(t){const n=this.quill.getText(t);return{html:this.quill.getSemanticHTML(t),text:n}}onPaste(t,n){let{text:r,html:i}=n;const s=this.quill.getFormat(t.index),l=this.convert({text:r,html:i},s);tT.log("onPaste",l,{text:r,html:i});const a=new P().retain(t.index).delete(t.length).concat(l);this.quill.updateContents(a,E.sources.USER),this.quill.setSelection(a.length()-t.length,E.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(t,n){const r=[],i=[];return this.matchers.forEach(s=>{const[l,a]=s;switch(l){case Node.TEXT_NODE:i.push(a);break;case Node.ELEMENT_NODE:r.push(a);break;default:Array.from(t.querySelectorAll(l)).forEach(u=>{if(n.has(u)){const c=n.get(u);c==null||c.push(a)}else n.set(u,[a])});break}}),[r,i]}}C(Jh,"DEFAULTS",{matchers:[]});function Gn(e,t,n,r){return r.query(t)?e.reduce((i,s)=>{if(!s.insert)return i;if(s.attributes&&s.attributes[t])return i.push(s);const l=n?{[t]:n}:{};return i.insert(s.insert,{...l,...s.attributes})},new P):e}function pi(e,t){let n="";for(let r=e.ops.length-1;r>=0&&n.length<t.length;--r){const i=e.ops[r];if(typeof i.insert!="string")break;n=i.insert+n}return n.slice(-1*t.length)===t}function gn(e,t){if(!(e instanceof Element))return!1;const n=t.query(e);return n&&n.prototype instanceof le?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(e.tagName.toLowerCase())}function rT(e,t){return e.previousElementSibling&&e.nextElementSibling&&!gn(e.previousElementSibling,t)&&!gn(e.nextElementSibling,t)}const Yi=new WeakMap;function Qh(e){return e==null?!1:(Yi.has(e)||(e.tagName==="PRE"?Yi.set(e,!0):Yi.set(e,Qh(e.parentNode))),Yi.get(e))}function wa(e,t,n,r,i){return t.nodeType===t.TEXT_NODE?r.reduce((s,l)=>l(t,s,e),new P):t.nodeType===t.ELEMENT_NODE?Array.from(t.childNodes||[]).reduce((s,l)=>{let a=wa(e,l,n,r,i);return l.nodeType===t.ELEMENT_NODE&&(a=n.reduce((u,c)=>c(l,u,e),a),a=(i.get(l)||[]).reduce((u,c)=>c(l,u,e),a)),s.concat(a)},new P):new P}function Ul(e){return(t,n,r)=>Gn(n,e,!0,r)}function iT(e,t,n){const r=Fe.keys(e),i=Re.keys(e),s=En.keys(e),l={};return r.concat(i).concat(s).forEach(a=>{let u=n.query(a,D.ATTRIBUTE);u!=null&&(l[u.attrName]=u.value(e),l[u.attrName])||(u=nT[a],u!=null&&(u.attrName===a||u.keyName===a)&&(l[u.attrName]=u.value(e)||void 0),u=Xu[a],u!=null&&(u.attrName===a||u.keyName===a)&&(u=Xu[a],l[u.attrName]=u.value(e)||void 0))}),Object.entries(l).reduce((a,u)=>{let[c,p]=u;return Gn(a,c,p,n)},t)}function sT(e,t,n){const r=n.query(e);if(r==null)return t;if(r.prototype instanceof le){const i={},s=r.value(e);if(s!=null)return i[r.blotName]=s,new P().insert(i,r.formats(e,n))}else if(r.prototype instanceof ri&&!pi(t,`
`)&&t.insert(`
`),"blotName"in r&&"formats"in r&&typeof r.formats=="function")return Gn(t,r.blotName,r.formats(e,n),n);return t}function lT(e,t){return pi(t,`
`)||t.insert(`
`),t}function oT(e,t,n){const r=n.query("code-block"),i=r&&"formats"in r&&typeof r.formats=="function"?r.formats(e,n):!0;return Gn(t,"code-block",i,n)}function aT(){return new P}function uT(e,t,n){const r=n.query(e);if(r==null||r.blotName!=="list"||!pi(t,`
`))return t;let i=-1,s=e.parentNode;for(;s!=null;)["OL","UL"].includes(s.tagName)&&(i+=1),s=s.parentNode;return i<=0?t:t.reduce((l,a)=>a.insert?a.attributes&&typeof a.attributes.indent=="number"?l.push(a):l.insert(a.insert,{indent:i,...a.attributes||{}}):l,new P)}function cT(e,t,n){const r=e;let i=r.tagName==="OL"?"ordered":"bullet";const s=r.getAttribute("data-checked");return s&&(i=s==="true"?"checked":"unchecked"),Gn(t,"list",i,n)}function Ju(e,t,n){if(!pi(t,`
`)){if(gn(e,n)&&(e.childNodes.length>0||e instanceof HTMLParagraphElement))return t.insert(`
`);if(t.length()>0&&e.nextSibling){let r=e.nextSibling;for(;r!=null;){if(gn(r,n))return t.insert(`
`);const i=n.query(r);if(i&&i.prototype instanceof fe)return t.insert(`
`);r=r.firstChild}}}return t}function fT(e,t,n){var s;const r={},i=e.style||{};return i.fontStyle==="italic"&&(r.italic=!0),i.textDecoration==="underline"&&(r.underline=!0),i.textDecoration==="line-through"&&(r.strike=!0),((s=i.fontWeight)!=null&&s.startsWith("bold")||parseInt(i.fontWeight,10)>=700)&&(r.bold=!0),t=Object.entries(r).reduce((l,a)=>{let[u,c]=a;return Gn(l,u,c,n)},t),parseFloat(i.textIndent||0)>0?new P().insert("	").concat(t):t}function hT(e,t,n){var i,s;const r=((i=e.parentElement)==null?void 0:i.tagName)==="TABLE"?e.parentElement:(s=e.parentElement)==null?void 0:s.parentElement;if(r!=null){const a=Array.from(r.querySelectorAll("tr")).indexOf(e)+1;return Gn(t,"table",a,n)}return t}function dT(e,t,n){var i;let r=e.data;if(((i=e.parentElement)==null?void 0:i.tagName)==="O:P")return t.insert(r.trim());if(!Qh(e)){if(r.trim().length===0&&r.includes(`
`)&&!rT(e,n))return t;r=r.replace(/[^\S\u00a0]/g," "),r=r.replace(/ {2,}/g," "),(e.previousSibling==null&&e.parentElement!=null&&gn(e.parentElement,n)||e.previousSibling instanceof Element&&gn(e.previousSibling,n))&&(r=r.replace(/^ /,"")),(e.nextSibling==null&&e.parentElement!=null&&gn(e.parentElement,n)||e.nextSibling instanceof Element&&gn(e.nextSibling,n))&&(r=r.replace(/ $/,"")),r=r.replaceAll(" "," ")}return t.insert(r)}class td extends Se{constructor(n,r){super(n,r);C(this,"lastRecorded",0);C(this,"ignoreChange",!1);C(this,"stack",{undo:[],redo:[]});C(this,"currentRange",null);this.quill.on(E.events.EDITOR_CHANGE,(i,s,l,a)=>{i===E.events.SELECTION_CHANGE?s&&a!==E.sources.SILENT&&(this.currentRange=s):i===E.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||a===E.sources.USER?this.record(s,l):this.transform(s)),this.currentRange=uo(this.currentRange,s))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",i=>{i.inputType==="historyUndo"?(this.undo(),i.preventDefault()):i.inputType==="historyRedo"&&(this.redo(),i.preventDefault())})}change(n,r){if(this.stack[n].length===0)return;const i=this.stack[n].pop();if(!i)return;const s=this.quill.getContents(),l=i.delta.invert(s);this.stack[r].push({delta:l,range:uo(i.range,l)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(i.delta,E.sources.USER),this.ignoreChange=!1,this.restoreSelection(i)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(n,r){if(n.ops.length===0)return;this.stack.redo=[];let i=n.invert(r),s=this.currentRange;const l=Date.now();if(this.lastRecorded+this.options.delay>l&&this.stack.undo.length>0){const a=this.stack.undo.pop();a&&(i=i.compose(a.delta),s=a.range)}else this.lastRecorded=l;i.length()!==0&&(this.stack.undo.push({delta:i,range:s}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(n){Qu(this.stack.undo,n),Qu(this.stack.redo,n)}undo(){this.change("undo","redo")}restoreSelection(n){if(n.range)this.quill.setSelection(n.range,E.sources.USER);else{const r=gT(this.quill.scroll,n.delta);this.quill.setSelection(r,E.sources.USER)}}}C(td,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});function Qu(e,t){let n=t;for(let r=e.length-1;r>=0;r-=1){const i=e[r];e[r]={delta:n.transform(i.delta,!0),range:i.range&&uo(i.range,n)},n=i.delta.transform(n),e[r].delta.length()===0&&e.splice(r,1)}}function pT(e,t){const n=t.ops[t.ops.length-1];return n==null?!1:n.insert!=null?typeof n.insert=="string"&&n.insert.endsWith(`
`):n.attributes!=null?Object.keys(n.attributes).some(r=>e.query(r,D.BLOCK)!=null):!1}function gT(e,t){const n=t.reduce((i,s)=>i+(s.delete||0),0);let r=t.length()-n;return pT(e,t)&&(r-=1),r}function uo(e,t){if(!e)return e;const n=t.transformPosition(e.index),r=t.transformPosition(e.index+e.length);return{index:n,length:r-n}}class ed extends Se{constructor(t,n){super(t,n),t.root.addEventListener("drop",r=>{var l;r.preventDefault();let i=null;if(document.caretRangeFromPoint)i=document.caretRangeFromPoint(r.clientX,r.clientY);else if(document.caretPositionFromPoint){const a=document.caretPositionFromPoint(r.clientX,r.clientY);i=document.createRange(),i.setStart(a.offsetNode,a.offset),i.setEnd(a.offsetNode,a.offset)}const s=i&&t.selection.normalizeNative(i);if(s){const a=t.selection.normalizedToRange(s);(l=r.dataTransfer)!=null&&l.files&&this.upload(a,r.dataTransfer.files)}})}upload(t,n){const r=[];Array.from(n).forEach(i=>{var s;i&&((s=this.options.mimetypes)!=null&&s.includes(i.type))&&r.push(i)}),r.length>0&&this.options.handler.call(this,t,r)}}ed.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(e,t){if(!this.quill.scroll.query("image"))return;const n=t.map(r=>new Promise(i=>{const s=new FileReader;s.onload=()=>{i(s.result)},s.readAsDataURL(r)}));Promise.all(n).then(r=>{const i=r.reduce((s,l)=>s.insert({image:l}),new P().retain(e.index).delete(e.length));this.quill.updateContents(i,$.sources.USER),this.quill.setSelection(e.index+r.length,$.sources.SILENT)})}};const mT=["insertText","insertReplacementText"];class bT extends Se{constructor(t,n){super(t,n),t.root.addEventListener("beforeinput",r=>{this.handleBeforeInput(r)}),/Android/i.test(navigator.userAgent)||t.on(E.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(t){ya({range:t,quill:this.quill})}replaceText(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(t.length===0)return!1;if(n){const r=this.quill.getFormat(t.index,1);this.deleteRange(t),this.quill.updateContents(new P().retain(t.index).insert(n,r),E.sources.USER)}else this.deleteRange(t);return this.quill.setSelection(t.index+n.length,0,E.sources.SILENT),!0}handleBeforeInput(t){if(this.quill.composition.isComposing||t.defaultPrevented||!mT.includes(t.inputType))return;const n=t.getTargetRanges?t.getTargetRanges()[0]:null;if(!n||n.collapsed===!0)return;const r=vT(t);if(r==null)return;const i=this.quill.selection.normalizeNative(n),s=i?this.quill.selection.normalizedToRange(i):null;s&&this.replaceText(s,r)&&t.preventDefault()}handleCompositionStart(){const t=this.quill.getSelection();t&&this.replaceText(t)}}function vT(e){var t;return typeof e.data=="string"?e.data:(t=e.dataTransfer)!=null&&t.types.includes("text/plain")?e.dataTransfer.getData("text/plain"):null}const qT=/Mac/i.test(navigator.platform),yT=100,wT=e=>!!(e.key==="ArrowLeft"||e.key==="ArrowRight"||e.key==="ArrowUp"||e.key==="ArrowDown"||e.key==="Home"||qT&&e.key==="a"&&e.ctrlKey===!0);class _T extends Se{constructor(n,r){super(n,r);C(this,"isListening",!1);C(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(n,r){let{line:i,event:s}=r;if(!(i instanceof Te)||!i.uiNode)return!0;const l=getComputedStyle(i.domNode).direction==="rtl";return l&&s.key!=="ArrowRight"||!l&&s.key!=="ArrowLeft"?!0:(this.quill.setSelection(n.index-1,n.length+(s.shiftKey?1:0),E.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",n=>{!n.defaultPrevented&&wT(n)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+yT,this.isListening)return;this.isListening=!0;const n=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",n,{once:!0})}handleSelectionChange(){const n=document.getSelection();if(!n)return;const r=n.getRangeAt(0);if(r.collapsed!==!0||r.startOffset!==0)return;const i=this.quill.scroll.find(r.startContainer);if(!(i instanceof Te)||!i.uiNode)return;const s=document.createRange();s.setStartAfter(i.uiNode),s.setEndAfter(i.uiNode),n.removeAllRanges(),n.addRange(s)}}E.register({"blots/block":$t,"blots/block/embed":fe,"blots/break":Oe,"blots/container":zn,"blots/cursor":mr,"blots/embed":pa,"blots/inline":Ue,"blots/scroll":cr,"blots/text":Le,"modules/clipboard":Jh,"modules/history":td,"modules/keyboard":Ms,"modules/uploader":ed,"modules/input":bT,"modules/uiNode":_T});class xT extends Re{add(t,n){let r=0;if(n==="+1"||n==="-1"){const i=this.value(t)||0;r=n==="+1"?i+1:i-1}else typeof n=="number"&&(r=n);return r===0?(this.remove(t),!0):super.add(t,r.toString())}canAdd(t,n){return super.canAdd(t,n)||super.canAdd(t,parseInt(n,10))}value(t){return parseInt(super.value(t),10)||void 0}}const AT=new xT("indent","ql-indent",{scope:D.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class co extends $t{}C(co,"blotName","blockquote"),C(co,"tagName","blockquote");class fo extends $t{static formats(t){return this.tagName.indexOf(t.tagName)+1}}C(fo,"blotName","header"),C(fo,"tagName",["H1","H2","H3","H4","H5","H6"]);class gi extends zn{}gi.blotName="list-container";gi.tagName="OL";class mi extends $t{static create(t){const n=super.create();return n.setAttribute("data-list",t),n}static formats(t){return t.getAttribute("data-list")||void 0}static register(){E.register(gi)}constructor(t,n){super(t,n);const r=n.ownerDocument.createElement("span"),i=s=>{if(!t.isEnabled())return;const l=this.statics.formats(n,t);l==="checked"?(this.format("list","unchecked"),s.preventDefault()):l==="unchecked"&&(this.format("list","checked"),s.preventDefault())};r.addEventListener("mousedown",i),r.addEventListener("touchstart",i),this.attachUI(r)}format(t,n){t===this.statics.blotName&&n?this.domNode.setAttribute("data-list",n):super.format(t,n)}}mi.blotName="list";mi.tagName="LI";gi.allowedChildren=[mi];mi.requiredContainer=gi;class si extends Ue{static create(){return super.create()}static formats(){return!0}optimize(t){super.optimize(t),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}C(si,"blotName","bold"),C(si,"tagName",["STRONG","B"]);class ho extends si{}C(ho,"blotName","italic"),C(ho,"tagName",["EM","I"]);class mn extends Ue{static create(t){const n=super.create(t);return n.setAttribute("href",this.sanitize(t)),n.setAttribute("rel","noopener noreferrer"),n.setAttribute("target","_blank"),n}static formats(t){return t.getAttribute("href")}static sanitize(t){return nd(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}format(t,n){t!==this.statics.blotName||!n?super.format(t,n):this.domNode.setAttribute("href",this.constructor.sanitize(n))}}C(mn,"blotName","link"),C(mn,"tagName","A"),C(mn,"SANITIZED_URL","about:blank"),C(mn,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);function nd(e,t){const n=document.createElement("a");n.href=e;const r=n.href.slice(0,n.href.indexOf(":"));return t.indexOf(r)>-1}class po extends Ue{static create(t){return t==="super"?document.createElement("sup"):t==="sub"?document.createElement("sub"):super.create(t)}static formats(t){if(t.tagName==="SUB")return"sub";if(t.tagName==="SUP")return"super"}}C(po,"blotName","script"),C(po,"tagName",["SUB","SUP"]);class go extends si{}C(go,"blotName","strike"),C(go,"tagName",["S","STRIKE"]);class mo extends Ue{}C(mo,"blotName","underline"),C(mo,"tagName","U");class ts extends pa{static create(t){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const n=super.create(t);return typeof t=="string"&&(window.katex.render(t,n,{throwOnError:!1,errorColor:"#f00"}),n.setAttribute("data-value",t)),n}static value(t){return t.getAttribute("data-value")}html(){const{formula:t}=this.value();return`<span>${t}</span>`}}C(ts,"blotName","formula"),C(ts,"className","ql-formula"),C(ts,"tagName","SPAN");const tc=["alt","height","width"];class bo extends le{static create(t){const n=super.create(t);return typeof t=="string"&&n.setAttribute("src",this.sanitize(t)),n}static formats(t){return tc.reduce((n,r)=>(t.hasAttribute(r)&&(n[r]=t.getAttribute(r)),n),{})}static match(t){return/\.(jpe?g|gif|png)$/.test(t)||/^data:image\/.+;base64/.test(t)}static sanitize(t){return nd(t,["http","https","data"])?t:"//:0"}static value(t){return t.getAttribute("src")}format(t,n){tc.indexOf(t)>-1?n?this.domNode.setAttribute(t,n):this.domNode.removeAttribute(t):super.format(t,n)}}C(bo,"blotName","image"),C(bo,"tagName","IMG");const ec=["height","width"];class es extends fe{static create(t){const n=super.create(t);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen","true"),n.setAttribute("src",this.sanitize(t)),n}static formats(t){return ec.reduce((n,r)=>(t.hasAttribute(r)&&(n[r]=t.getAttribute(r)),n),{})}static sanitize(t){return mn.sanitize(t)}static value(t){return t.getAttribute("src")}format(t,n){ec.indexOf(t)>-1?n?this.domNode.setAttribute(t,n):this.domNode.removeAttribute(t):super.format(t,n)}html(){const{video:t}=this.value();return`<a href="${t}">${t}</a>`}}C(es,"blotName","video"),C(es,"className","ql-video"),C(es,"tagName","IFRAME");const Kr=new Re("code-token","hljs",{scope:D.INLINE});class tn extends Ue{static formats(t,n){for(;t!=null&&t!==n.domNode;){if(t.classList&&t.classList.contains(jt.className))return super.formats(t,n);t=t.parentNode}}constructor(t,n,r){super(t,n,r),Kr.add(this.domNode,r)}format(t,n){t!==tn.blotName?super.format(t,n):n?Kr.add(this.domNode,n):(Kr.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),Kr.value(this.domNode)||this.unwrap()}}tn.blotName="code-token";tn.className="ql-token";class ce extends jt{static create(t){const n=super.create(t);return typeof t=="string"&&n.setAttribute("data-language",t),n}static formats(t){return t.getAttribute("data-language")||"plain"}static register(){}format(t,n){t===this.statics.blotName&&n?this.domNode.setAttribute("data-language",n):super.format(t,n)}replaceWith(t,n){return this.formatAt(0,this.length(),tn.blotName,!1),super.replaceWith(t,n)}}class Zr extends Wn{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(t,n){t===ce.blotName&&(this.forceNext=!0,this.children.forEach(r=>{r.format(t,n)}))}formatAt(t,n,r,i){r===ce.blotName&&(this.forceNext=!0),super.formatAt(t,n,r,i)}highlight(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const i=`${Array.from(this.domNode.childNodes).filter(l=>l!==this.uiNode).map(l=>l.textContent).join(`
`)}
`,s=ce.formats(this.children.head.domNode);if(n||this.forceNext||this.cachedText!==i){if(i.trim().length>0||this.cachedText==null){const l=this.children.reduce((u,c)=>u.concat(Dh(c,!1)),new P),a=t(i,s);l.diff(a).reduce((u,c)=>{let{retain:p,attributes:g}=c;return p?(g&&Object.keys(g).forEach(d=>{[ce.blotName,tn.blotName].includes(d)&&this.formatAt(u,p,d,g[d])}),u+p):u},0)}this.cachedText=i,this.forceNext=!1}}html(t,n){const[r]=this.children.find(t);return`<pre data-language="${r?ce.formats(r.domNode):"plain"}">
${$s(this.code(t,n))}
</pre>`}optimize(t){if(super.optimize(t),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const n=ce.formats(this.children.head.domNode);n!==this.uiNode.value&&(this.uiNode.value=n)}}}Zr.allowedChildren=[ce];ce.requiredContainer=Zr;ce.allowedChildren=[tn,mr,Le,Oe];const ET=(e,t,n)=>{if(typeof e.versionString=="string"){const r=e.versionString.split(".")[0];if(parseInt(r,10)>=11)return e.highlight(n,{language:t}).value}return e.highlight(t,n).value};class rd extends Se{static register(){E.register(tn,!0),E.register(ce,!0),E.register(Zr,!0)}constructor(t,n){if(super(t,n),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((r,i)=>{let{key:s}=i;return r[s]=!0,r},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(E.events.SCROLL_BLOT_MOUNT,t=>{if(!(t instanceof Zr))return;const n=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(r=>{let{key:i,label:s}=r;const l=n.ownerDocument.createElement("option");l.textContent=s,l.setAttribute("value",i),n.appendChild(l)}),n.addEventListener("change",()=>{t.format(ce.blotName,n.value),this.quill.root.focus(),this.highlight(t,!0)}),t.uiNode==null&&(t.attachUI(n),t.children.head&&(n.value=ce.formats(t.children.head.domNode)))})}initTimer(){let t=null;this.quill.on(E.events.SCROLL_OPTIMIZE,()=>{t&&clearTimeout(t),t=setTimeout(()=>{this.highlight(),t=null},this.options.interval)})}highlight(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(E.sources.USER);const r=this.quill.getSelection();(t==null?this.quill.scroll.descendants(Zr):[t]).forEach(s=>{s.highlight(this.highlightBlot,n)}),this.quill.update(E.sources.SILENT),r!=null&&this.quill.setSelection(r,E.sources.SILENT)}highlightBlot(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(n=this.languages[n]?n:"plain",n==="plain")return $s(t).split(`
`).reduce((i,s,l)=>(l!==0&&i.insert(`
`,{[jt.blotName]:n}),i.insert(s)),new P);const r=this.quill.root.ownerDocument.createElement("div");return r.classList.add(jt.className),r.innerHTML=ET(this.options.hljs,n,t),wa(this.quill.scroll,r,[(i,s)=>{const l=Kr.value(i);return l?s.compose(new P().retain(s.length(),{[tn.blotName]:l})):s}],[(i,s)=>i.data.split(`
`).reduce((l,a,u)=>(u!==0&&l.insert(`
`,{[jt.blotName]:n}),l.insert(a)),s)],new WeakMap)}}rd.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const Xr=class Xr extends $t{static create(t){const n=super.create();return t?n.setAttribute("data-row",t):n.setAttribute("data-row",_a()),n}static formats(t){if(t.hasAttribute("data-row"))return t.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(t,n){t===Xr.blotName&&n?this.domNode.setAttribute("data-row",n):super.format(t,n)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};C(Xr,"blotName","table"),C(Xr,"tagName","TD");let Ae=Xr;class en extends zn{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const t=this.children.head.formats(),n=this.children.tail.formats(),r=this.next.children.head.formats(),i=this.next.children.tail.formats();return t.table===n.table&&t.table===r.table&&t.table===i.table}return!1}optimize(t){super.optimize(t),this.children.forEach(n=>{if(n.next==null)return;const r=n.formats(),i=n.next.formats();if(r.table!==i.table){const s=this.splitAfter(n);s&&s.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}C(en,"blotName","table-row"),C(en,"tagName","TR");class Pe extends zn{}C(Pe,"blotName","table-body"),C(Pe,"tagName","TBODY");class vr extends zn{balanceCells(){const t=this.descendants(en),n=t.reduce((r,i)=>Math.max(i.children.length,r),0);t.forEach(r=>{new Array(n-r.children.length).fill(0).forEach(()=>{let i;r.children.head!=null&&(i=Ae.formats(r.children.head.domNode));const s=this.scroll.create(Ae.blotName,i);r.appendChild(s),s.optimize()})})}cells(t){return this.rows().map(n=>n.children.at(t))}deleteColumn(t){const[n]=this.descendant(Pe);n==null||n.children.head==null||n.children.forEach(r=>{const i=r.children.at(t);i!=null&&i.remove()})}insertColumn(t){const[n]=this.descendant(Pe);n==null||n.children.head==null||n.children.forEach(r=>{const i=r.children.at(t),s=Ae.formats(r.children.head.domNode),l=this.scroll.create(Ae.blotName,s);r.insertBefore(l,i)})}insertRow(t){const[n]=this.descendant(Pe);if(n==null||n.children.head==null)return;const r=_a(),i=this.scroll.create(en.blotName);n.children.head.children.forEach(()=>{const l=this.scroll.create(Ae.blotName,r);i.appendChild(l)});const s=n.children.at(t);n.insertBefore(i,s)}rows(){const t=this.children.head;return t==null?[]:t.children.map(n=>n)}}C(vr,"blotName","table-container"),C(vr,"tagName","TABLE");vr.allowedChildren=[Pe];Pe.requiredContainer=vr;Pe.allowedChildren=[en];en.requiredContainer=Pe;en.allowedChildren=[Ae];Ae.requiredContainer=en;function _a(){return`row-${Math.random().toString(36).slice(2,6)}`}class TT extends Se{static register(){E.register(Ae),E.register(en),E.register(Pe),E.register(vr)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(vr).forEach(t=>{t.balanceCells()})}deleteColumn(){const[t,,n]=this.getTable();n!=null&&(t.deleteColumn(n.cellOffset()),this.quill.update(E.sources.USER))}deleteRow(){const[,t]=this.getTable();t!=null&&(t.remove(),this.quill.update(E.sources.USER))}deleteTable(){const[t]=this.getTable();if(t==null)return;const n=t.offset();t.remove(),this.quill.update(E.sources.USER),this.quill.setSelection(n,E.sources.SILENT)}getTable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(t==null)return[null,null,null,-1];const[n,r]=this.quill.getLine(t.index);if(n==null||n.statics.blotName!==Ae.blotName)return[null,null,null,-1];const i=n.parent;return[i.parent.parent,i,n,r]}insertColumn(t){const n=this.quill.getSelection();if(!n)return;const[r,i,s]=this.getTable(n);if(s==null)return;const l=s.cellOffset();r.insertColumn(l+t),this.quill.update(E.sources.USER);let a=i.rowOffset();t===0&&(a+=1),this.quill.setSelection(n.index+a,n.length,E.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(t){const n=this.quill.getSelection();if(!n)return;const[r,i,s]=this.getTable(n);if(s==null)return;const l=i.rowOffset();r.insertRow(l+t),this.quill.update(E.sources.USER),t>0?this.quill.setSelection(n,E.sources.SILENT):this.quill.setSelection(n.index+i.children.length,n.length,E.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(t,n){const r=this.quill.getSelection();if(r==null)return;const i=new Array(t).fill(0).reduce(s=>{const l=new Array(n).fill(`
`).join("");return s.insert(l,{table:_a()})},new P().retain(r.index));this.quill.updateContents(i,E.sources.USER),this.quill.setSelection(r.index,E.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(E.events.SCROLL_OPTIMIZE,t=>{t.some(n=>["TD","TR","TBODY","TABLE"].includes(n.target.tagName)?(this.quill.once(E.events.TEXT_CHANGE,(r,i,s)=>{s===E.sources.USER&&this.balanceTables()}),!0):!1)})}}const nc=cn("quill:toolbar");class xa extends Se{constructor(t,n){var r,i;if(super(t,n),Array.isArray(this.options.container)){const s=document.createElement("div");s.setAttribute("role","toolbar"),NT(s,this.options.container),(i=(r=t.container)==null?void 0:r.parentNode)==null||i.insertBefore(s,t.container),this.container=s}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){nc.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(s=>{var a;const l=(a=this.options.handlers)==null?void 0:a[s];l&&this.addHandler(s,l)}),Array.from(this.container.querySelectorAll("button, select")).forEach(s=>{this.attach(s)}),this.quill.on(E.events.EDITOR_CHANGE,()=>{const[s]=this.quill.selection.getRange();this.update(s)})}addHandler(t,n){this.handlers[t]=n}attach(t){let n=Array.from(t.classList).find(i=>i.indexOf("ql-")===0);if(!n)return;if(n=n.slice(3),t.tagName==="BUTTON"&&t.setAttribute("type","button"),this.handlers[n]==null&&this.quill.scroll.query(n)==null){nc.warn("ignoring attaching to nonexistent format",n,t);return}const r=t.tagName==="SELECT"?"change":"click";t.addEventListener(r,i=>{let s;if(t.tagName==="SELECT"){if(t.selectedIndex<0)return;const a=t.options[t.selectedIndex];a.hasAttribute("selected")?s=!1:s=a.value||!1}else t.classList.contains("ql-active")?s=!1:s=t.value||!t.hasAttribute("value"),i.preventDefault();this.quill.focus();const[l]=this.quill.selection.getRange();if(this.handlers[n]!=null)this.handlers[n].call(this,s);else if(this.quill.scroll.query(n).prototype instanceof le){if(s=prompt(`Enter ${n}`),!s)return;this.quill.updateContents(new P().retain(l.index).delete(l.length).insert({[n]:s}),E.sources.USER)}else this.quill.format(n,s,E.sources.USER);this.update(l)}),this.controls.push([n,t])}update(t){const n=t==null?{}:this.quill.getFormat(t);this.controls.forEach(r=>{const[i,s]=r;if(s.tagName==="SELECT"){let l=null;if(t==null)l=null;else if(n[i]==null)l=s.querySelector("option[selected]");else if(!Array.isArray(n[i])){let a=n[i];typeof a=="string"&&(a=a.replace(/"/g,'\\"')),l=s.querySelector(`option[value="${a}"]`)}l==null?(s.value="",s.selectedIndex=-1):l.selected=!0}else if(t==null)s.classList.remove("ql-active"),s.setAttribute("aria-pressed","false");else if(s.hasAttribute("value")){const l=n[i],a=l===s.getAttribute("value")||l!=null&&l.toString()===s.getAttribute("value")||l==null&&!s.getAttribute("value");s.classList.toggle("ql-active",a),s.setAttribute("aria-pressed",a.toString())}else{const l=n[i]!=null;s.classList.toggle("ql-active",l),s.setAttribute("aria-pressed",l.toString())}})}}xa.DEFAULTS={};function rc(e,t,n){const r=document.createElement("button");r.setAttribute("type","button"),r.classList.add(`ql-${t}`),r.setAttribute("aria-pressed","false"),n!=null?(r.value=n,r.setAttribute("aria-label",`${t}: ${n}`)):r.setAttribute("aria-label",t),e.appendChild(r)}function NT(e,t){Array.isArray(t[0])||(t=[t]),t.forEach(n=>{const r=document.createElement("span");r.classList.add("ql-formats"),n.forEach(i=>{if(typeof i=="string")rc(r,i);else{const s=Object.keys(i)[0],l=i[s];Array.isArray(l)?LT(r,s,l):rc(r,s,l)}}),e.appendChild(r)})}function LT(e,t,n){const r=document.createElement("select");r.classList.add(`ql-${t}`),n.forEach(i=>{const s=document.createElement("option");i!==!1?s.setAttribute("value",String(i)):s.setAttribute("selected","selected"),r.appendChild(s)}),e.appendChild(r)}xa.DEFAULTS={container:null,handlers:{clean(){const e=this.quill.getSelection();if(e!=null)if(e.length===0){const t=this.quill.getFormat();Object.keys(t).forEach(n=>{this.quill.scroll.query(n,D.INLINE)!=null&&this.quill.format(n,!1,E.sources.USER)})}else this.quill.removeFormat(e.index,e.length,E.sources.USER)},direction(e){const{align:t}=this.quill.getFormat();e==="rtl"&&t==null?this.quill.format("align","right",E.sources.USER):!e&&t==="right"&&this.quill.format("align",!1,E.sources.USER),this.quill.format("direction",e,E.sources.USER)},indent(e){const t=this.quill.getSelection(),n=this.quill.getFormat(t),r=parseInt(n.indent||0,10);if(e==="+1"||e==="-1"){let i=e==="+1"?1:-1;n.direction==="rtl"&&(i*=-1),this.quill.format("indent",r+i,E.sources.USER)}},link(e){e===!0&&(e=prompt("Enter link URL:")),this.quill.format("link",e,E.sources.USER)},list(e){const t=this.quill.getSelection(),n=this.quill.getFormat(t);e==="check"?n.list==="checked"||n.list==="unchecked"?this.quill.format("list",!1,E.sources.USER):this.quill.format("list","unchecked",E.sources.USER):this.quill.format("list",e,E.sources.USER)}}};const kT='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',RT='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',OT='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',ST='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',CT='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',IT='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',$T='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',MT='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',ic='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',BT='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',PT='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',DT='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',FT='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',UT='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',jT='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',HT='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',zT='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',WT='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',GT='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',KT='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',VT='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',ZT='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',YT='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',XT='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',JT='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',QT='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',tN='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',eN='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',nN='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',rN='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',iN='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',sN='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',lN='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>';var li={align:{"":kT,center:RT,right:OT,justify:ST},background:CT,blockquote:IT,bold:$T,clean:MT,code:ic,"code-block":ic,color:BT,direction:{"":PT,rtl:DT},formula:FT,header:{1:UT,2:jT,3:HT,4:zT,5:WT,6:GT},italic:KT,image:VT,indent:{"+1":ZT,"-1":YT},link:XT,list:{bullet:JT,check:QT,ordered:tN},script:{sub:eN,super:nN},strike:rN,table:iN,underline:sN,video:lN};const oN='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let sc=0;function lc(e,t){e.setAttribute(t,`${e.getAttribute(t)!=="true"}`)}class Bs{constructor(t){this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",n=>{switch(n.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),n.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),lc(this.label,"aria-expanded"),lc(this.options,"aria-hidden")}buildItem(t){const n=document.createElement("span");n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item");const r=t.getAttribute("value");return r&&n.setAttribute("data-value",r),t.textContent&&n.setAttribute("data-label",t.textContent),n.addEventListener("click",()=>{this.selectItem(n,!0)}),n.addEventListener("keydown",i=>{switch(i.key){case"Enter":this.selectItem(n,!0),i.preventDefault();break;case"Escape":this.escape(),i.preventDefault();break}}),n}buildLabel(){const t=document.createElement("span");return t.classList.add("ql-picker-label"),t.innerHTML=oN,t.tabIndex="0",t.setAttribute("role","button"),t.setAttribute("aria-expanded","false"),this.container.appendChild(t),t}buildOptions(){const t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id=`ql-picker-options-${sc}`,sc+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,Array.from(this.select.options).forEach(n=>{const r=this.buildItem(n);t.appendChild(r),n.selected===!0&&this.selectItem(r)}),this.container.appendChild(t)}buildPicker(){Array.from(this.select.attributes).forEach(t=>{this.container.setAttribute(t.name,t.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.container.querySelector(".ql-selected");t!==r&&(r!=null&&r.classList.remove("ql-selected"),t!=null&&(t.classList.add("ql-selected"),this.select.selectedIndex=Array.from(t.parentNode.children).indexOf(t),t.hasAttribute("data-value")?this.label.setAttribute("data-value",t.getAttribute("data-value")):this.label.removeAttribute("data-value"),t.hasAttribute("data-label")?this.label.setAttribute("data-label",t.getAttribute("data-label")):this.label.removeAttribute("data-label"),n&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let t;if(this.select.selectedIndex>-1){const r=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];t=this.select.options[this.select.selectedIndex],this.selectItem(r)}else this.selectItem(null);const n=t!=null&&t!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}class id extends Bs{constructor(t,n){super(t),this.label.innerHTML=n,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(r=>{r.classList.add("ql-primary")})}buildItem(t){const n=super.buildItem(t);return n.style.backgroundColor=t.getAttribute("value")||"",n}selectItem(t,n){super.selectItem(t,n);const r=this.label.querySelector(".ql-color-label"),i=t&&t.getAttribute("data-value")||"";r&&(r.tagName==="line"?r.style.stroke=i:r.style.fill=i)}}class sd extends Bs{constructor(t,n){super(t),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(r=>{r.innerHTML=n[r.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(t,n){super.selectItem(t,n);const r=t||this.defaultItem;if(r!=null){if(this.label.innerHTML===r.innerHTML)return;this.label.innerHTML=r.innerHTML}}}const aN=e=>{const{overflowY:t}=getComputedStyle(e,null);return t!=="visible"&&t!=="clip"};class ld{constructor(t,n){this.quill=t,this.boundsContainer=n||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,aN(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(t){const n=t.left+t.width/2-this.root.offsetWidth/2,r=t.bottom+this.quill.root.scrollTop;this.root.style.left=`${n}px`,this.root.style.top=`${r}px`,this.root.classList.remove("ql-flip");const i=this.boundsContainer.getBoundingClientRect(),s=this.root.getBoundingClientRect();let l=0;if(s.right>i.right&&(l=i.right-s.right,this.root.style.left=`${n+l}px`),s.left<i.left&&(l=i.left-s.left,this.root.style.left=`${n+l}px`),s.bottom>i.bottom){const a=s.bottom-s.top,u=t.bottom-t.top+a;this.root.style.top=`${r-u}px`,this.root.classList.add("ql-flip")}return l}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const uN=[!1,"center","right","justify"],cN=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],fN=[!1,"serif","monospace"],hN=["1","2","3",!1],dN=["small",!1,"large","huge"];class bi extends br{constructor(t,n){super(t,n);const r=i=>{if(!document.body.contains(t.root)){document.body.removeEventListener("click",r);return}this.tooltip!=null&&!this.tooltip.root.contains(i.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(s=>{s.container.contains(i.target)||s.close()})};t.emitter.listenDOM("click",document.body,r)}addModule(t){const n=super.addModule(t);return t==="toolbar"&&this.extendToolbar(n),n}buildButtons(t,n){Array.from(t).forEach(r=>{(r.getAttribute("class")||"").split(/\s+/).forEach(s=>{if(s.startsWith("ql-")&&(s=s.slice(3),n[s]!=null))if(s==="direction")r.innerHTML=n[s][""]+n[s].rtl;else if(typeof n[s]=="string")r.innerHTML=n[s];else{const l=r.value||"";l!=null&&n[s][l]&&(r.innerHTML=n[s][l])}})})}buildPickers(t,n){this.pickers=Array.from(t).map(i=>{if(i.classList.contains("ql-align")&&(i.querySelector("option")==null&&Gr(i,uN),typeof n.align=="object"))return new sd(i,n.align);if(i.classList.contains("ql-background")||i.classList.contains("ql-color")){const s=i.classList.contains("ql-background")?"background":"color";return i.querySelector("option")==null&&Gr(i,cN,s==="background"?"#ffffff":"#000000"),new id(i,n[s])}return i.querySelector("option")==null&&(i.classList.contains("ql-font")?Gr(i,fN):i.classList.contains("ql-header")?Gr(i,hN):i.classList.contains("ql-size")&&Gr(i,dN)),new Bs(i)});const r=()=>{this.pickers.forEach(i=>{i.update()})};this.quill.on($.events.EDITOR_CHANGE,r)}}bi.DEFAULTS=Qe({},br.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let e=this.container.querySelector("input.ql-image[type=file]");e==null&&(e=document.createElement("input"),e.setAttribute("type","file"),e.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),e.classList.add("ql-image"),e.addEventListener("change",()=>{const t=this.quill.getSelection(!0);this.quill.uploader.upload(t,e.files),e.value=""}),this.container.appendChild(e)),e.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class od extends ld{constructor(t,n){super(t,n),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",t=>{t.key==="Enter"?(this.save(),t.preventDefault()):t.key==="Escape"&&(this.cancel(),t.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;n!=null?this.textbox.value=n:t!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const r=this.quill.getBounds(this.quill.selection.savedRange);r!=null&&this.position(r),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${t}`)||""),this.root.setAttribute("data-mode",t)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:t}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:n}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",t,$.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",t,$.sources.USER)),this.quill.root.scrollTop=n;break}case"video":t=pN(t);case"formula":{if(!t)break;const n=this.quill.getSelection(!0);if(n!=null){const r=n.index+n.length;this.quill.insertEmbed(r,this.root.getAttribute("data-mode"),t,$.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(r+1," ",$.sources.USER),this.quill.setSelection(r+2,$.sources.USER)}break}}this.textbox.value="",this.hide()}}function pN(e){let t=e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return t?`${t[1]||"https"}://www.youtube.com/embed/${t[2]}?showinfo=0`:(t=e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${t[1]||"https"}://player.vimeo.com/video/${t[2]}/`:e}function Gr(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;t.forEach(r=>{const i=document.createElement("option");r===n?i.setAttribute("selected","selected"):i.setAttribute("value",String(r)),e.appendChild(i)})}const gN=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class ad extends od{constructor(t,n){super(t,n),this.quill.on($.events.EDITOR_CHANGE,(r,i,s,l)=>{if(r===$.events.SELECTION_CHANGE)if(i!=null&&i.length>0&&l===$.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const a=this.quill.getLines(i.index,i.length);if(a.length===1){const u=this.quill.getBounds(i);u!=null&&this.position(u)}else{const u=a[a.length-1],c=this.quill.getIndex(u),p=Math.min(u.length()-1,i.index+i.length-c),g=this.quill.getBounds(new Dn(c,p));g!=null&&this.position(g)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on($.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const t=this.quill.getSelection();if(t!=null){const n=this.quill.getBounds(t);n!=null&&this.position(n)}},1)})}cancel(){this.show()}position(t){const n=super.position(t),r=this.root.querySelector(".ql-tooltip-arrow");return r.style.marginLeft="",n!==0&&(r.style.marginLeft=`${-1*n-r.offsetWidth/2}px`),n}}C(ad,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class ud extends bi{constructor(t,n){n.modules.toolbar!=null&&n.modules.toolbar.container==null&&(n.modules.toolbar.container=gN),super(t,n),this.quill.container.classList.add("ql-bubble")}extendToolbar(t){this.tooltip=new ad(this.quill,this.options.bounds),t.container!=null&&(this.tooltip.root.appendChild(t.container),this.buildButtons(t.container.querySelectorAll("button"),li),this.buildPickers(t.container.querySelectorAll("select"),li))}}ud.DEFAULTS=Qe({},bi.DEFAULTS,{modules:{toolbar:{handlers:{link(e){e?this.quill.theme.tooltip.edit():this.quill.format("link",!1,E.sources.USER)}}}}});const mN=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class cd extends od{constructor(){super(...arguments);C(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",n=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),n.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",n=>{if(this.linkRange!=null){const r=this.linkRange;this.restoreFocus(),this.quill.formatText(r,"link",!1,$.sources.USER),delete this.linkRange}n.preventDefault(),this.hide()}),this.quill.on($.events.SELECTION_CHANGE,(n,r,i)=>{if(n!=null){if(n.length===0&&i===$.sources.USER){const[s,l]=this.quill.scroll.descendant(mn,n.index);if(s!=null){this.linkRange=new Dn(n.index-l,s.length());const a=mn.formats(s.domNode);this.preview.textContent=a,this.preview.setAttribute("href",a),this.show();const u=this.quill.getBounds(this.linkRange);u!=null&&this.position(u);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}C(cd,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class fd extends bi{constructor(t,n){n.modules.toolbar!=null&&n.modules.toolbar.container==null&&(n.modules.toolbar.container=mN),super(t,n),this.quill.container.classList.add("ql-snow")}extendToolbar(t){t.container!=null&&(t.container.classList.add("ql-snow"),this.buildButtons(t.container.querySelectorAll("button"),li),this.buildPickers(t.container.querySelectorAll("select"),li),this.tooltip=new cd(this.quill,this.options.bounds),t.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(n,r)=>{t.handlers.link.call(t,!r.format.link)}))}}fd.DEFAULTS=Qe({},bi.DEFAULTS,{modules:{toolbar:{handlers:{link(e){if(e){const t=this.quill.getSelection();if(t==null||t.length===0)return;let n=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(n)&&n.indexOf("mailto:")!==0&&(n=`mailto:${n}`);const{tooltip:r}=this.quill.theme;r.edit("link",n)}else this.quill.format("link",!1,E.sources.USER)}}}}});E.register({"attributors/attribute/direction":zh,"attributors/class/align":Uh,"attributors/class/background":I2,"attributors/class/color":C2,"attributors/class/direction":Wh,"attributors/class/font":Vh,"attributors/class/size":Yh,"attributors/style/align":jh,"attributors/style/background":ba,"attributors/style/color":ma,"attributors/style/direction":Gh,"attributors/style/font":Zh,"attributors/style/size":Xh},!0);E.register({"formats/align":Uh,"formats/direction":Wh,"formats/indent":AT,"formats/background":ba,"formats/color":ma,"formats/font":Vh,"formats/size":Yh,"formats/blockquote":co,"formats/code-block":jt,"formats/header":fo,"formats/list":mi,"formats/bold":si,"formats/code":va,"formats/italic":ho,"formats/link":mn,"formats/script":po,"formats/strike":go,"formats/underline":mo,"formats/formula":ts,"formats/image":bo,"formats/video":es,"modules/syntax":rd,"modules/table":TT,"modules/toolbar":xa,"themes/bubble":ud,"themes/snow":fd,"ui/icons":li,"ui/picker":Bs,"ui/icon-picker":sd,"ui/color-picker":id,"ui/tooltip":ld},!0);const oc=e=>!!e.tagName,bN=e=>{try{if(typeof document.createElement("div").attachShadow({mode:"open"}).getSelection=="function")return e.getSelection().getRangeAt(0);const t=window.getSelection();return typeof t.getComposedRanges=="function"?t.getComposedRanges(e)[0]:t.getRangeAt(0)}catch{return null}},vN=e=>{const t=()=>e.root.getRootNode();e.selection.hasFocus=()=>t().activeElement===e.root,e.selection.getNativeRange=()=>{const n=bN(t());return n?e.selection.normalizeNative(n):null},e.selection.setNativeRange=(n,r,i=n,s=r,l=!1)=>{if([n==null?void 0:n.parentNode,e.root.parentNode,i==null?void 0:i.parentNode].some(c=>c==null))return;const a=window.getSelection();e.selection.hasFocus()||e.root.focus();const u=(e.selection.getNativeRange()||{}).native;(!u||l||n!==u.startContainer||r!==u.startOffset||i!==u.endContainer||s!==u.endOffset)&&(oc(n)&&n.tagName==="BR"&&(r=[].indexOf.call(n.parentNode.childNodes,n),n=n.parentNode),oc(i)&&i.tagName==="BR"&&(s=[].indexOf.call(i.parentNode.childNodes,i),i=i.parentNode),a.setBaseAndExtent(n,r,i,s))},document.addEventListener("selectionchange",()=>{e.selection.update()})},qN=(e,{value:t,modules:n,readOnly:r,placeholder:i,handleTextChange:s,handleFocus:l,handleBlur:a})=>{const u={toolbar:[["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],["link"],["clean"]]},c=new E(e.querySelector("div"),{theme:"snow",modules:n||u,readOnly:r,placeholder:i});In(t)&&/<[a-z][\s\S]*>/i.test(t)?c.clipboard.dangerouslyPasteHTML(t):In(t)&&c.setText(t);const p=e.querySelector(".ql-editor");return p.addEventListener("focus",l),p.addEventListener("blur",a),c.on("text-change",s),vN(c),c},yN=`/*!
 * Quill Editor v2.0.3
 * https://quilljs.com
 * Copyright (c) 2017-2024, Slab
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */.ql-container{box-sizing:border-box;font-family:Helvetica,Arial,sans-serif;font-size:13px;height:100%;margin:0;position:relative}.ql-container.ql-disabled .ql-tooltip{visibility:hidden}.ql-container:not(.ql-disabled) li[data-list=checked]>.ql-ui,.ql-container:not(.ql-disabled) li[data-list=unchecked]>.ql-ui{cursor:pointer}.ql-clipboard{left:-100000px;height:1px;overflow-y:hidden;position:absolute;top:50%}.ql-clipboard p{margin:0;padding:0}.ql-editor{box-sizing:border-box;counter-reset:list-0 list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;line-height:1.42;height:100%;outline:none;overflow-y:auto;padding:12px 15px;tab-size:4;-moz-tab-size:4;text-align:left;white-space:pre-wrap;word-wrap:break-word}.ql-editor>*{cursor:text}.ql-editor p,.ql-editor ol,.ql-editor pre,.ql-editor blockquote,.ql-editor h1,.ql-editor h2,.ql-editor h3,.ql-editor h4,.ql-editor h5,.ql-editor h6{margin:0;padding:0}@supports (counter-set:none){.ql-editor p,.ql-editor h1,.ql-editor h2,.ql-editor h3,.ql-editor h4,.ql-editor h5,.ql-editor h6{counter-set:list-0 list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}}@supports not (counter-set:none){.ql-editor p,.ql-editor h1,.ql-editor h2,.ql-editor h3,.ql-editor h4,.ql-editor h5,.ql-editor h6{counter-reset:list-0 list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}}.ql-editor table{border-collapse:collapse}.ql-editor td{border:1px solid #000;padding:2px 5px}.ql-editor ol{padding-left:1.5em}.ql-editor li{list-style-type:none;padding-left:1.5em;position:relative}.ql-editor li>.ql-ui:before{display:inline-block;margin-left:-1.5em;margin-right:.3em;text-align:right;white-space:nowrap;width:1.2em}.ql-editor li[data-list=checked]>.ql-ui,.ql-editor li[data-list=unchecked]>.ql-ui{color:#777}.ql-editor li[data-list=bullet]>.ql-ui:before{content:'\\2022'}.ql-editor li[data-list=checked]>.ql-ui:before{content:'\\2611'}.ql-editor li[data-list=unchecked]>.ql-ui:before{content:'\\2610'}@supports (counter-set:none){.ql-editor li[data-list]{counter-set:list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}}@supports not (counter-set:none){.ql-editor li[data-list]{counter-reset:list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}}.ql-editor li[data-list=ordered]{counter-increment:list-0}.ql-editor li[data-list=ordered]>.ql-ui:before{content:counter(list-0, decimal) '. '}.ql-editor li[data-list=ordered].ql-indent-1{counter-increment:list-1}.ql-editor li[data-list=ordered].ql-indent-1>.ql-ui:before{content:counter(list-1, lower-alpha) '. '}@supports (counter-set:none){.ql-editor li[data-list].ql-indent-1{counter-set:list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}}@supports not (counter-set:none){.ql-editor li[data-list].ql-indent-1{counter-reset:list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}}.ql-editor li[data-list=ordered].ql-indent-2{counter-increment:list-2}.ql-editor li[data-list=ordered].ql-indent-2>.ql-ui:before{content:counter(list-2, lower-roman) '. '}@supports (counter-set:none){.ql-editor li[data-list].ql-indent-2{counter-set:list-3 list-4 list-5 list-6 list-7 list-8 list-9}}@supports not (counter-set:none){.ql-editor li[data-list].ql-indent-2{counter-reset:list-3 list-4 list-5 list-6 list-7 list-8 list-9}}.ql-editor li[data-list=ordered].ql-indent-3{counter-increment:list-3}.ql-editor li[data-list=ordered].ql-indent-3>.ql-ui:before{content:counter(list-3, decimal) '. '}@supports (counter-set:none){.ql-editor li[data-list].ql-indent-3{counter-set:list-4 list-5 list-6 list-7 list-8 list-9}}@supports not (counter-set:none){.ql-editor li[data-list].ql-indent-3{counter-reset:list-4 list-5 list-6 list-7 list-8 list-9}}.ql-editor li[data-list=ordered].ql-indent-4{counter-increment:list-4}.ql-editor li[data-list=ordered].ql-indent-4>.ql-ui:before{content:counter(list-4, lower-alpha) '. '}@supports (counter-set:none){.ql-editor li[data-list].ql-indent-4{counter-set:list-5 list-6 list-7 list-8 list-9}}@supports not (counter-set:none){.ql-editor li[data-list].ql-indent-4{counter-reset:list-5 list-6 list-7 list-8 list-9}}.ql-editor li[data-list=ordered].ql-indent-5{counter-increment:list-5}.ql-editor li[data-list=ordered].ql-indent-5>.ql-ui:before{content:counter(list-5, lower-roman) '. '}@supports (counter-set:none){.ql-editor li[data-list].ql-indent-5{counter-set:list-6 list-7 list-8 list-9}}@supports not (counter-set:none){.ql-editor li[data-list].ql-indent-5{counter-reset:list-6 list-7 list-8 list-9}}.ql-editor li[data-list=ordered].ql-indent-6{counter-increment:list-6}.ql-editor li[data-list=ordered].ql-indent-6>.ql-ui:before{content:counter(list-6, decimal) '. '}@supports (counter-set:none){.ql-editor li[data-list].ql-indent-6{counter-set:list-7 list-8 list-9}}@supports not (counter-set:none){.ql-editor li[data-list].ql-indent-6{counter-reset:list-7 list-8 list-9}}.ql-editor li[data-list=ordered].ql-indent-7{counter-increment:list-7}.ql-editor li[data-list=ordered].ql-indent-7>.ql-ui:before{content:counter(list-7, lower-alpha) '. '}@supports (counter-set:none){.ql-editor li[data-list].ql-indent-7{counter-set:list-8 list-9}}@supports not (counter-set:none){.ql-editor li[data-list].ql-indent-7{counter-reset:list-8 list-9}}.ql-editor li[data-list=ordered].ql-indent-8{counter-increment:list-8}.ql-editor li[data-list=ordered].ql-indent-8>.ql-ui:before{content:counter(list-8, lower-roman) '. '}@supports (counter-set:none){.ql-editor li[data-list].ql-indent-8{counter-set:list-9}}@supports not (counter-set:none){.ql-editor li[data-list].ql-indent-8{counter-reset:list-9}}.ql-editor li[data-list=ordered].ql-indent-9{counter-increment:list-9}.ql-editor li[data-list=ordered].ql-indent-9>.ql-ui:before{content:counter(list-9, decimal) '. '}.ql-editor .ql-indent-1:not(.ql-direction-rtl){padding-left:3em}.ql-editor li.ql-indent-1:not(.ql-direction-rtl){padding-left:4.5em}.ql-editor .ql-indent-1.ql-direction-rtl.ql-align-right{padding-right:3em}.ql-editor li.ql-indent-1.ql-direction-rtl.ql-align-right{padding-right:4.5em}.ql-editor .ql-indent-2:not(.ql-direction-rtl){padding-left:6em}.ql-editor li.ql-indent-2:not(.ql-direction-rtl){padding-left:7.5em}.ql-editor .ql-indent-2.ql-direction-rtl.ql-align-right{padding-right:6em}.ql-editor li.ql-indent-2.ql-direction-rtl.ql-align-right{padding-right:7.5em}.ql-editor .ql-indent-3:not(.ql-direction-rtl){padding-left:9em}.ql-editor li.ql-indent-3:not(.ql-direction-rtl){padding-left:10.5em}.ql-editor .ql-indent-3.ql-direction-rtl.ql-align-right{padding-right:9em}.ql-editor li.ql-indent-3.ql-direction-rtl.ql-align-right{padding-right:10.5em}.ql-editor .ql-indent-4:not(.ql-direction-rtl){padding-left:12em}.ql-editor li.ql-indent-4:not(.ql-direction-rtl){padding-left:13.5em}.ql-editor .ql-indent-4.ql-direction-rtl.ql-align-right{padding-right:12em}.ql-editor li.ql-indent-4.ql-direction-rtl.ql-align-right{padding-right:13.5em}.ql-editor .ql-indent-5:not(.ql-direction-rtl){padding-left:15em}.ql-editor li.ql-indent-5:not(.ql-direction-rtl){padding-left:16.5em}.ql-editor .ql-indent-5.ql-direction-rtl.ql-align-right{padding-right:15em}.ql-editor li.ql-indent-5.ql-direction-rtl.ql-align-right{padding-right:16.5em}.ql-editor .ql-indent-6:not(.ql-direction-rtl){padding-left:18em}.ql-editor li.ql-indent-6:not(.ql-direction-rtl){padding-left:19.5em}.ql-editor .ql-indent-6.ql-direction-rtl.ql-align-right{padding-right:18em}.ql-editor li.ql-indent-6.ql-direction-rtl.ql-align-right{padding-right:19.5em}.ql-editor .ql-indent-7:not(.ql-direction-rtl){padding-left:21em}.ql-editor li.ql-indent-7:not(.ql-direction-rtl){padding-left:22.5em}.ql-editor .ql-indent-7.ql-direction-rtl.ql-align-right{padding-right:21em}.ql-editor li.ql-indent-7.ql-direction-rtl.ql-align-right{padding-right:22.5em}.ql-editor .ql-indent-8:not(.ql-direction-rtl){padding-left:24em}.ql-editor li.ql-indent-8:not(.ql-direction-rtl){padding-left:25.5em}.ql-editor .ql-indent-8.ql-direction-rtl.ql-align-right{padding-right:24em}.ql-editor li.ql-indent-8.ql-direction-rtl.ql-align-right{padding-right:25.5em}.ql-editor .ql-indent-9:not(.ql-direction-rtl){padding-left:27em}.ql-editor li.ql-indent-9:not(.ql-direction-rtl){padding-left:28.5em}.ql-editor .ql-indent-9.ql-direction-rtl.ql-align-right{padding-right:27em}.ql-editor li.ql-indent-9.ql-direction-rtl.ql-align-right{padding-right:28.5em}.ql-editor li.ql-direction-rtl{padding-right:1.5em}.ql-editor li.ql-direction-rtl>.ql-ui:before{margin-left:.3em;margin-right:-1.5em;text-align:left}.ql-editor table{table-layout:fixed;width:100%}.ql-editor table td{outline:none}.ql-editor .ql-code-block-container{font-family:monospace}.ql-editor .ql-video{display:block;max-width:100%}.ql-editor .ql-video.ql-align-center{margin:0 auto}.ql-editor .ql-video.ql-align-right{margin:0 0 0 auto}.ql-editor .ql-bg-black{background-color:#000}.ql-editor .ql-bg-red{background-color:#e60000}.ql-editor .ql-bg-orange{background-color:#f90}.ql-editor .ql-bg-yellow{background-color:#ff0}.ql-editor .ql-bg-green{background-color:#008a00}.ql-editor .ql-bg-blue{background-color:#06c}.ql-editor .ql-bg-purple{background-color:#93f}.ql-editor .ql-color-white{color:#fff}.ql-editor .ql-color-red{color:#e60000}.ql-editor .ql-color-orange{color:#f90}.ql-editor .ql-color-yellow{color:#ff0}.ql-editor .ql-color-green{color:#008a00}.ql-editor .ql-color-blue{color:#06c}.ql-editor .ql-color-purple{color:#93f}.ql-editor .ql-font-serif{font-family:Georgia,Times New Roman,serif}.ql-editor .ql-font-monospace{font-family:Monaco,Courier New,monospace}.ql-editor .ql-size-small{font-size:.75em}.ql-editor .ql-size-large{font-size:1.5em}.ql-editor .ql-size-huge{font-size:2.5em}.ql-editor .ql-direction-rtl{direction:rtl;text-align:inherit}.ql-editor .ql-align-center{text-align:center}.ql-editor .ql-align-justify{text-align:justify}.ql-editor .ql-align-right{text-align:right}.ql-editor .ql-ui{position:absolute}.ql-editor.ql-blank::before{color:rgba(0,0,0,0.6);content:attr(data-placeholder);font-style:italic;left:15px;pointer-events:none;position:absolute;right:15px}.ql-snow.ql-toolbar:after,.ql-snow .ql-toolbar:after{clear:both;content:'';display:table}.ql-snow.ql-toolbar button,.ql-snow .ql-toolbar button{background:none;border:none;cursor:pointer;display:inline-block;float:left;height:24px;padding:3px 5px;width:28px}.ql-snow.ql-toolbar button svg,.ql-snow .ql-toolbar button svg{float:left;height:100%}.ql-snow.ql-toolbar button:active:hover,.ql-snow .ql-toolbar button:active:hover{outline:none}.ql-snow.ql-toolbar input.ql-image[type=file],.ql-snow .ql-toolbar input.ql-image[type=file]{display:none}.ql-snow.ql-toolbar button:hover,.ql-snow .ql-toolbar button:hover,.ql-snow.ql-toolbar button:focus,.ql-snow .ql-toolbar button:focus,.ql-snow.ql-toolbar button.ql-active,.ql-snow .ql-toolbar button.ql-active,.ql-snow.ql-toolbar .ql-picker-label:hover,.ql-snow .ql-toolbar .ql-picker-label:hover,.ql-snow.ql-toolbar .ql-picker-label.ql-active,.ql-snow .ql-toolbar .ql-picker-label.ql-active,.ql-snow.ql-toolbar .ql-picker-item:hover,.ql-snow .ql-toolbar .ql-picker-item:hover,.ql-snow.ql-toolbar .ql-picker-item.ql-selected,.ql-snow .ql-toolbar .ql-picker-item.ql-selected{color:#06c}.ql-snow.ql-toolbar button:hover .ql-fill,.ql-snow .ql-toolbar button:hover .ql-fill,.ql-snow.ql-toolbar button:focus .ql-fill,.ql-snow .ql-toolbar button:focus .ql-fill,.ql-snow.ql-toolbar button.ql-active .ql-fill,.ql-snow .ql-toolbar button.ql-active .ql-fill,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-fill,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-fill,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-fill,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-fill,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-fill,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-fill,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-fill,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-fill,.ql-snow.ql-toolbar button:hover .ql-stroke.ql-fill,.ql-snow .ql-toolbar button:hover .ql-stroke.ql-fill,.ql-snow.ql-toolbar button:focus .ql-stroke.ql-fill,.ql-snow .ql-toolbar button:focus .ql-stroke.ql-fill,.ql-snow.ql-toolbar button.ql-active .ql-stroke.ql-fill,.ql-snow .ql-toolbar button.ql-active .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill{fill:#06c}.ql-snow.ql-toolbar button:hover .ql-stroke,.ql-snow .ql-toolbar button:hover .ql-stroke,.ql-snow.ql-toolbar button:focus .ql-stroke,.ql-snow .ql-toolbar button:focus .ql-stroke,.ql-snow.ql-toolbar button.ql-active .ql-stroke,.ql-snow .ql-toolbar button.ql-active .ql-stroke,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke,.ql-snow.ql-toolbar button:hover .ql-stroke-miter,.ql-snow .ql-toolbar button:hover .ql-stroke-miter,.ql-snow.ql-toolbar button:focus .ql-stroke-miter,.ql-snow .ql-toolbar button:focus .ql-stroke-miter,.ql-snow.ql-toolbar button.ql-active .ql-stroke-miter,.ql-snow .ql-toolbar button.ql-active .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter{stroke:#06c}@media (pointer:coarse){.ql-snow.ql-toolbar button:hover:not(.ql-active),.ql-snow .ql-toolbar button:hover:not(.ql-active){color:#444}.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-fill,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-fill,.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill{fill:#444}.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke,.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter{stroke:#444}}.ql-snow{box-sizing:border-box}.ql-snow *{box-sizing:border-box}.ql-snow .ql-hidden{display:none}.ql-snow .ql-out-bottom,.ql-snow .ql-out-top{visibility:hidden}.ql-snow .ql-tooltip{position:absolute;transform:translateY(10px)}.ql-snow .ql-tooltip a{cursor:pointer;text-decoration:none}.ql-snow .ql-tooltip.ql-flip{transform:translateY(-10px)}.ql-snow .ql-formats{display:inline-block;vertical-align:middle}.ql-snow .ql-formats:after{clear:both;content:'';display:table}.ql-snow .ql-stroke{fill:none;stroke:#444;stroke-linecap:round;stroke-linejoin:round;stroke-width:2}.ql-snow .ql-stroke-miter{fill:none;stroke:#444;stroke-miterlimit:10;stroke-width:2}.ql-snow .ql-fill,.ql-snow .ql-stroke.ql-fill{fill:#444}.ql-snow .ql-empty{fill:none}.ql-snow .ql-even{fill-rule:evenodd}.ql-snow .ql-thin,.ql-snow .ql-stroke.ql-thin{stroke-width:1}.ql-snow .ql-transparent{opacity:.4}.ql-snow .ql-direction svg:last-child{display:none}.ql-snow .ql-direction.ql-active svg:last-child{display:inline}.ql-snow .ql-direction.ql-active svg:first-child{display:none}.ql-snow .ql-editor h1{font-size:2em}.ql-snow .ql-editor h2{font-size:1.5em}.ql-snow .ql-editor h3{font-size:1.17em}.ql-snow .ql-editor h4{font-size:1em}.ql-snow .ql-editor h5{font-size:.83em}.ql-snow .ql-editor h6{font-size:.67em}.ql-snow .ql-editor a{text-decoration:underline}.ql-snow .ql-editor blockquote{border-left:4px solid #ccc;margin-bottom:5px;margin-top:5px;padding-left:16px}.ql-snow .ql-editor code,.ql-snow .ql-editor .ql-code-block-container{background-color:#f0f0f0;border-radius:3px}.ql-snow .ql-editor .ql-code-block-container{margin-bottom:5px;margin-top:5px;padding:5px 10px}.ql-snow .ql-editor code{font-size:85%;padding:2px 4px}.ql-snow .ql-editor .ql-code-block-container{background-color:#23241f;color:#f8f8f2;overflow:visible}.ql-snow .ql-editor img{max-width:100%}.ql-snow .ql-picker{color:#444;display:inline-block;float:left;font-size:14px;font-weight:500;height:24px;position:relative;vertical-align:middle}.ql-snow .ql-picker-label{cursor:pointer;display:inline-block;height:100%;padding-left:8px;padding-right:2px;position:relative;width:100%}.ql-snow .ql-picker-label::before{display:inline-block;line-height:22px}.ql-snow .ql-picker-options{background-color:#fff;display:none;min-width:100%;padding:4px 8px;position:absolute;white-space:nowrap}.ql-snow .ql-picker-options .ql-picker-item{cursor:pointer;display:block;padding-bottom:5px;padding-top:5px}.ql-snow .ql-picker.ql-expanded .ql-picker-label{color:#ccc;z-index:2}.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-fill{fill:#ccc}.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-stroke{stroke:#ccc}.ql-snow .ql-picker.ql-expanded .ql-picker-options{display:block;margin-top:-1px;top:100%;z-index:1}.ql-snow .ql-color-picker,.ql-snow .ql-icon-picker{width:28px}.ql-snow .ql-color-picker .ql-picker-label,.ql-snow .ql-icon-picker .ql-picker-label{padding:2px 4px}.ql-snow .ql-color-picker .ql-picker-label svg,.ql-snow .ql-icon-picker .ql-picker-label svg{right:4px}.ql-snow .ql-icon-picker .ql-picker-options{padding:4px 0}.ql-snow .ql-icon-picker .ql-picker-item{height:24px;width:24px;padding:2px 4px}.ql-snow .ql-color-picker .ql-picker-options{padding:3px 5px;width:152px}.ql-snow .ql-color-picker .ql-picker-item{border:1px solid transparent;float:left;height:16px;margin:2px;padding:0;width:16px}.ql-snow .ql-picker:not(.ql-color-picker):not(.ql-icon-picker) svg{position:absolute;margin-top:-9px;right:0;top:50%;width:18px}.ql-snow .ql-picker.ql-header .ql-picker-label[data-label]:not([data-label=''])::before,.ql-snow .ql-picker.ql-font .ql-picker-label[data-label]:not([data-label=''])::before,.ql-snow .ql-picker.ql-size .ql-picker-label[data-label]:not([data-label=''])::before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-label]:not([data-label=''])::before,.ql-snow .ql-picker.ql-font .ql-picker-item[data-label]:not([data-label=''])::before,.ql-snow .ql-picker.ql-size .ql-picker-item[data-label]:not([data-label=''])::before{content:attr(data-label)}.ql-snow .ql-picker.ql-header{width:98px}.ql-snow .ql-picker.ql-header .ql-picker-label::before,.ql-snow .ql-picker.ql-header .ql-picker-item::before{content:'Normal'}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="1"]::before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="1"]::before{content:'Heading 1'}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="2"]::before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="2"]::before{content:'Heading 2'}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="3"]::before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="3"]::before{content:'Heading 3'}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="4"]::before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="4"]::before{content:'Heading 4'}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="5"]::before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="5"]::before{content:'Heading 5'}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="6"]::before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="6"]::before{content:'Heading 6'}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="1"]::before{font-size:2em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="2"]::before{font-size:1.5em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="3"]::before{font-size:1.17em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="4"]::before{font-size:1em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="5"]::before{font-size:.83em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="6"]::before{font-size:.67em}.ql-snow .ql-picker.ql-font{width:108px}.ql-snow .ql-picker.ql-font .ql-picker-label::before,.ql-snow .ql-picker.ql-font .ql-picker-item::before{content:'Sans Serif'}.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=serif]::before,.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]::before{content:'Serif'}.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=monospace]::before,.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]::before{content:'Monospace'}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]::before{font-family:Georgia,Times New Roman,serif}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]::before{font-family:Monaco,Courier New,monospace}.ql-snow .ql-picker.ql-size{width:98px}.ql-snow .ql-picker.ql-size .ql-picker-label::before,.ql-snow .ql-picker.ql-size .ql-picker-item::before{content:'Normal'}.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=small]::before,.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]::before{content:'Small'}.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=large]::before,.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]::before{content:'Large'}.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=huge]::before,.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]::before{content:'Huge'}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]::before{font-size:10px}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]::before{font-size:18px}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]::before{font-size:32px}.ql-snow .ql-color-picker.ql-background .ql-picker-item{background-color:#fff}.ql-snow .ql-color-picker.ql-color .ql-picker-item{background-color:#000}.ql-code-block-container{position:relative}.ql-code-block-container .ql-ui{right:5px;top:5px}.ql-toolbar.ql-snow{border:1px solid #ccc;box-sizing:border-box;font-family:'Helvetica Neue','Helvetica','Arial',sans-serif;padding:8px}.ql-toolbar.ql-snow .ql-formats{margin-right:15px}.ql-toolbar.ql-snow .ql-picker-label{border:1px solid transparent}.ql-toolbar.ql-snow .ql-picker-options{border:1px solid transparent;box-shadow:rgba(0,0,0,0.2) 0 2px 8px}.ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-label{border-color:#ccc}.ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-options{border-color:#ccc}.ql-toolbar.ql-snow .ql-color-picker .ql-picker-item.ql-selected,.ql-toolbar.ql-snow .ql-color-picker .ql-picker-item:hover{border-color:#000}.ql-toolbar.ql-snow+.ql-container.ql-snow{border-top:0}.ql-snow .ql-tooltip{background-color:#fff;border:1px solid #ccc;box-shadow:0 0 5px #ddd;color:#444;padding:5px 12px;white-space:nowrap}.ql-snow .ql-tooltip::before{content:"Visit URL:";line-height:26px;margin-right:8px}.ql-snow .ql-tooltip input[type=text]{display:none;border:1px solid #ccc;font-size:13px;height:26px;margin:0;padding:3px 5px;width:170px}.ql-snow .ql-tooltip a.ql-preview{display:inline-block;max-width:200px;overflow-x:hidden;text-overflow:ellipsis;vertical-align:top}.ql-snow .ql-tooltip a.ql-action::after{border-right:1px solid #ccc;content:'Edit';margin-left:16px;padding-right:8px}.ql-snow .ql-tooltip a.ql-remove::before{content:'Remove';margin-left:8px}.ql-snow .ql-tooltip a{line-height:26px}.ql-snow .ql-tooltip.ql-editing a.ql-preview,.ql-snow .ql-tooltip.ql-editing a.ql-remove{display:none}.ql-snow .ql-tooltip.ql-editing input[type=text]{display:inline-block}.ql-snow .ql-tooltip.ql-editing a.ql-action::after{border-right:0;content:'Save';padding-right:0}.ql-snow .ql-tooltip[data-mode=link]::before{content:"Enter link:"}.ql-snow .ql-tooltip[data-mode=formula]::before{content:"Enter formula:"}.ql-snow .ql-tooltip[data-mode=video]::before{content:"Enter video:"}.ql-snow a{color:#06c}.ql-container.ql-snow{border:1px solid #ccc}`,wN='.mg-c-input__readonly-value{min-height:var(--mg-b-font-size);align-self:flex-start;margin-top:calc((var(--mg-b-size-min-height) - var(--mg-b-font-size)*var(--mg-b-line-height))/2);word-break:break-word}.mg-u-visually-hidden{position:absolute !important;overflow:hidden !important;width:.1rem !important;height:.1rem !important;padding:0 !important;border:0 !important;margin:-0.1rem !important;clip:rect(0.1rem, 0.1rem, 0.1rem, 0.1rem) !important;clip-path:inset(50%) !important;white-space:nowrap !important}*:focus:not(:focus-visible){outline:none}@media (prefers-reduced-motion){*{animation:none !important;transition:none !important}}.mg-c-input__wrapper{display:flex;width:100%;flex-direction:column;border-width:var(--mg-c-input-border-width);border-style:solid;border-color:var(--mg-c-input-color-border);border-radius:var(--mg-c-input-border-radius);background-color:var(--mg-b-color-light)}.mg-c-input__wrapper:focus-within{box-shadow:0 0 var(--mg-b-size-4) var(--mg-c-input-color-box-shadow-focus);outline:Highlight auto .1rem;outline:-webkit-focus-ring-color auto .1rem}.mg-c-input--has-error .mg-c-input__wrapper{border-color:var(--mg-b-color-danger)}.mg-c-input--disabled .mg-c-input__wrapper{opacity:var(--mg-b-opacity-element-disabled)}.mg-c-input--rich-text-editor .mg-c-input__readonly-value p{margin:0}.mg-c-input--rich-text-editor .mg-c-input__readonly-value p:not(:first-child){margin-top:1em}.mg-c-input--rich-text-editor .ql-toolbar{display:flex;flex-wrap:wrap;padding:var(--mg-b-size-8);border:0;border-radius:var(--mg-c-input-border-radius) var(--mg-c-input-border-radius) 0 0;background:var(--mg-b-color-neutral-0);border-block-end-width:var(--mg-c-input-border-width);border-block-end-color:var(--mg-c-input-color-border);border-block-end-style:solid}.mg-c-input--rich-text-editor .ql-toolbar .ql-formats{display:inline-flex;margin:inherit;gap:.2rem}.mg-c-input--rich-text-editor .ql-toolbar .ql-formats:not(:last-child)::after{width:.1rem;height:var(--mg-b-size-16);background:var(--mg-c-input-color-border);content:"";margin-block:var(--mg-b-size-8);margin-inline:var(--mg-b-size-8)}.mg-c-input--rich-text-editor .ql-toolbar button{display:flex;min-width:var(--mg-b-size-32);height:var(--mg-b-size-32);align-items:center;justify-content:center;padding:var(--mg-b-size-4);border:.1rem solid rgba(0,0,0,0);border-radius:var(--mg-b-size-radius);color:var(--mg-b-color-dark);float:inherit;transition-duration:.2s;transition-property:background-color,border-color;transition-timing-function:ease-in-out}.mg-c-input--rich-text-editor .ql-toolbar button .ql-fill,.mg-c-input--rich-text-editor .ql-toolbar button:hover .ql-fill,.mg-c-input--rich-text-editor .ql-toolbar button:focus .ql-fill,.mg-c-input--rich-text-editor .ql-toolbar button.ql-active .ql-fill{fill:currentcolor}.mg-c-input--rich-text-editor .ql-toolbar button:hover .ql-stroke,.mg-c-input--rich-text-editor .ql-toolbar button:focus .ql-stroke,.mg-c-input--rich-text-editor .ql-toolbar button.ql-active .ql-stroke,.mg-c-input--rich-text-editor .ql-toolbar button .ql-stroke{stroke:currentcolor}.mg-c-input--rich-text-editor .ql-toolbar button svg{width:var(--mg-b-size-20);height:var(--mg-b-size-20)}.mg-c-input--rich-text-editor .ql-toolbar button:focus{color:var(--mg-b-color-dark)}.mg-c-input--rich-text-editor .ql-toolbar button:focus-visible,.mg-c-input--rich-text-editor .ql-toolbar button:hover,.mg-c-input--rich-text-editor .ql-toolbar button.ql-active{border-color:var(--mg-b-color-neutral-70);background:var(--mg-b-color-neutral-20);color:var(--mg-b-color-dark)}.mg-c-input--rich-text-editor .ql-toolbar button .ql-stroke{stroke-width:.12rem}.mg-c-input--rich-text-editor .ql-toolbar button .ql-stroke.ql-thin{stroke-width:.1rem}.mg-c-input--rich-text-editor .ql-toolbar button.ql-bold .ql-stroke{stroke-width:.2rem}.mg-c-input--rich-text-editor .ql-container{border:0;border-radius:0 0 var(--mg-c-input-border-radius) var(--mg-c-input-border-radius);margin:0 .1rem .1rem;background:var(--mg-b-color-neutral-0)}.mg-c-input--rich-text-editor .ql-editor{min-height:calc(calc(var(--mg-b-font-size) * var(--mg-b-line-height) * var(--mg-c-input-rich-text-editor-rows, 3)) + calc((var(--mg-b-size-min-height) - var(--mg-b-font-size) * var(--mg-b-line-height)) / 2));padding:calc((var(--mg-b-size-min-height) - var(--mg-b-font-size)*var(--mg-b-line-height))/2) var(--mg-b-size-8);color:var(--mg-b-color-dark);font-size:var(--mg-b-font-size)}.mg-c-input--rich-text-editor .ql-editor.ql-blank::before{right:var(--mg-b-size-8);left:var(--mg-b-size-8)}.mg-c-input--rich-text-editor .ql-editor p:not(:first-child){margin-top:1em}.mg-c-input--rich-text-editor.mg-c-input--disabled .ql-toolbar{pointer-events:none}.mg-c-input--rich-text-editor.mg-c-input--has-error .ql-toolbar{border-color:var(--mg-b-color-danger)}',_N=class{constructor(e){pd(this,e),this.inputValid=Ea(this,"input-valid"),this.valueChange=Ea(this,"value-change"),this.hasDisplayedError=!1,this.classFocus="mg-u-is-focused",this.value="",this.labelOnTop=!1,this.labelHide=!1,this.rows=5,this.required=!1,this.readonly=!1,this.disabled=!1,this.tooltipPosition="input",this.classCollection=new El(["mg-c-input--rich-text-editor"]),this.isEmpty=()=>{const t=this.getTextContent();return!(In(t)&&t!==`
`)},this.getTextContent=()=>this.value.replace(/<[^>]*>/g,"").trim(),this.getPatternValidity=()=>this.pattern===void 0||new RegExp(`^${this.pattern}$`,"u").test(this.getTextContent()),this.checkValidity=()=>{this.setValidity(this.readonly||this.disabled||(this.required?!this.isEmpty():!0)&&this.getPatternValidity())},this.setErrorMessage=t=>{this.errorMessage=void 0,!this.valid&&(In(t)?this.errorMessage=t:this.required&&this.isEmpty()?this.errorMessage=this.messages.errors.required:this.getPatternValidity()||(this.errorMessage=this.patternErrorMessage))},this.handleFocus=()=>{this.classCollection.add(this.classFocus),this.classCollection=new El(this.classCollection.classes)},this.handleBlur=()=>{this.classCollection.delete(this.classFocus),this.classCollection=new El(this.classCollection.classes),this.readonly||(this.checkValidity(),this.setErrorMessage(),this.valid||(this.hasDisplayedError=!0))},this.handleTextChange=()=>{const t=this.editor.getSemanticHTML();this.value=t,this.valueChange.emit(t),this.checkValidity(),this.hasDisplayedError&&this.setErrorMessage()}}watchReadonly(e){e?this.classCollection.add(Na):this.classCollection.delete(Na)}watchDisabled(e){var t,n;e?(this.classCollection.add(La),(t=this.editor)===null||t===void 0||t.disable()):(this.classCollection.delete(La),(n=this.editor)===null||n===void 0||n.enable())}handleValidityChange(){this.editor!==void 0&&this.editor!==null&&(this.checkValidity(),this.hasDisplayedError&&(this.setErrorMessage(),this.hasDisplayedError=!1))}validatePattern(e){if(e!==void 0&&!(In(this.pattern)&&In(this.patternErrorMessage)))throw new Error(`<mg-input-rich-text-editor> props "pattern" and "patternErrorMessage" must be non-empty string and paired. Passed value: "pattern='${Ta(this.pattern)}'" and "patternErrorMessage='${Ta(this.patternErrorMessage)}'".`)}async getHTML(){return new Promise(e=>{requestAnimationFrame(()=>{e(this.editor.getSemanticHTML())})})}async getText(){return new Promise(e=>{requestAnimationFrame(()=>{e(this.editor.getText())})})}async displayError(){return new Promise(e=>{requestAnimationFrame(()=>{this.checkValidity(),this.setErrorMessage(),this.hasDisplayedError=this.invalid,e()})})}async setError(e,t){if(typeof e!="boolean")throw new Error('<mg-input-rich-text-editor> method "setError()" param "valid" must be a boolean.');if(In(t))this.setValidity(e),this.setErrorMessage(e?void 0:t),this.hasDisplayedError=this.invalid;else throw new Error('<mg-input-rich-text-editor> method "setError()" param "errorMessage" must be a string.')}async reset(){this.readonly||(this.value="",this.editor.setText(""),this.checkValidity(),this.errorMessage=void 0,this.hasDisplayedError=!1)}setValidity(e){const t=this.valid;this.valid=e,this.invalid=!this.valid,this.valid!==t&&this.inputValid.emit(this.valid)}componentWillLoad(){return this.messages=md(this.element).messages,this.element.style.setProperty("--mg-c-input-rich-text-editor-rows",this.rows.toString()),this.validatePattern(this.pattern),this.validatePattern(this.patternErrorMessage),this.watchReadonly(this.readonly),this.watchDisabled(this.disabled),setTimeout(()=>{this.checkValidity()},0)}componentDidLoad(){this.readonly||(this.editor=qN(this.wrapperElement,{modules:this.modules,readOnly:this.readonly||this.disabled,placeholder:this.placeholder,value:this.value,handleTextChange:this.handleTextChange,handleBlur:this.handleBlur,handleFocus:this.handleFocus}))}render(){return Bi("mg-input",{key:"f84103940a4f3b4c7bdb6abac6947b8126416c0d",identifier:this.identifier,class:this.classCollection.join(),label:this.label,labelOnTop:this.labelOnTop,labelHide:this.labelHide,required:this.required,tooltip:this.tooltip,tooltipPosition:this.tooltipPosition,helpText:this.helpText,errorMessage:this.hasDisplayedError?this.errorMessage:void 0},this.readonly?Bi("div",{class:"mg-c-input__readonly-value",innerHTML:this.value}):Bi("div",{ref:e=>{this.wrapperElement=e},id:this.identifier,class:"mg-c-input__wrapper"},Bi("div",null)))}get element(){return gd(this)}static get watchers(){return{readonly:["watchReadonly","handleValidityChange"],disabled:["watchDisabled","handleValidityChange"],required:["handleValidityChange"],pattern:["validatePattern"],patternErrorMessage:["validatePattern"]}}};_N.style=yN+wN;export{_N as mg_input_rich_text_editor};
