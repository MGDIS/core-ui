var o=Object.defineProperty,k=(r,e)=>{for(var t in e)o(r,t,{get:e[t],enumerable:!0})},g=r=>(r=typeof r,r==="object"||r==="function"),w={};k(w,{err:()=>h,map:()=>x,ok:()=>f,unwrap:()=>E,unwrapErr:()=>b});var f=r=>({isOk:!0,isErr:!1,value:r}),h=r=>({isOk:!1,isErr:!0,value:r});function x(r,e){if(r.isOk){const t=e(r.value);return t instanceof Promise?t.then(l=>f(l)):f(t)}if(r.isErr){const t=r.value;return h(t)}throw"should never get here"}var E=r=>{if(r.isOk)return r.value;throw r.value},b=r=>{if(r.isErr)return r.value;throw r.value},O=(r,e,...t)=>{let l=null,u=null,c=null,$=!1,p=!1;const i=[],m=a=>{for(let s=0;s<a.length;s++)l=a[s],Array.isArray(l)?m(l):l!=null&&typeof l!="boolean"&&(($=typeof r!="function"&&!g(l))&&(l=String(l)),$&&p?i[i.length-1].$text$+=l:i.push($?v(null,l):l),p=$)};if(m(t),e){e.key&&(u=e.key),e.name&&(c=e.name);{const a=e.className||e.class;a&&(e.class=typeof a!="object"?a:Object.keys(a).filter(s=>a[s]).join(" "))}}if(typeof r=="function")return r(e===null?{}:e,i,j);const n=v(r,null);return n.$attrs$=e,i.length>0&&(n.$children$=i),n.$key$=u,n.$name$=c,n},v=(r,e)=>{const t={$flags$:0,$tag$:r,$text$:e,$elm$:null,$children$:null};return t.$attrs$=null,t.$key$=null,t.$name$=null,t},j={forEach:(r,e)=>r.map(y).forEach(e),map:(r,e)=>r.map(y).map(e).map(P)},y=r=>({vattrs:r.$attrs$,vchildren:r.$children$,vkey:r.$key$,vname:r.$name$,vtag:r.$tag$,vtext:r.$text$}),P=r=>{if(typeof r.vtag=="function"){const t={...r.vattrs};return r.vkey&&(t.key=r.vkey),r.vname&&(t.name=r.vname),O(r.vtag,t,...r.vchildren||[])}const e=v(r.vtag,r.vtext);return e.$attrs$=r.vattrs,e.$children$=r.vchildren,e.$key$=r.vkey,e.$name$=r.vname,e};export{O as h};
