@use '../variables' as variables;
@use '../functions' as functions;
@use 'sass:string';

:host {
  display: inline-block;
}

/* Styles */
.mg-c-tag {
  $padding-vertical: calc((var(--mg-c-tag-height) - (2 * var(--mg-b-size-border)) - (var(--mg-c-tag-font-size) * var(--mg-b-line-height))) / 2);
  $padding-horizontal: calc(var(--mg-b-size-w) - var(--mg-b-size-border));

  display: inline-flex;
  min-height: var(--mg-c-tag-height);
  box-sizing: border-box;
  align-items: center;
  padding: $padding-vertical $padding-horizontal;
  border: var(--mg-b-size-border) solid;
  border-radius: var(--mg-c-tag-border-radius);
  font-size: var(--mg-c-tag-font-size);
  font-weight: 600;
  text-align: center;
  vertical-align: middle;

  // Variant
  @each $name, $palette, $index in join(variables.$brands, variables.$semantics) {
    $color: var(--mg-b-color-#{$name});

    @if $palette == 'neutral' {
      $color: var(--mg-b-color-#{$palette}-#{$index});
    }

    &.mg-c-tag--#{$name} {
      border-color: $color;
      background-color: $color;
      color: var(--mg-b-color-#{$name}-text);

      &.mg-c-tag--outline {
        background-color: transparent;
        color: $color;
      }

      &.mg-c-tag--soft {
        border-color: var(--mg-b-color-#{$palette}-#{variables.$palette-index-light});
        background-color: var(--mg-b-color-#{$palette}-#{variables.$palette-index-light});
        color: var(--mg-b-color-dark);
        font-weight: 400;

        ::slotted(mg-icon) {
          @if $name == 'secondary' {
            color: var(--mg-b-color-#{$name}-text);
          } @else {
            color: $color;
          }
        }
      }
    }
  }
}

::slotted(mg-icon) {
  margin-right: var(--mg-b-size-v);
}

slot {
  display: inline-flex;
  align-items: center;
}
